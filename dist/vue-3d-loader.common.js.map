{"version":3,"file":"vue-3d-loader.common.js","mappings":";;;;;;AAAA,iBAAiB,mBAAO,CAAC,GAA0B;AACnD,kBAAkB,mBAAO,CAAC,IAA4B;;AAEtD;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACTA,iBAAiB,mBAAO,CAAC,GAA0B;;AAEnD;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACRA,sBAAsB,mBAAO,CAAC,IAAgC;AAC9D,aAAa,mBAAO,CAAC,EAA4B;AACjD,qBAAqB,6BAAgD;;AAErE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;;;;;;;ACnBA,eAAe,mBAAO,CAAC,GAAwB;;AAE/C;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACTA;AACA;;;;;;;;;ACDa;AACb,0BAA0B,mBAAO,CAAC,IAAkC;AACpE,kBAAkB,mBAAO,CAAC,IAA0B;AACpD,aAAa,mBAAO,CAAC,IAAqB;AAC1C,iBAAiB,mBAAO,CAAC,GAA0B;AACnD,eAAe,mBAAO,CAAC,GAAwB;AAC/C,aAAa,mBAAO,CAAC,IAA+B;AACpD,cAAc,mBAAO,CAAC,GAAsB;AAC5C,kBAAkB,mBAAO,CAAC,IAA4B;AACtD,kCAAkC,mBAAO,CAAC,IAA6C;AACvF,oBAAoB,mBAAO,CAAC,IAA8B;AAC1D,qBAAqB,6BAAgD;AACrE,oBAAoB,mBAAO,CAAC,IAAqC;AACjE,qBAAqB,mBAAO,CAAC,IAAsC;AACnE,qBAAqB,mBAAO,CAAC,IAAsC;AACnE,sBAAsB,mBAAO,CAAC,IAAgC;AAC9D,UAAU,mBAAO,CAAC,IAAkB;AACpC,0BAA0B,mBAAO,CAAC,IAA6B;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,QAAQ,iBAAiB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,gBAAgB;AACxB;AACA;AACA;AACA;AACA;AACA,QAAQ,gBAAgB;AACxB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7LA,sBAAsB,mBAAO,CAAC,IAAgC;AAC9D,sBAAsB,mBAAO,CAAC,IAAgC;AAC9D,wBAAwB,mBAAO,CAAC,IAAmC;;AAEnE,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW,gBAAgB;AACjC;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC/BA,WAAW,mBAAO,CAAC,IAAoC;AACvD,oBAAoB,mBAAO,CAAC,IAA6B;AACzD,eAAe,mBAAO,CAAC,IAAwB;AAC/C,wBAAwB,mBAAO,CAAC,IAAmC;;AAEnE,sBAAsB,yBAAyB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjCA,kBAAkB,mBAAO,CAAC,IAAoC;;AAE9D,6BAA6B;AAC7B;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AWA9wK;MACA8xL,UADA;;MAEAhhB;QACA;QACA;MACA;;IALA,CAXA;IAkBA7nL;MACA6oM,UADA;;MAEAhhB;QACA;QACA;MACA;;IALA,CAlBA;IAyBAznJ;MACAyoK,UADA;;MAEAhhB;QACA;MACA;;IAJA,CAzBA;IA+BAzkL;MACAylM,UADA;;MAEAhhB;QACA;QACA;MACA;;IALA,CA/BA;IAsCA6f;MACAmB,UADA;;MAEAhhB;QACA;MACA;;IAJA,CAtCA;;IA4CA4f;MACA;IACA,CA9CA;;IA+CAF;MACA;IACA,CAjDA;;IAkDAH;MACAyB,UADA;;MAEAhhB;QACA;MACA;;IAJA;EAlDA,CA9JA;EAuNAihB;IACAC;MACA;QACA;UACA;UACA;YACAjxM,+CADA;YAEAC;UAFA;UAIA;QACA,CAPA;MAQA;IACA,CAZA;;IAaA68I;MACA;MACA;IACA,CAhBA;;IAiBAE;MACA;MACA;IACA,CApBA;;IAqBAk0D;MACA;MACA;IACA,CAxBA;;IAyBAC;MACA;MACA;IACA,CA5BA;;IA6BAC;MACA;MACA;IACA,CAhCA;;IAiCAC;MACA;MACA;MACA;MACAh2M;MACAM;MACA;MACA;MACA;MACA;MACA;IACA,CA5CA;;IA6CAwb;MACA;MACA;MACA;MACA;IACA,CAlDA;;IAmDAm6L;MACA;QAAAnzL;QAAAc;QAAAlX;QAAAG;MAAA;MACA;;MACA;QACAiW;MACA;;MACA;QACAA;MACA;;MACA;QACAA;MACA;IACA,CA/DA;;IAgEAozL;MACA;QAAAhmK;QAAAjgC;QAAAqkM;QAAAF;MAAA;MACAlkK;MACAA;MACAA,2BAAAA,KAAAA;MACAA;IACA,CAtEA;;IAuEAu9C;MACA;QACAx9E,IADA;QAEAuP,MAFA;QAGAsD,MAHA;QAIAqxL,YAJA;QAKAD,QALA;QAMAv7G,cANA;QAOAs7G;MAPA,IAQA,IARA;MASAz0L;MACAA;MACA;;MACA;QACA;QACA;QACAA,oBACAm5E,gBADA,EAEAA,gBAFA,EAGAA,gBAHA;;QAKA;UACAn5E,oBACAy0L,gBADA,EAEAA,gBAFA,EAGAA,gBAHA;QAKA;;QACA,IACAt7G,0BACAA,sBADA,IAEAA,sBAHA,EAIA;UACAn5E;QACA;;QACAA,kBAAAA,OAAAA;MACA,CAvBA,MAuBA;QACAA,oBACAm5E,gBADA,EAEAA,gBAFA,EAGAA,gBAHA;;QAKA;UACAn5E,oBACAy0L,gBADA,EAEAA,gBAFA,EAGAA,gBAHA;QAKA;;QAEAz0L;QACAA,cACA,2DADA;MAGA;IACA,CA9HA;;IA+HA22L;MACA;MACA;MACA;QACA;QACA;QACA;;QACA;UACA,cACAC,6DADA;UAEA,kBACAA,2DADA;UAEAzoI,YAAAA,YAAAA;QACA,CANA,MAMA;UACA,cACAyoI,6DADA;UAEA,kBACAA,2DADA;UAEA;UACA;UACAzoI,YAAAA,UAAAA;;UACA;YACAA;UACA;QACA,CAXA,MAWA;UACA,cACAyoI,6DADA;UAEA,kBACAA,2DADA;UAGAzoI,YAAAA,gBAAAA;;UAEA;YACAA;UACA;;UAEA;YACAA;UACA;QACA,CAfA,MAeA;UACA,iBACAyoI,6BACAA,aADA,GAEAA,yBAHA;UAIA,oBACAA,gCACAA,gBADA,GAEAA,4BAHA;UAIA,kBACAA,2DADA;UAGAzoI,YAAAA,eAAAA;;UAEA;YACAA;UACA;QACA;;QACA;UACA;UACA;QACA;MACA,CA1DA;IA2DA,CA7LA;;IA8LA0oI;MACA;QACAjyM;MACA;IACA,CAlMA;;IAmMAgnH;MACA,2BADA,CAEA;;MACA,kBACA,oCACA,aADA,GAEA,+BAHA;;MAIA,uCAPA,CAOA;;MACA;;MACA,yCACAkrF,mBADA,GAEA,cAFA;;MAGA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;QACA;;QACA;UACA;UACA;QACA,CAHA,MAGA;UACA;UACA;YACA;YACA;UACA;;UACA;QACA;MACA,CAdA,MAcA;QACA;QACA;MACA;IACA,CA1OA;;IA2OAC;MACA,iBACA5C,QADA,EAEA;QACA;QACA;QACA;;QACA;UACA;UACA1oE;QACA,CAPA,CAQA;;;QACA;UACA,eACA,wCACA,iBADA,GAEA,mCAHA;;UAIA;YACA;UACA;QACA;;QACA;MACA,CArBA,EAsBA/sI;QACA;QACA;QACA;MACA,CA1BA,EA2BAA;QACA;MACA,CA7BA;IA+BA,CA3QA;;IA4QAs4M;MACA;;MACA;QACAzC;MACA;;MACA;QACAA;MACA;;MACA,aACA,mCACA,YADA,GAEA,8BAHA;;MAIA;MACA;MACA;MACAA;QACAx+K;QACA;QACA;MACA,CAJA;IAKA,CAhSA;;IAiSAs+K;MACA;IACA,CAnSA;;IAoSA4C;MACA,iCADA,CAEA;;MACA;QACA;QACA;MACA;;MACA;MACA;MACA;MACA;IACA,CA/SA;;IAgTAC;MACA;MACA;MACA;MACA;MACA;IACA,CAtTA;;IAuTA/lK;MACA;IACA,CAzTA;;IA0TAgmK;MACA;QACA;MACA;IACA,CA9TA;;IA+TAC;MACA;;MACA;QACA;UACA,IACA,qCACA,uCAFA,EAGA;YACA;YACA;cACA;;cACA;gBACA;gBACA;cACA;;cACA;YACA,CAPA;UAQA,CAbA,MAaA;YACA;UACA;QACA;MACA,CAnBA,CAFA,CAsBA;;;MACA;QACAC;QACA;UACAngD;UACAn3F;QACA,CAHA,EAGA,GAHA;MAIA;;MACAA;IACA,CA9VA;;IA+VAu3I;MACA;MACAh0L;QACA;UACAq7I,mBACA9lJ,OADA,EAEA0+L;YACAtiL;YACAA;UACA,CALA,EAMA,QANA,EAOAunD;YACA;UACA,CATA;QAWA;MACA,CAdA;IAeA;;EAhXA;AAvNA;;AC3BsQ,CAAC,kFAAe,mCAAG,EAAC;;ACA1R;;;;;AEAA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;ACjG0F;AAC3B;AACL;AAC1D,CAAuE;;;AAGvE;AACmG;AACnG,gBAAgB,kBAAU;AAC1B,EAAE,6CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAe;;AClBf;AACA,MAAMjsE,UAAU,GAAG,CAACinM,WAAD,CAAnB,EAEA;;AACA,MAAMC,OAAO,GAAG,UAAUC,GAAV,EAAe;EAC7B;EACAnnM,UAAU,CAACquB,GAAX,CAAe+4K,SAAS,IAAG;IACzBD,GAAG,CAACC,SAAJ,CAAcA,SAAS,CAACxpM,IAAxB,EAA8BwpM,SAA9B;EACD,CAFD;AAGD,CALD;;AAOA,IAAG,OAAOthF,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACqhF,GAA3C,EAA+C;EAC7CD,OAAO,CAACphF,MAAM,CAACqhF,GAAR,CAAP;AACD;;AAED,0CAAe;EACbD,OADa;EAEb,GAAGlnM;AAFU,CAAf;;AChBwB;AACA;AACxB,8CAAe,KAAG;AACI","sources":["webpack://vue-3d-loader/./node_modules/core-js/internals/a-callable.js","webpack://vue-3d-loader/./node_modules/core-js/internals/a-possible-prototype.js","webpack://vue-3d-loader/./node_modules/core-js/internals/add-to-unscopables.js","webpack://vue-3d-loader/./node_modules/core-js/internals/an-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/array-buffer-native.js","webpack://vue-3d-loader/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://vue-3d-loader/./node_modules/core-js/internals/array-includes.js","webpack://vue-3d-loader/./node_modules/core-js/internals/array-iteration-from-last.js","webpack://vue-3d-loader/./node_modules/core-js/internals/classof-raw.js","webpack://vue-3d-loader/./node_modules/core-js/internals/classof.js","webpack://vue-3d-loader/./node_modules/core-js/internals/clear-error-stack.js","webpack://vue-3d-loader/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://vue-3d-loader/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://vue-3d-loader/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/create-property-descriptor.js","webpack://vue-3d-loader/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://vue-3d-loader/./node_modules/core-js/internals/define-built-in.js","webpack://vue-3d-loader/./node_modules/core-js/internals/define-global-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/descriptors.js","webpack://vue-3d-loader/./node_modules/core-js/internals/document-create-element.js","webpack://vue-3d-loader/./node_modules/core-js/internals/engine-user-agent.js","webpack://vue-3d-loader/./node_modules/core-js/internals/engine-v8-version.js","webpack://vue-3d-loader/./node_modules/core-js/internals/enum-bug-keys.js","webpack://vue-3d-loader/./node_modules/core-js/internals/error-stack-installable.js","webpack://vue-3d-loader/./node_modules/core-js/internals/export.js","webpack://vue-3d-loader/./node_modules/core-js/internals/fails.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-apply.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-bind-context.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-bind-native.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-call.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-name.js","webpack://vue-3d-loader/./node_modules/core-js/internals/function-uncurry-this.js","webpack://vue-3d-loader/./node_modules/core-js/internals/get-built-in.js","webpack://vue-3d-loader/./node_modules/core-js/internals/get-method.js","webpack://vue-3d-loader/./node_modules/core-js/internals/global.js","webpack://vue-3d-loader/./node_modules/core-js/internals/has-own-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/hidden-keys.js","webpack://vue-3d-loader/./node_modules/core-js/internals/html.js","webpack://vue-3d-loader/./node_modules/core-js/internals/ie8-dom-define.js","webpack://vue-3d-loader/./node_modules/core-js/internals/indexed-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/inherit-if-required.js","webpack://vue-3d-loader/./node_modules/core-js/internals/inspect-source.js","webpack://vue-3d-loader/./node_modules/core-js/internals/install-error-cause.js","webpack://vue-3d-loader/./node_modules/core-js/internals/internal-state.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-callable.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-forced.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-pure.js","webpack://vue-3d-loader/./node_modules/core-js/internals/is-symbol.js","webpack://vue-3d-loader/./node_modules/core-js/internals/length-of-array-like.js","webpack://vue-3d-loader/./node_modules/core-js/internals/make-built-in.js","webpack://vue-3d-loader/./node_modules/core-js/internals/math-trunc.js","webpack://vue-3d-loader/./node_modules/core-js/internals/native-symbol.js","webpack://vue-3d-loader/./node_modules/core-js/internals/native-weak-map.js","webpack://vue-3d-loader/./node_modules/core-js/internals/normalize-string-argument.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-create.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-define-properties.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-define-property.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-keys-internal.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-keys.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://vue-3d-loader/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://vue-3d-loader/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://vue-3d-loader/./node_modules/core-js/internals/own-keys.js","webpack://vue-3d-loader/./node_modules/core-js/internals/proxy-accessor.js","webpack://vue-3d-loader/./node_modules/core-js/internals/regexp-flags.js","webpack://vue-3d-loader/./node_modules/core-js/internals/require-object-coercible.js","webpack://vue-3d-loader/./node_modules/core-js/internals/shared-key.js","webpack://vue-3d-loader/./node_modules/core-js/internals/shared-store.js","webpack://vue-3d-loader/./node_modules/core-js/internals/shared.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-absolute-index.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-indexed-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-length.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-object.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-offset.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-positive-integer.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-primitive.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-property-key.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-string-tag-support.js","webpack://vue-3d-loader/./node_modules/core-js/internals/to-string.js","webpack://vue-3d-loader/./node_modules/core-js/internals/try-to-string.js","webpack://vue-3d-loader/./node_modules/core-js/internals/uid.js","webpack://vue-3d-loader/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://vue-3d-loader/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://vue-3d-loader/./node_modules/core-js/internals/well-known-symbol.js","webpack://vue-3d-loader/./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.array.at.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.error.cause.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.regexp.flags.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.string.at-alternative.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.typed-array.at.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.typed-array.find-last-index.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.typed-array.find-last.js","webpack://vue-3d-loader/./node_modules/core-js/modules/es.typed-array.set.js","webpack://vue-3d-loader/./node_modules/core-js/modules/esnext.typed-array.find-last-index.js","webpack://vue-3d-loader/./node_modules/core-js/modules/esnext.typed-array.find-last.js","webpack://vue-3d-loader/webpack/bootstrap","webpack://vue-3d-loader/webpack/runtime/define property getters","webpack://vue-3d-loader/webpack/runtime/global","webpack://vue-3d-loader/webpack/runtime/hasOwnProperty shorthand","webpack://vue-3d-loader/webpack/runtime/make namespace object","webpack://vue-3d-loader/webpack/runtime/publicPath","webpack://vue-3d-loader/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?380d","webpack://vue-3d-loader/./node_modules/three/build/three.module.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/libs/stats.module.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/libs/fflate.module.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/curves/NURBSUtils.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/curves/NURBSCurve.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/FBXLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/TGALoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/ColladaLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/OBJLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/DDSLoader.js","webpack://vue-3d-loader/./node_modules/three/src/loaders/LoadingManager.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/PLYLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/STLLoader.js","webpack://vue-3d-loader/./node_modules/three/examples/jsm/loaders/MTLLoader.js","webpack://vue-3d-loader/./src/3dLoader/loadModel.js","webpack://vue-3d-loader/src/3dLoader/vue3dLoader.vue","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?efd1","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?be6b","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue?3098","webpack://vue-3d-loader/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue-3d-loader/./src/3dLoader/vue3dLoader.vue","webpack://vue-3d-loader/./src/index.js","webpack://vue-3d-loader/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","// eslint-disable-next-line es-x/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineProperty = require('../internals/object-define-property').f;\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ findLast, findLastIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_FIND_LAST_INDEX = TYPE == 1;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var index = lengthOfArrayLike(self);\n    var value, result;\n    while (index-- > 0) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (result) switch (TYPE) {\n        case 0: return value; // findLast\n        case 1: return index; // findLastIndex\n      }\n    }\n    return IS_FIND_LAST_INDEX ? -1 : undefined;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.findLast` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLast: createMethod(0),\n  // `Array.prototype.findLastIndex` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLastIndex: createMethod(1)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es-x/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es-x/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es-x/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es-x/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es-x/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es-x/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es-x/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es-x/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.23.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw $RangeError('Wrong offset');\n  return offset;\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $RangeError = RangeError;\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw $RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var STACK_TRACE_LIMIT = 'stackTraceLimit';\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {\n    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);\n    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'Array', proto: true }, {\n  at: function at(index) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : O[k];\n  }\n});\n\naddToUnscopables('at');\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\n\nvar charAt = uncurryThis(''.charAt);\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es-x/no-array-string-prototype-at -- safe\n  return '𠮷'.at(-2) !== '\\uD842';\n});\n\n// `String.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'String', proto: true, forced: FORCED }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : charAt(S, k);\n  }\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\nexportTypedArrayMethod('at', function at(index) {\n  var O = aTypedArray(this);\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n  return (k < 0 || k >= len) ? undefined : O[k];\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLastIndex = require('../internals/array-iteration-from-last').findLastIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLastIndex` method\n// https://github.com/tc39/proposal-array-find-from-last\nexportTypedArrayMethod('findLastIndex', function findLastIndex(predicate /* , thisArg */) {\n  return $findLastIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLast = require('../internals/array-iteration-from-last').findLast;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLast` method\n// https://github.com/tc39/proposal-array-find-from-last\nexportTypedArrayMethod('findLast', function findLast(predicate /* , thisArg */) {\n  return $findLast(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toOffset = require('../internals/to-offset');\nvar toIndexedObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar $set = Int8ArrayPrototype && Int8ArrayPrototype.set;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS = !fails(function () {\n  // eslint-disable-next-line es-x/no-typed-arrays -- required for testing\n  var array = new Uint8ClampedArray(2);\n  call($set, array, { length: 1, 0: 3 }, 1);\n  return array[1] !== 3;\n});\n\n// https://bugs.chromium.org/p/v8/issues/detail?id=11294 and other\nvar TO_OBJECT_BUG = WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS && ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS && fails(function () {\n  var array = new Int8Array(2);\n  array.set(1);\n  array.set('2', 1);\n  return array[0] !== 0 || array[1] !== 2;\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var src = toIndexedObject(arrayLike);\n  if (WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS) return call($set, this, src, offset);\n  var length = this.length;\n  var len = lengthOfArrayLike(src);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, !WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS || TO_OBJECT_BUG);\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.typed-array.find-last-index');\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.typed-array.find-last');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"viewer-container\"},[_c('canvas',{ref:\"canvas\",staticClass:\"viewer-canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @license\n * Copyright 2010-2022 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '142';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\n// Color space string identifiers, matching CSS Color Module Level 4 and WebGPU names where available.\nconst NoColorSpace = '';\nconst SRGBColorSpace = 'srgb';\nconst LinearSRGBColorSpace = 'srgb-linear';\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\nconst _SRGBAFormat = 1035; // fallback for WebGL 1\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [ '00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '0a', '0b', '0c', '0d', '0e', '0f', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '1a', '1b', '1c', '1d', '1e', '1f', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '2a', '2b', '2c', '2d', '2e', '2f', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '3a', '3b', '3c', '3d', '3e', '3f', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '4a', '4b', '4c', '4d', '4e', '4f', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '5a', '5b', '5c', '5d', '5e', '5f', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '6a', '6b', '6c', '6d', '6e', '6f', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '7a', '7b', '7c', '7d', '7e', '7f', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '8a', '8b', '8c', '8d', '8e', '8f', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '9a', '9b', '9c', '9d', '9e', '9f', 'a0', 'a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'a9', 'aa', 'ab', 'ac', 'ad', 'ae', 'af', 'b0', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'b9', 'ba', 'bb', 'bc', 'bd', 'be', 'bf', 'c0', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'c9', 'ca', 'cb', 'cc', 'cd', 'ce', 'cf', 'd0', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8', 'd9', 'da', 'db', 'dc', 'dd', 'de', 'df', 'e0', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8', 'e9', 'ea', 'eb', 'ec', 'ed', 'ee', 'ef', 'f0', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'f9', 'fa', 'fb', 'fc', 'fd', 'fe', 'ff' ];\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toLowerCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toLowerCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidean modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t} else {\n\n\t\treturn 0;\n\n\t}\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s;\n\n\t// Mulberry32 generator\n\n\tlet t = _seed += 0x6D2B79F5;\n\n\tt = Math.imul( t ^ t >>> 15, t | 1 );\n\n\tt ^= t + Math.imul( t ^ t >>> 7, t | 61 );\n\n\treturn ( ( t ^ t >>> 14 ) >>> 0 ) / 4294967296;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nfunction denormalize$1( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn value / 65535.0;\n\n\t\tcase Uint8Array:\n\n\t\t\treturn value / 255.0;\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.max( value / 32767.0, - 1.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.max( value / 127.0, - 1.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nfunction normalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn Math.round( value * 65535.0 );\n\n\t\tcase Uint8Array:\n\n\t\t\treturn Math.round( value * 255.0 );\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.round( value * 32767.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.round( value * 127.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler,\n\tnormalize: normalize,\n\tdenormalize: denormalize$1\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tVector2.prototype.isVector2 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\n\t}\n\n}\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tMatrix3.prototype.isMatrix3 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nfunction arrayNeedsUint32( array ) {\n\n\t// assumes larger values usually on last\n\n\tfor ( let i = array.length - 1; i >= 0; -- i ) {\n\n\t\tif ( array[ i ] > 65535 ) return true;\n\n\t}\n\n\treturn false;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nfunction createElementNS( name ) {\n\n\treturn document.createElementNS( 'http://www.w3.org/1999/xhtml', name );\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\n// JavaScript RGB-to-RGB transforms, defined as\n// FN[InputColorSpace][OutputColorSpace] callback functions.\nconst FN = {\n\t[ SRGBColorSpace ]: { [ LinearSRGBColorSpace ]: SRGBToLinear },\n\t[ LinearSRGBColorSpace ]: { [ SRGBColorSpace ]: LinearToSRGB },\n};\n\nconst ColorManagement = {\n\n\tlegacyMode: true,\n\n\tget workingColorSpace() {\n\n\t\treturn LinearSRGBColorSpace;\n\n\t},\n\n\tset workingColorSpace( colorSpace ) {\n\n\t\tconsole.warn( 'THREE.ColorManagement: .workingColorSpace is readonly.' );\n\n\t},\n\n\tconvert: function ( color, sourceColorSpace, targetColorSpace ) {\n\n\t\tif ( this.legacyMode || sourceColorSpace === targetColorSpace || ! sourceColorSpace || ! targetColorSpace ) {\n\n\t\t\treturn color;\n\n\t\t}\n\n\t\tif ( FN[ sourceColorSpace ] && FN[ sourceColorSpace ][ targetColorSpace ] !== undefined ) {\n\n\t\t\tconst fn = FN[ sourceColorSpace ][ targetColorSpace ];\n\n\t\t\tcolor.r = fn( color.r );\n\t\t\tcolor.g = fn( color.g );\n\t\t\tcolor.b = fn( color.b );\n\n\t\t\treturn color;\n\n\t\t}\n\n\t\tthrow new Error( 'Unsupported color space conversion.' );\n\n\t},\n\n\tfromWorkingColorSpace: function ( color, targetColorSpace ) {\n\n\t\treturn this.convert( color, this.workingColorSpace, targetColorSpace );\n\n\t},\n\n\ttoWorkingColorSpace: function ( color, sourceColorSpace ) {\n\n\t\treturn this.convert( color, sourceColorSpace, this.workingColorSpace );\n\n\t},\n\n};\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _rgb = { r: 0, g: 0, b: 0 };\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction toComponents( source, target ) {\n\n\ttarget.r = source.r;\n\ttarget.g = source.g;\n\ttarget.b = source.b;\n\n\treturn target;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tthis.isColor = true;\n\n\t\tthis.r = 1;\n\t\tthis.g = 1;\n\t\tthis.b = 1;\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex, colorSpace = SRGBColorSpace ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b, colorSpace = LinearSRGBColorSpace ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l, colorSpace = LinearSRGBColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style, colorSpace = SRGBColorSpace ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l, colorSpace );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style, colorSpace );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style, colorSpace = SRGBColorSpace ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex, colorSpace );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\treturn clamp( _rgb.r * 255, 0, 255 ) << 16 ^ clamp( _rgb.g * 255, 0, 255 ) << 8 ^ clamp( _rgb.b * 255, 0, 255 ) << 0;\n\n\t}\n\n\tgetHexString( colorSpace = SRGBColorSpace ) {\n\n\t\treturn ( '000000' + this.getHex( colorSpace ).toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target, colorSpace = LinearSRGBColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\tconst r = _rgb.r, g = _rgb.g, b = _rgb.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetRGB( target, colorSpace = LinearSRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\ttarget.r = _rgb.r;\n\t\ttarget.g = _rgb.g;\n\t\ttarget.b = _rgb.b;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( toComponents( this, _rgb ), colorSpace );\n\n\t\tif ( colorSpace !== SRGBColorSpace ) {\n\n\t\t\t// Requires CSS Color Module Level 4 (https://www.w3.org/TR/css-color-4/).\n\t\t\treturn `color(${ colorSpace } ${ _rgb.r } ${ _rgb.g } ${ _rgb.b })`;\n\n\t\t}\n\n\t\treturn `rgb(${( _rgb.r * 255 ) | 0},${( _rgb.g * 255 ) | 0},${( _rgb.b * 255 ) | 0})`;\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.r;\n\t\tyield this.g;\n\t\tyield this.b;\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = createElementNS( 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n\tstatic sRGBToLinear( image ) {\n\n\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\tconst canvas = createElementNS( 'canvas' );\n\n\t\t\tcanvas.width = image.width;\n\t\t\tcanvas.height = image.height;\n\n\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\tconst imageData = context.getImageData( 0, 0, image.width, image.height );\n\t\t\tconst data = imageData.data;\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] / 255 ) * 255;\n\n\t\t\t}\n\n\t\t\tcontext.putImageData( imageData, 0, 0 );\n\n\t\t\treturn canvas;\n\n\t\t} else if ( image.data ) {\n\n\t\t\tconst data = image.data.slice( 0 );\n\n\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\tif ( data instanceof Uint8Array || data instanceof Uint8ClampedArray ) {\n\n\t\t\t\t\tdata[ i ] = Math.floor( SRGBToLinear( data[ i ] / 255 ) * 255 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// assuming float\n\n\t\t\t\t\tdata[ i ] = SRGBToLinear( data[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: data,\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.' );\n\t\t\treturn image;\n\n\t\t}\n\n\t}\n\n}\n\nclass Source {\n\n\tconstructor( data = null ) {\n\n\t\tthis.isSource = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.data = data;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.images[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.images[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\t\t\tuuid: this.uuid,\n\t\t\turl: ''\n\t\t};\n\n\t\tconst data = this.data;\n\n\t\tif ( data !== null ) {\n\n\t\t\tlet url;\n\n\t\t\tif ( Array.isArray( data ) ) {\n\n\t\t\t\t// cube texture\n\n\t\t\t\turl = [];\n\n\t\t\t\tfor ( let i = 0, l = data.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( data[ i ].isDataTexture ) {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ].image ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\turl.push( serializeImage( data[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// texture\n\n\t\t\t\turl = serializeImage( data );\n\n\t\t\t}\n\n\t\t\toutput.url = url;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.images[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n}\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.from( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tthis.isTexture = true;\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.source = new Source( image );\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t\tthis.isRenderTargetTexture = false; // indicates whether a texture belongs to a render target or not\n\t\tthis.needsPMREMUpdate = false; // indicates whether this texture should be processed by PMREMGenerator or not (only relevant for render target textures)\n\n\t}\n\n\tget image() {\n\n\t\treturn this.source.data;\n\n\t}\n\n\tset image( value ) {\n\n\t\tthis.source.data = value;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.source = source.source;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\timage: this.source.toJSON( meta ).uuid,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) output.userData = this.userData;\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) {\n\n\t\t\tthis.version ++;\n\t\t\tthis.source.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = null;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tVector4.prototype.isVector4 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\t\tyield this.w;\n\n\t}\n\n}\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.isWebGLRenderTarget = true;\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\tconst image = { width: width, height: height, depth: 1 };\n\n\t\tthis.texture = new Texture( image, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.flipY = false;\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t\tthis.samples = options.samples !== undefined ? options.samples : 0;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\t// ensure image object is not shared, see #20328\n\n\t\tconst image = Object.assign( {}, source.texture.image );\n\t\tthis.texture.source = new Source( image );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass DataArrayTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.isDataArrayTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGLArrayRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, depth ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGLArrayRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new DataArrayTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass Data3DTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.isData3DTexture = true;\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nclass WebGL3DRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, depth ) {\n\n\t\tsuper( width, height );\n\n\t\tthis.isWebGL3DRenderTarget = true;\n\n\t\tthis.depth = depth;\n\n\t\tthis.texture = new Data3DTexture( null, width, height, depth );\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t}\n\n}\n\nclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\n\tconstructor( width, height, count, options = {} ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.isWebGLMultipleRenderTargets = true;\n\n\t\tconst texture = this.texture;\n\n\t\tthis.texture = [];\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.texture[ i ] = texture.clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tfor ( let i = 0, il = this.texture.length; i < il; i ++ ) {\n\n\t\t\t\tthis.texture[ i ].image.width = width;\n\t\t\t\tthis.texture[ i ].image.height = height;\n\t\t\t\tthis.texture[ i ].image.depth = depth;\n\n\t\t\t}\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.dispose();\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.set( 0, 0, this.width, this.height );\n\t\tthis.scissor.set( 0, 0, this.width, this.height );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\n\t\tif ( source.depthTexture !== null ) this.depthTexture = source.depthTexture.clone();\n\n\t\tthis.texture.length = 0;\n\n\t\tfor ( let i = 0, il = source.texture.length; i < il; i ++ ) {\n\n\t\t\tthis.texture[ i ] = source.texture[ i ].clone();\n\t\t\tthis.texture[ i ].isRenderTargetTexture = true;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.isQuaternion = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\treturn this.copy( qa ).slerp( qb, t );\n\n\t}\n\n\trandom() {\n\n\t\t// Derived from http://planning.cs.uiuc.edu/node198.html\n\t\t// Note, this source uses w, x, y, z ordering,\n\t\t// so we swap the order below.\n\n\t\tconst u1 = Math.random();\n\t\tconst sqrt1u1 = Math.sqrt( 1 - u1 );\n\t\tconst sqrtu1 = Math.sqrt( u1 );\n\n\t\tconst u2 = 2 * Math.PI * Math.random();\n\n\t\tconst u3 = 2 * Math.PI * Math.random();\n\n\t\treturn this.set(\n\t\t\tsqrt1u1 * Math.cos( u2 ),\n\t\t\tsqrtu1 * Math.sin( u3 ),\n\t\t\tsqrtu1 * Math.cos( u3 ),\n\t\t\tsqrt1u1 * Math.sin( u2 ),\n\t\t);\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._w;\n\n\t}\n\n}\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tVector3.prototype.isVector3 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tsetFromEuler( e ) {\n\n\t\tthis.x = e._x;\n\t\tthis.y = e._y;\n\t\tthis.z = e._z;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\trandomDirection() {\n\n\t\t// Derived from https://mathworld.wolfram.com/SpherePointPicking.html\n\n\t\tconst u = ( Math.random() - 0.5 ) * 2;\n\t\tconst t = Math.random() * Math.PI * 2;\n\t\tconst f = Math.sqrt( 1 - u ** 2 );\n\n\t\tthis.x = f * Math.cos( t );\n\t\tthis.y = f * Math.sin( t );\n\t\tthis.z = u;\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\n\t}\n\n}\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox3 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object, precise = false ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object, precise );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object, precise = false ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( precise && geometry.attributes != undefined && geometry.attributes.position !== undefined ) {\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tfor ( let i = 0, l = position.count; i < l; i ++ ) {\n\n\t\t\t\t\t_vector$b.fromBufferAttribute( position, i ).applyMatrix4( object.matrixWorld );\n\t\t\t\t\tthis.expandByPoint( _vector$b );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t\t}\n\n\t\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\t\tthis.union( _box$3 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ], precise );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$3.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$3, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$3 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the separating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the separating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is separating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t if ( this.center.equals( sphere.center ) === true ) {\n\n\t\t\t _toFarthestPoint.set( 0, 0, 1 ).multiplyScalar( sphere.radius );\n\n\n\t\t} else {\n\n\t\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\t}\n\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tMatrix4.prototype.isMatrix4 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis.isEuler = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order = this._order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order = this._order, update = true ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update === true ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order = this._order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._order;\n\n\t}\n\n\t// @deprecated since r138, 02cf0df1cb4575d5842fef9c85bb5a89fe020d53\n\n\ttoVector3() {\n\n\t\tconsole.error( 'THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead' );\n\n\t}\n\n}\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = ( 1 << channel | 0 ) >>> 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n\tisEnabled( channel ) {\n\n\t\treturn ( this.mask & ( 1 << channel | 0 ) ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = /*@__PURE__*/ new Vector3();\nconst _q1 = /*@__PURE__*/ new Quaternion();\nconst _m1$1 = /*@__PURE__*/ new Matrix4();\nconst _target = /*@__PURE__*/ new Vector3();\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$2 = /*@__PURE__*/ new Quaternion();\n\nconst _xAxis = /*@__PURE__*/ new Vector3( 1, 0, 0 );\nconst _yAxis = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nconst _zAxis = /*@__PURE__*/ new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isObject3D = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tonAfterRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremoveFromParent() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent.remove( this );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\t// Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast( /* raycaster, intersects */ ) {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {},\n\t\t\t\tnodes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isScene ) {\n\n\t\t\tif ( this.background ) {\n\n\t\t\t\tif ( this.background.isColor ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON();\n\n\t\t\t\t} else if ( this.background.isTexture ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON( meta ).uuid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.environment && this.environment.isTexture ) {\n\n\t\t\t\tobject.environment = this.environment.toJSON( meta ).uuid;\n\n\t\t\t}\n\n\t\t} else if ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\t\t\tconst nodes = extractFromCache( meta.nodes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\t\t\tif ( nodes.length > 0 ) output.nodes = nodes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAttributeAndIndices( attribute, i0, i1, i2 ) {\n\n\t\tthis.a.fromBufferAttribute( attribute, i0 );\n\t\tthis.b.fromBufferAttribute( attribute, i1 );\n\t\tthis.c.fromBufferAttribute( attribute, i2 );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nclass Material extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isMaterial = true;\n\n\t\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\n\t\tthis.blending = NormalBlending;\n\t\tthis.side = FrontSide;\n\t\tthis.vertexColors = false;\n\n\t\tthis.opacity = 1;\n\t\tthis.transparent = false;\n\n\t\tthis.blendSrc = SrcAlphaFactor;\n\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\n\t\tthis.depthFunc = LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\n\t\tthis.stencilWriteMask = 0xff;\n\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\tthis.stencilRef = 0;\n\t\tthis.stencilFuncMask = 0xff;\n\t\tthis.stencilFail = KeepStencilOp;\n\t\tthis.stencilZFail = KeepStencilOp;\n\t\tthis.stencilZPass = KeepStencilOp;\n\t\tthis.stencilWrite = false;\n\n\t\tthis.clippingPlanes = null;\n\t\tthis.clipIntersection = false;\n\t\tthis.clipShadows = false;\n\n\t\tthis.shadowSide = null;\n\n\t\tthis.colorWrite = true;\n\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\n\t\tthis.dithering = false;\n\n\t\tthis.alphaToCoverage = false;\n\t\tthis.premultipliedAlpha = false;\n\n\t\tthis.visible = true;\n\n\t\tthis.toneMapped = true;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\n\t\tthis._alphaTest = 0;\n\n\t}\n\n\tget alphaTest() {\n\n\t\treturn this._alphaTest;\n\n\t}\n\n\tset alphaTest( value ) {\n\n\t\tif ( this._alphaTest > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._alphaTest = value;\n\n\t}\n\n\tonBuild( /* shaderobject, renderer */ ) {}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, object, group */ ) {}\n\n\tonBeforeCompile( /* shaderobject, renderer */ ) {}\n\n\tcustomProgramCacheKey() {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t}\n\n\tsetValues( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatibility if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRootObject ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen !== undefined ) data.sheen = this.sheen;\n\t\tif ( this.sheenColor && this.sheenColor.isColor ) data.sheenColor = this.sheenColor.getHex();\n\t\tif ( this.sheenRoughness !== undefined ) data.sheenRoughness = this.sheenRoughness;\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.specularIntensity !== undefined ) data.specularIntensity = this.specularIntensity;\n\t\tif ( this.specularColor && this.specularColor.isColor ) data.specularColor = this.specularColor.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.iridescence !== undefined ) data.iridescence = this.iridescence;\n\t\tif ( this.iridescenceIOR !== undefined ) data.iridescenceIOR = this.iridescenceIOR;\n\t\tif ( this.iridescenceThicknessRange !== undefined ) data.iridescenceThicknessRange = this.iridescenceThicknessRange;\n\n\t\tif ( this.iridescenceMap && this.iridescenceMap.isTexture ) {\n\n\t\t\tdata.iridescenceMap = this.iridescenceMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture ) {\n\n\t\t\tdata.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\tif ( this.specularIntensityMap && this.specularIntensityMap.isTexture ) data.specularIntensityMap = this.specularIntensityMap.toJSON( meta ).uuid;\n\t\tif ( this.specularColorMap && this.specularColorMap.isTexture ) data.specularColorMap = this.specularColorMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.transmission !== undefined ) data.transmission = this.transmission;\n\t\tif ( this.transmissionMap && this.transmissionMap.isTexture ) data.transmissionMap = this.transmissionMap.toJSON( meta ).uuid;\n\t\tif ( this.thickness !== undefined ) data.thickness = this.thickness;\n\t\tif ( this.thicknessMap && this.thicknessMap.isTexture ) data.thicknessMap = this.thicknessMap.toJSON( meta ).uuid;\n\t\tif ( this.attenuationDistance !== undefined ) data.attenuationDistance = this.attenuationDistance;\n\t\tif ( this.attenuationColor !== undefined ) data.attenuationColor = this.attenuationColor.getHex();\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== undefined && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== undefined && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( this.fog === false ) data.fog = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshBasicMaterial = true;\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.isBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.fromBufferAttribute( this, i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.from( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t\tthis.isFloat16BufferAttribute = true;\n\n\t}\n\n}\n\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nlet _id$1 = 0;\n\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _obj = /*@__PURE__*/ new Object3D();\nconst _offset = /*@__PURE__*/ new Vector3();\nconst _box$1 = /*@__PURE__*/ new Box3();\nconst _boxMorphTargets = /*@__PURE__*/ new Box3();\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBufferGeometry = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _id$1 ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayNeedsUint32( index ) ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\t_m1.makeRotationFromQuaternion( q );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( this.hasAttribute( 'tangent' ) === false ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = this.getAttribute( 'tangent' ).array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\tindex = indices[ i ] * attribute.data.stride + attribute.offset;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t return new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\t// geometry generator parameters\n\n\t\tif ( source.parameters !== undefined ) this.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isMesh = true;\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tconst index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\tconst uv = geometry.attributes.uv;\n\t\tconst uv2 = geometry.attributes.uv2;\n\t\tconst groups = geometry.groups;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\tif ( index !== null ) {\n\n\t\t\t// indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\t// non-indexed buffer geometry\n\n\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) ) );\n\n\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\tconst a = i;\n\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new BoxGeometry( data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments );\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShaderMaterial = true;\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isCamera = true;\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isPerspectiveCamera = true;\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst currentToneMapping = renderer.toneMapping;\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.toneMapping = currentToneMapping;\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t\trenderTarget.texture.needsPMREMUpdate = true;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCubeTexture = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options = {} ) {\n\n\t\tsuper( size, size, options );\n\n\t\tthis.isWebGLCubeRenderTarget = true;\n\n\t\tconst image = { width: size, height: size, depth: 1 };\n\t\tconst images = [ image, image, image, image, image, image ];\n\n\t\tthis.texture = new CubeTexture( images, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\tthis.isPlane = true;\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else if ( array instanceof Uint8ClampedArray ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.WebGLAttributes: Unsupported buffer data format: ' + array );\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PlaneGeometry( data.width, data.height, data.widthSegments, data.heightSegments );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\";\n\nvar alphatest_pars_fragment = \"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\\n    float x2 = x * x;\\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\n#ifdef USE_IRIDESCENCE\\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\n#endif\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float dotNH ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tfloat invAlpha = 1.0 / alpha;\\n\\tfloat cos2h = dotNH * dotNH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float dotNV, float dotNL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\\n}\\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat D = D_Charlie( sheenRoughness, dotNH );\\n\\tfloat V = V_Neubelt( dotNV, dotNL );\\n\\treturn sheenColor * ( D * V );\\n}\\n#endif\";\n\nvar iridescence_fragment = \"#ifdef USE_IRIDESCENCE\\nconst mat3 XYZ_TO_REC709 = mat3(\\n    3.2404542, -0.9692660,  0.0556434,\\n   -1.5371385,  1.8760108, -0.2040259,\\n   -0.4985314,  0.0415560,  1.0572252\\n);\\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\\n   vec3 sqrtF0 = sqrt( fresnel0 );\\n   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\\n}\\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\\n   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\\n}\\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\\n   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\\n}\\nvec3 evalSensitivity( float OPD, vec3 shift ) {\\n   float phase = 2.0 * PI * OPD * 1.0e-9;\\n   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\\n   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\\n   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\\n   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\\n   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\\n   xyz /= 1.0685e-7;\\n   vec3 srgb = XYZ_TO_REC709 * xyz;\\n   return srgb;\\n}\\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\\n   vec3 I;\\n   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\\n   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\\n   float cosTheta2Sq = 1.0 - sinTheta2Sq;\\n   if ( cosTheta2Sq < 0.0 ) {\\n       return vec3( 1.0 );\\n   }\\n   float cosTheta2 = sqrt( cosTheta2Sq );\\n   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\\n   float R12 = F_Schlick( R0, 1.0, cosTheta1 );\\n   float R21 = R12;\\n   float T121 = 1.0 - R12;\\n   float phi12 = 0.0;\\n   if ( iridescenceIOR < outsideIOR ) phi12 = PI;\\n   float phi21 = PI - phi12;\\n   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\\n   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\\n   vec3 phi23 = vec3( 0.0 );\\n   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\\n   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\\n   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\\n   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\\n   vec3 phi = vec3( phi21 ) + phi23;\\n   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\\n   vec3 r123 = sqrt( R123 );\\n   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\\n   vec3 C0 = R12 + Rs;\\n   I = C0;\\n   vec3 Cm = Rs - T121;\\n   for ( int m = 1; m <= 2; ++m ) {\\n       Cm *= r123;\\n       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\\n       I += Cm * Sm;\\n   }\\n   return max( I, vec3( 0.0 ) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nvec3 pow2( const in vec3 x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\\n\\t\\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\\n\\t\\tuv.x *= CUBEUV_TEXEL_WIDTH;\\n\\t\\tuv.y *= CUBEUV_TEXEL_HEIGHT;\\n\\t\\t#ifdef texture2DGradEXT\\n\\t\\t\\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( envMap, uv ).rgb;\\n\\t\\t#endif\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"vec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn vec3( texture2D( gradientMap, coord ).r );\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\\n\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#else\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\\n\\t\\tfloat dotNL = dot( normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\tvec3 getIBLIrradiance( const in vec3 normal ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec = reflect( - viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\t#ifdef SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularColorFactor = specularColor;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\t\\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularColorFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tmaterial.iridescence = iridescence;\\n\\tmaterial.iridescenceIOR = iridescenceIOR;\\n\\t#ifdef USE_IRIDESCENCEMAP\\n\\t\\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\t\\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\\n\\t#else\\n\\t\\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\\n\\t#endif\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheenColor;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\\n\\t#endif\\n\\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\\n\\t#endif\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tfloat iridescence;\\n\\t\\tfloat iridescenceIOR;\\n\\t\\tfloat iridescenceThickness;\\n\\t\\tvec3 iridescenceFresnel;\\n\\t\\tvec3 iridescenceF0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenColor;\\n\\t\\tfloat sheenRoughness;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec3 sheenSpecular = vec3( 0.0 );\\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat r2 = roughness * roughness;\\n\\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\\n\\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\\n\\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\\n\\treturn saturate( DG * RECIPROCAL_PI );\\n}\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\n#ifdef USE_IRIDESCENCE\\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#else\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#endif\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\\n\\t#else\\n\\t\\tvec3 Fr = specularColor;\\n\\t#endif\\n\\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\\n\\t#else\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\\n\\t#else\\n\\t\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\t#endif\\n\\tvec3 totalScattering = singleScattering + multiScattering;\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\n#ifdef USE_IRIDESCENCE\\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\\nif ( material.iridescenceThickness == 0.0 ) {\\n\\tmaterial.iridescence = 0.0;\\n} else {\\n\\tmaterial.iridescence = saturate( material.iridescence );\\n}\\nif ( material.iridescence > 0.0 ) {\\n\\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\\n\\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\\n}\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry.normal );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 sampledDiffuseColor = texture2D( map, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\\n\\t#endif\\n\\tdiffuseColor *= sampledDiffuseColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tdiffuseColor *= texture2D( map, uv );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphcolor_vertex = \"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\\n\\tvColor *= morphTargetBaseInfluence;\\n\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t#if defined( USE_COLOR_ALPHA )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\\n\\t\\t#elif defined( USE_COLOR )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\t\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\t\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\t\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\\n\\t\\tuniform sampler2DArray morphTargetsTexture;\\n\\t\\tuniform ivec2 morphTargetsTextureSize;\\n\\t\\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\\n\\t\\t\\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\\n\\t\\t\\tint y = texelIndex / morphTargetsTextureSize.x;\\n\\t\\t\\tint x = texelIndex - y * morphTargetsTextureSize.x;\\n\\t\\t\\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\\n\\t\\t\\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\\n\\t\\t}\\n\\t#else\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t\\t#else\\n\\t\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\t\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\t\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\t\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normal_pars_fragment = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_pars_vertex = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_vertex = \"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar iridescence_pars_fragment = \"#ifdef USE_IRIDESCENCEMAP\\n\\tuniform sampler2D iridescenceMap;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tuniform sampler2D iridescenceThicknessMap;\\n#endif\";\n\nvar output_fragment = \"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\tuniform highp sampler2D boneTexture;\\n\\tuniform int boneTextureSize;\\n\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\tfloat j = i * 4.0;\\n\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\ty = dy * ( y + 0.5 );\\n\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\treturn bone;\\n\\t}\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tfloat transmissionAlpha = 1.0;\\n\\tfloat transmissionFactor = transmission;\\n\\tfloat thicknessFactor = thickness;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\\n\\t\\tattenuationColor, attenuationDistance );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\\n\\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\\n#endif\";\n\nvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\\n\\t\\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\t#ifdef texture2DLodEXT\\n\\t\\t\\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tif ( attenuationDistance == 0.0 ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\\n\\t\\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\\n\\t\\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\\n\\t\\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nconst vertex$g = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nconst fragment$g = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tgl_FragColor = texture2D( t2D, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\\n\\t#endif\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$f = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nconst fragment$f = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$e = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nconst fragment$e = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nconst vertex$d = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nconst fragment$d = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nconst vertex$c = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nconst fragment$c = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nconst vertex$b = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$b = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$a = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$a = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$9 = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$9 = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$8 = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nconst fragment$8 = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$7 = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$7 = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n\\t#ifdef OPAQUE\\n\\t\\tgl_FragColor.a = 1.0;\\n\\t#endif\\n}\";\n\nconst vertex$6 = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$6 = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$5 = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\";\n\nconst fragment$5 = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularColor;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\tuniform sampler2D specularColorMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tuniform float iridescence;\\n\\tuniform float iridescenceIOR;\\n\\tuniform float iridescenceThicknessMinimum;\\n\\tuniform float iridescenceThicknessMaximum;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenColor;\\n\\tuniform float sheenRoughness;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tuniform sampler2D sheenColorMap;\\n\\t#endif\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tuniform sampler2D sheenRoughnessMap;\\n\\t#endif\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <iridescence_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <iridescence_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_SHEEN\\n\\t\\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\\n\\t\\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$4 = \"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$4 = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nconst vertex$3 = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$3 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nconst vertex$2 = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$2 = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst vertex$1 = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst fragment$1 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\talphatest_pars_fragment: alphatest_pars_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tiridescence_fragment: iridescence_fragment,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphcolor_vertex: morphcolor_vertex,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormal_pars_fragment: normal_pars_fragment,\n\tnormal_pars_vertex: normal_pars_vertex,\n\tnormal_vertex: normal_vertex,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tiridescence_pars_fragment: iridescence_pars_fragment,\n\toutput_fragment: output_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmission_fragment: transmission_fragment,\n\ttransmission_pars_fragment: transmission_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_vert: vertex$g,\n\tbackground_frag: fragment$g,\n\tcube_vert: vertex$f,\n\tcube_frag: fragment$f,\n\tdepth_vert: vertex$e,\n\tdepth_frag: fragment$e,\n\tdistanceRGBA_vert: vertex$d,\n\tdistanceRGBA_frag: fragment$d,\n\tequirect_vert: vertex$c,\n\tequirect_frag: fragment$c,\n\tlinedashed_vert: vertex$b,\n\tlinedashed_frag: fragment$b,\n\tmeshbasic_vert: vertex$a,\n\tmeshbasic_frag: fragment$a,\n\tmeshlambert_vert: vertex$9,\n\tmeshlambert_frag: fragment$9,\n\tmeshmatcap_vert: vertex$8,\n\tmeshmatcap_frag: fragment$8,\n\tmeshnormal_vert: vertex$7,\n\tmeshnormal_frag: fragment$7,\n\tmeshphong_vert: vertex$6,\n\tmeshphong_frag: fragment$6,\n\tmeshphysical_vert: vertex$5,\n\tmeshphysical_frag: fragment$5,\n\tmeshtoon_vert: vertex$4,\n\tmeshtoon_frag: fragment$4,\n\tpoints_vert: vertex$3,\n\tpoints_frag: fragment$3,\n\tshadow_vert: vertex$2,\n\tshadow_frag: fragment$2,\n\tsprite_vert: vertex$1,\n\tsprite_frag: fragment$1\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\tuv2Transform: { value: /*@__PURE__*/ new Matrix3() },\n\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 }\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 }, // basic, lambert, phong\n\t\tior: { value: 1.5 }, // physical\n\t\trefractionRatio: { value: 0.98 } // basic, lambert, phong\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: /*@__PURE__*/ new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: /*@__PURE__*/ new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: /*@__PURE__*/ new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: /*@__PURE__*/ new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: /*@__PURE__*/ new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshnormal_vert,\n\t\tfragmentShader: ShaderChunk.meshnormal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: /*@__PURE__*/ new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\n\tcube: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: /*@__PURE__*/ new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: /*@__PURE__*/ new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: /*@__PURE__*/ mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: /*@__PURE__*/ new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tiridescence: { value: 0 },\n\t\t\tiridescenceMap: { value: null },\n\t\t\tiridescenceIOR: { value: 1.3 },\n\t\t\tiridescenceThicknessMinimum: { value: 100 },\n\t\t\tiridescenceThicknessMaximum: { value: 400 },\n\t\t\tiridescenceThicknessMap: { value: null },\n\t\t\tsheen: { value: 0 },\n\t\t\tsheenColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tsheenColorMap: { value: null },\n\t\t\tsheenRoughness: { value: 1 },\n\t\t\tsheenRoughnessMap: { value: null },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t\ttransmissionSamplerSize: { value: /*@__PURE__*/ new Vector2() },\n\t\t\ttransmissionSamplerMap: { value: null },\n\t\t\tthickness: { value: 0 },\n\t\t\tthicknessMap: { value: null },\n\t\t\tattenuationDistance: { value: 0 },\n\t\t\tattenuationColor: { value: /*@__PURE__*/ new Color( 0x000000 ) },\n\t\t\tspecularIntensity: { value: 1 },\n\t\t\tspecularIntensityMap: { value: null },\n\t\t\tspecularColor: { value: /*@__PURE__*/ new Color( 1, 1, 1 ) },\n\t\t\tspecularColorMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, alpha, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = alpha === true ? 0 : 1;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene ) {\n\n\t\tlet forceClear = false;\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tboxMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\tplaneMesh.layers.enableAll();\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\tlet forceUpdate = false;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( object, geometry, program, index );\n\n\t\t\tif ( updateBuffers ) saveCache( object, geometry, program, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers || forceUpdate ) {\n\n\t\t\tforceUpdate = false;\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( object, geometry, program, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tconst cachedAttribute = cachedAttributes[ name ];\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\t\tif ( geometryAttribute && cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( object, geometry, program, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet attribute = attributes[ name ];\n\n\t\t\t\tif ( attribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) attribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) attribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tconst data = {};\n\t\t\t\tdata.attribute = attribute;\n\n\t\t\t\tif ( attribute && attribute.data ) {\n\n\t\t\t\t\tdata.data = attribute.data;\n\n\t\t\t\t}\n\n\t\t\t\tcache[ name ] = data;\n\n\t\t\t\tattributesNum ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, data.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tstride * bytesPerElement,\n\t\t\t\t\t\t\t\t( offset + ( size / programAttribute.locationSize ) * i ) * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tsize * bytesPerElement,\n\t\t\t\t\t\t\t\t( size / programAttribute.locationSize ) * i * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute.location, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\t\tforceUpdate = true;\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatibility\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst drawBuffers = isWebGL2 || extensions.has( 'WEBGL_draw_buffers' );\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tdrawBuffers: drawBuffers,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.isOrthographicCamera = true;\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._lodMax = 0;\n\t\tthis._cubeSize = 0;\n\t\tthis._lodPlanes = [];\n\t\tthis._sizeLods = [];\n\t\tthis._sigmas = [];\n\n\t\tthis._blurMaterial = null;\n\t\tthis._cubemapMaterial = null;\n\t\tthis._equirectMaterial = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tthis._setSize( 256 );\n\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\t\tcubeUVRenderTarget.depthBuffer = true;\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * or HDR. The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular, renderTarget = null ) {\n\n\t\treturn this._fromTexture( equirectangular, renderTarget );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * or HDR. The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap, renderTarget = null ) {\n\n\t\treturn this._fromTexture( cubemap, renderTarget );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\t\t\tthis._compileMaterial( this._cubemapMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\t\t\tthis._compileMaterial( this._equirectMaterial );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._dispose();\n\n\t\tif ( this._cubemapMaterial !== null ) this._cubemapMaterial.dispose();\n\t\tif ( this._equirectMaterial !== null ) this._equirectMaterial.dispose();\n\n\t}\n\n\t// private interface\n\n\t_setSize( cubeSize ) {\n\n\t\tthis._lodMax = Math.floor( Math.log2( cubeSize ) );\n\t\tthis._cubeSize = Math.pow( 2, this._lodMax );\n\n\t}\n\n\t_dispose() {\n\n\t\tif ( this._blurMaterial !== null ) this._blurMaterial.dispose();\n\n\t\tif ( this._pingPongRenderTarget !== null ) this._pingPongRenderTarget.dispose();\n\n\t\tfor ( let i = 0; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tthis._lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture, renderTarget ) {\n\n\t\tif ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping ) {\n\n\t\t\tthis._setSize( texture.image.length === 0 ? 16 : ( texture.image[ 0 ].width || texture.image[ 0 ].image.width ) );\n\n\t\t} else { // Equirectangular\n\n\t\t\tthis._setSize( texture.image.width / 4 );\n\n\t\t}\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\tconst cubeUVRenderTarget = renderTarget || this._allocateTargets();\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets() {\n\n\t\tconst width = 3 * Math.max( this._cubeSize, 16 * 7 );\n\t\tconst height = 4 * this._cubeSize;\n\n\t\tconst params = {\n\t\t\tmagFilter: LinearFilter,\n\t\t\tminFilter: LinearFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: HalfFloatType,\n\t\t\tformat: RGBAFormat,\n\t\t\tencoding: LinearEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( width, height, params );\n\n\t\tif ( this._pingPongRenderTarget === null || this._pingPongRenderTarget.width !== width ) {\n\n\t\t\tif ( this._pingPongRenderTarget !== null ) {\n\n\t\t\t\tthis._dispose();\n\n\t\t\t}\n\n\t\t\tthis._pingPongRenderTarget = _createRenderTarget( width, height, params );\n\n\t\t\tconst { _lodMax } = this;\n\t\t\t( { sizeLods: this._sizeLods, lodPlanes: this._lodPlanes, sigmas: this._sigmas } = _createPlanes( _lodMax ) );\n\n\t\t\tthis._blurMaterial = _getBlurShader( _lodMax, width, height );\n\n\t\t}\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( this._lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.autoClear = false;\n\n\t\tconst backgroundMaterial = new MeshBasicMaterial( {\n\t\t\tname: 'PMREM.Background',\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false,\n\t\t\tdepthTest: false,\n\t\t} );\n\n\t\tconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background );\n\t\t\t\tscene.background = null;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor );\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\n\t\t\tif ( col === 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col === 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\tconst size = this._cubeSize;\n\n\t\t\t_setViewport( cubeUVRenderTarget, col * size, i > 2 ? size : 0, size, size );\n\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\tbackgroundBox.geometry.dispose();\n\t\tbackgroundBox.material.dispose();\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.autoClear = originalAutoClear;\n\t\tscene.background = background;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tconst isCubeTexture = ( texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping );\n\n\t\tif ( isCubeTexture ) {\n\n\t\t\tif ( this._cubemapMaterial === null ) {\n\n\t\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\n\t\t\t}\n\n\t\t\tthis._cubemapMaterial.uniforms.flipEnvMap.value = ( texture.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t} else {\n\n\t\t\tif ( this._equirectMaterial === null ) {\n\n\t\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = isCubeTexture ? this._cubemapMaterial : this._equirectMaterial;\n\t\tconst mesh = new Mesh( this._lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tconst size = this._cubeSize;\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * size, 2 * size );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < this._lodPlanes.length; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( this._sigmas[ i ] * this._sigmas[ i ] - this._sigmas[ i - 1 ] * this._sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( this._lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = this._sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tconst { _lodMax } = this;\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = _lodMax - lodIn;\n\n\t\tconst outputSize = this._sizeLods[ lodOut ];\n\t\tconst x = 3 * outputSize * ( lodOut > _lodMax - LOD_MIN ? lodOut - _lodMax + LOD_MIN : 0 );\n\t\tconst y = 4 * ( this._cubeSize - outputSize );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\n\n\nfunction _createPlanes( lodMax ) {\n\n\tconst lodPlanes = [];\n\tconst sizeLods = [];\n\tconst sigmas = [];\n\n\tlet lod = lodMax;\n\n\tconst totalLods = lodMax - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n\tfor ( let i = 0; i < totalLods; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\tsizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > lodMax - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - lodMax + LOD_MIN - 1 ];\n\n\t\t} else if ( i === 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\tsigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 2 );\n\t\tconst min = - texelSize;\n\t\tconst max = 1 + texelSize;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\tlodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { lodPlanes, sizeLods, sigmas };\n\n}\n\nfunction _createRenderTarget( width, height, params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( width, height, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( lodMax, width, height ) {\n\n\tconst weights = new Float32Array( MAX_SAMPLES );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new ShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: {\n\t\t\t'n': MAX_SAMPLES,\n\t\t\t'CUBEUV_TEXEL_WIDTH': 1.0 / width,\n\t\t\t'CUBEUV_TEXEL_HEIGHT': 1.0 / height,\n\t\t\t'CUBEUV_MAX_MIP': `${lodMax}.0`,\n\t\t},\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCubemapMaterial() {\n\n\treturn new ShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'flipEnvMap': { value: - 1 }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction WebGLCubeUVMaps( renderer ) {\n\n\tlet cubeUVmaps = new WeakMap();\n\n\tlet pmremGenerator = null;\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tconst isEquirectMap = ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping );\n\t\t\tconst isCubeMap = ( mapping === CubeReflectionMapping || mapping === CubeRefractionMapping );\n\n\t\t\t// equirect/cube map to cubeUV conversion\n\n\t\t\tif ( isEquirectMap || isCubeMap ) {\n\n\t\t\t\tif ( texture.isRenderTargetTexture && texture.needsPMREMUpdate === true ) {\n\n\t\t\t\t\ttexture.needsPMREMUpdate = false;\n\n\t\t\t\t\tlet renderTarget = cubeUVmaps.get( texture );\n\n\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\trenderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture, renderTarget ) : pmremGenerator.fromCubemap( texture, renderTarget );\n\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cubeUVmaps.has( texture ) ) {\n\n\t\t\t\t\t\treturn cubeUVmaps.get( texture ).texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\tif ( ( isEquirectMap && image && image.height > 0 ) || ( isCubeMap && image && isCubeTextureComplete( image ) ) ) {\n\n\t\t\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture ) : pmremGenerator.fromCubemap( texture );\n\t\t\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction isCubeTextureComplete( image ) {\n\n\t\tlet count = 0;\n\t\tconst length = 6;\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tif ( image[ i ] !== undefined ) count ++;\n\n\t\t}\n\n\t\treturn count === length;\n\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemapUV = cubeUVmaps.get( texture );\n\n\t\tif ( cubemapUV !== undefined ) {\n\n\t\t\tcubeUVmaps.delete( texture );\n\t\t\tcubemapUV.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubeUVmaps = new WeakMap();\n\n\t\tif ( pmremGenerator !== null ) {\n\n\t\t\tpmremGenerator.dispose();\n\t\t\tpmremGenerator = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\t\t\tgetExtension( 'WEBGL_multisampled_render_to_texture' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayNeedsUint32( indices ) ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction denormalize( morph, attribute ) {\n\n\tlet denominator = 1;\n\tconst array = attribute.isInterleavedBufferAttribute ? attribute.data.array : attribute.array;\n\n\tif ( array instanceof Int8Array ) denominator = 127;\n\telse if ( array instanceof Uint8Array ) denominator = 255;\n\telse if ( array instanceof Uint16Array ) denominator = 65535;\n\telse if ( array instanceof Int16Array ) denominator = 32767;\n\telse if ( array instanceof Int32Array ) denominator = 2147483647;\n\telse console.error( 'THREE.WebGLMorphtargets: Unsupported morph attribute data type: ', array );\n\n\tmorph.divideScalar( denominator );\n\n}\n\nfunction WebGLMorphtargets( gl, capabilities, textures ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\tconst morphTextures = new WeakMap();\n\tconst morph = new Vector4();\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\tif ( capabilities.isWebGL2 === true ) {\n\n\t\t\t// instead of using attributes, the WebGL 2 code path encodes morph targets\n\t\t\t// into an array of data textures. Each layer represents a single morph target.\n\n\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\t\tlet entry = morphTextures.get( geometry );\n\n\t\t\tif ( entry === undefined || entry.count !== morphTargetsCount ) {\n\n\t\t\t\tif ( entry !== undefined ) entry.texture.dispose();\n\n\t\t\t\tconst hasMorphPosition = geometry.morphAttributes.position !== undefined;\n\t\t\t\tconst hasMorphNormals = geometry.morphAttributes.normal !== undefined;\n\t\t\t\tconst hasMorphColors = geometry.morphAttributes.color !== undefined;\n\n\t\t\t\tconst morphTargets = geometry.morphAttributes.position || [];\n\t\t\t\tconst morphNormals = geometry.morphAttributes.normal || [];\n\t\t\t\tconst morphColors = geometry.morphAttributes.color || [];\n\n\t\t\t\tlet vertexDataCount = 0;\n\n\t\t\t\tif ( hasMorphPosition === true ) vertexDataCount = 1;\n\t\t\t\tif ( hasMorphNormals === true ) vertexDataCount = 2;\n\t\t\t\tif ( hasMorphColors === true ) vertexDataCount = 3;\n\n\t\t\t\tlet width = geometry.attributes.position.count * vertexDataCount;\n\t\t\t\tlet height = 1;\n\n\t\t\t\tif ( width > capabilities.maxTextureSize ) {\n\n\t\t\t\t\theight = Math.ceil( width / capabilities.maxTextureSize );\n\t\t\t\t\twidth = capabilities.maxTextureSize;\n\n\t\t\t\t}\n\n\t\t\t\tconst buffer = new Float32Array( width * height * 4 * morphTargetsCount );\n\n\t\t\t\tconst texture = new DataArrayTexture( buffer, width, height, morphTargetsCount );\n\t\t\t\ttexture.type = FloatType;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t// fill buffer\n\n\t\t\t\tconst vertexDataStride = vertexDataCount * 4;\n\n\t\t\t\tfor ( let i = 0; i < morphTargetsCount; i ++ ) {\n\n\t\t\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\t\t\tconst morphNormal = morphNormals[ i ];\n\t\t\t\t\tconst morphColor = morphColors[ i ];\n\n\t\t\t\t\tconst offset = width * height * 4 * i;\n\n\t\t\t\t\tfor ( let j = 0; j < morphTarget.count; j ++ ) {\n\n\t\t\t\t\t\tconst stride = j * vertexDataStride;\n\n\t\t\t\t\t\tif ( hasMorphPosition === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphTarget, j );\n\n\t\t\t\t\t\t\tif ( morphTarget.normalized === true ) denormalize( morph, morphTarget );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 0 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 1 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 2 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 3 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphNormals === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphNormal, j );\n\n\t\t\t\t\t\t\tif ( morphNormal.normalized === true ) denormalize( morph, morphNormal );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 4 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 5 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 6 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 7 ] = 0;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( hasMorphColors === true ) {\n\n\t\t\t\t\t\t\tmorph.fromBufferAttribute( morphColor, j );\n\n\t\t\t\t\t\t\tif ( morphColor.normalized === true ) denormalize( morph, morphColor );\n\n\t\t\t\t\t\t\tbuffer[ offset + stride + 8 ] = morph.x;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 9 ] = morph.y;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 10 ] = morph.z;\n\t\t\t\t\t\t\tbuffer[ offset + stride + 11 ] = ( morphColor.itemSize === 4 ) ? morph.w : 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tentry = {\n\t\t\t\t\tcount: morphTargetsCount,\n\t\t\t\t\ttexture: texture,\n\t\t\t\t\tsize: new Vector2( width, height )\n\t\t\t\t};\n\n\t\t\t\tmorphTextures.set( geometry, entry );\n\n\t\t\t\tfunction disposeTexture() {\n\n\t\t\t\t\ttexture.dispose();\n\n\t\t\t\t\tmorphTextures.delete( geometry );\n\n\t\t\t\t\tgeometry.removeEventListener( 'dispose', disposeTexture );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addEventListener( 'dispose', disposeTexture );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < objectInfluences.length; i ++ ) {\n\n\t\t\t\tmorphInfluencesSum += objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', objectInfluences );\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTexture', entry.texture, textures );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetsTextureSize', entry.size );\n\n\n\t\t} else {\n\n\t\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\t\tlet influences = influencesList[ geometry.id ];\n\n\t\t\tif ( influences === undefined || influences.length !== length ) {\n\n\t\t\t\t// initialise list\n\n\t\t\t\tinfluences = [];\n\n\t\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t\t}\n\n\t\t\t// Collect influences\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tconst influence = influences[ i ];\n\n\t\t\t\tinfluence[ 0 ] = i;\n\t\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t\t}\n\n\t\t\tinfluences.sort( absNumericalSort );\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tworkInfluences.sort( numericalSort );\n\n\t\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\t\tconst morphNormals = geometry.morphAttributes.normal;\n\n\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\t\tconst influence = workInfluences[ i ];\n\t\t\t\tconst index = influence[ 0 ];\n\t\t\t\tconst value = influence[ 1 ];\n\n\t\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = /*@__PURE__*/ new Texture();\nconst emptyArrayTexture = /*@__PURE__*/ new DataArrayTexture();\nconst empty3dTexture = /*@__PURE__*/ new Data3DTexture();\nconst emptyCubeTexture = /*@__PURE__*/ new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || empty3dTexture, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyArrayTexture, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / 3D / Cube / 2DArray)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT3DArray( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture3D( v[ i ] || empty3dTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT2DArrayArray( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.setTexture2DArray( v[ i ] || emptyArrayTexture, units[ i ] );\n\n\t}\n\n}\n\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3DArray;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArrayArray;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nclass SingleUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass PureArrayUniform {\n\n\tconstructor( id, activeInfo, addr ) {\n\n\t\tthis.id = id;\n\t\tthis.addr = addr;\n\t\tthis.cache = [];\n\t\tthis.size = activeInfo.size;\n\t\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t\t// this.path = activeInfo.name; // DEBUG\n\n\t}\n\n}\n\nclass StructuredUniform {\n\n\tconstructor( id ) {\n\n\t\tthis.id = id;\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t}\n\n\tsetValue( gl, value, textures ) {\n\n\t\tconst seq = this.seq;\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t\t}\n\n\t}\n\n}\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nclass WebGLUniforms {\n\n\tconstructor( gl, program ) {\n\n\t\tthis.seq = [];\n\t\tthis.map = {};\n\n\t\tconst n = gl.getProgramParameter( program, 35718 );\n\n\t\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\t\tparseUniform( info, addr, this );\n\n\t\t}\n\n\t}\n\n\tsetValue( gl, name, value, textures ) {\n\n\t\tconst u = this.map[ name ];\n\n\t\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n\t}\n\n\tsetOptional( gl, object, name ) {\n\n\t\tconst v = object[ name ];\n\n\t\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n\t}\n\n\tstatic upload( gl, seq, values, textures ) {\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ],\n\t\t\t\tv = values[ u.id ];\n\n\t\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tstatic seqWithValue( seq, values ) {\n\n\t\tconst r = [];\n\n\t\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\t\tconst u = seq[ i ];\n\t\t\tif ( u.id in values ) r.push( u );\n\n\t\t}\n\n\t\treturn r;\n\n\t}\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction handleSource( string, errorLine ) {\n\n\tconst lines = string.split( '\\n' );\n\tconst lines2 = [];\n\n\tconst from = Math.max( errorLine - 6, 0 );\n\tconst to = Math.min( errorLine + 6, lines.length );\n\n\tfor ( let i = from; i < to; i ++ ) {\n\n\t\tconst line = i + 1;\n\t\tlines2.push( `${line === errorLine ? '>' : ' '} ${line}: ${lines[ i ]}` );\n\n\t}\n\n\treturn lines2.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst errors = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && errors === '' ) return '';\n\n\tconst errorMatches = /ERROR: 0:(\\d+)/.exec( errors );\n\tif ( errorMatches ) {\n\n\t\t// --enable-privileged-webgl-extension\n\t\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\t\tconst errorLine = parseInt( errorMatches[ 1 ] );\n\t\treturn type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + handleSource( gl.getShaderSource( shader ), errorLine );\n\n\t} else {\n\n\t\treturn errors;\n\n\t}\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || !! parameters.envMapCubeUVHeight || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\tlet locationSize = 1;\n\t\tif ( info.type === 35674 ) locationSize = 2;\n\t\tif ( info.type === 35675 ) locationSize = 3;\n\t\tif ( info.type === 35676 ) locationSize = 4;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = {\n\t\t\ttype: info.type,\n\t\t\tlocation: gl.getAttribLocation( program, name ),\n\t\t\tlocationSize: locationSize\n\t\t};\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction generateCubeUVSize( parameters ) {\n\n\tconst imageHeight = parameters.envMapCubeUVHeight;\n\n\tif ( imageHeight === null ) return null;\n\n\tconst maxMip = Math.log2( imageHeight ) - 2;\n\n\tconst texelHeight = 1.0 / imageHeight;\n\n\tconst texelWidth = 1.0 / ( 3 * Math.max( Math.pow( 2, maxMip ), 7 * 16 ) );\n\n\treturn { texelWidth, texelHeight, maxMip };\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\t// TODO Send this event to Three.js DevTools\n\t// console.log( 'WebGLProgram', cacheKey );\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\tconst envMapCubeUVSize = generateCubeUVSize( parameters );\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '',\n\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\t( parameters.morphColors && parameters.isWebGL2 ) ? '#define USE_MORPHCOLORS' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE' : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_TEXTURE_STRIDE ' + parameters.morphTextureStride : '',\n\t\t\t( parameters.morphTargetsCount > 0 && parameters.isWebGL2 ) ? '#define MORPHTARGETS_COUNT ' + parameters.morphTargetsCount : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_WIDTH ' + envMapCubeUVSize.texelWidth : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_TEXEL_HEIGHT ' + envMapCubeUVSize.texelHeight : '',\n\t\t\tenvMapCubeUVSize ? '#define CUBEUV_MAX_MIP ' + envMapCubeUVSize.maxMip + '.0' : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoat ? '#define USE_CLEARCOAT' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.iridescence ? '#define USE_IRIDESCENCE' : '',\n\t\t\tparameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '',\n\t\t\tparameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.alphaTest ? '#define USE_ALPHATEST' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '',\n\t\t\tparameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.decodeVideoTexture ? '#define DECODE_VIDEO_TEXTURE' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\t\t\tparameters.opaque ? '#define OPAQUE' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.useDepthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'precision mediump sampler2DArray;',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error(\n\t\t\t\t'THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' +\n\t\t\t\t'VALIDATE_STATUS ' + gl.getProgramParameter( program, 35715 ) + '\\n\\n' +\n\t\t\t\t'Program Info Log: ' + programLog + '\\n' +\n\t\t\t\tvertexErrors + '\\n' +\n\t\t\t\tfragmentErrors\n\t\t\t);\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Program Info Log:', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nlet _id = 0;\n\nclass WebGLShaderCache {\n\n\tconstructor() {\n\n\t\tthis.shaderCache = new Map();\n\t\tthis.materialCache = new Map();\n\n\t}\n\n\tupdate( material ) {\n\n\t\tconst vertexShader = material.vertexShader;\n\t\tconst fragmentShader = material.fragmentShader;\n\n\t\tconst vertexShaderStage = this._getShaderStage( vertexShader );\n\t\tconst fragmentShaderStage = this._getShaderStage( fragmentShader );\n\n\t\tconst materialShaders = this._getShaderCacheForMaterial( material );\n\n\t\tif ( materialShaders.has( vertexShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( vertexShaderStage );\n\t\t\tvertexShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\tif ( materialShaders.has( fragmentShaderStage ) === false ) {\n\n\t\t\tmaterialShaders.add( fragmentShaderStage );\n\t\t\tfragmentShaderStage.usedTimes ++;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( material ) {\n\n\t\tconst materialShaders = this.materialCache.get( material );\n\n\t\tfor ( const shaderStage of materialShaders ) {\n\n\t\t\tshaderStage.usedTimes --;\n\n\t\t\tif ( shaderStage.usedTimes === 0 ) this.shaderCache.delete( shaderStage.code );\n\n\t\t}\n\n\t\tthis.materialCache.delete( material );\n\n\t\treturn this;\n\n\t}\n\n\tgetVertexShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.vertexShader ).id;\n\n\t}\n\n\tgetFragmentShaderID( material ) {\n\n\t\treturn this._getShaderStage( material.fragmentShader ).id;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shaderCache.clear();\n\t\tthis.materialCache.clear();\n\n\t}\n\n\t_getShaderCacheForMaterial( material ) {\n\n\t\tconst cache = this.materialCache;\n\n\t\tif ( cache.has( material ) === false ) {\n\n\t\t\tcache.set( material, new Set() );\n\n\t\t}\n\n\t\treturn cache.get( material );\n\n\t}\n\n\t_getShaderStage( code ) {\n\n\t\tconst cache = this.shaderCache;\n\n\t\tif ( cache.has( code ) === false ) {\n\n\t\t\tconst stage = new WebGLShaderStage( code );\n\t\t\tcache.set( code, stage );\n\n\t\t}\n\n\t\treturn cache.get( code );\n\n\t}\n\n}\n\nclass WebGLShaderStage {\n\n\tconstructor( code ) {\n\n\t\tthis.id = _id ++;\n\n\t\tthis.code = code;\n\t\tthis.usedTimes = 0;\n\n\t}\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst _programLayers = new Layers();\n\tconst _customShaders = new WebGLShaderCache();\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst vertexTextures = capabilities.vertexTextures;\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst geometry = object.geometry;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst envMapCubeUVHeight = ( !! envMap ) && ( envMap.mapping === CubeUVReflectionMapping ) ? envMap.image.height : null;\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\tlet morphTextureStride = 0;\n\n\t\tif ( geometry.morphAttributes.position !== undefined ) morphTextureStride = 1;\n\t\tif ( geometry.morphAttributes.normal !== undefined ) morphTextureStride = 2;\n\t\tif ( geometry.morphAttributes.color !== undefined ) morphTextureStride = 3;\n\n\t\t//\n\n\t\tlet vertexShader, fragmentShader;\n\t\tlet customVertexShaderID, customFragmentShaderID;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t\t_customShaders.update( material );\n\n\t\t\tcustomVertexShaderID = _customShaders.getVertexShaderID( material );\n\t\t\tcustomFragmentShaderID = _customShaders.getFragmentShaderID( material );\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst useAlphaTest = material.alphaTest > 0;\n\t\tconst useClearcoat = material.clearcoat > 0;\n\t\tconst useIridescence = material.iridescence > 0;\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tcustomVertexShaderID: customVertexShaderID,\n\t\t\tcustomFragmentShaderID: customFragmentShaderID,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget === null ) ? renderer.outputEncoding : ( currentRenderTarget.isXRRenderTarget === true ? currentRenderTarget.texture.encoding : LinearEncoding ),\n\t\t\tmap: !! material.map,\n\t\t\tmatcap: !! material.matcap,\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapCubeUVHeight: envMapCubeUVHeight,\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\n\t\t\tdecodeVideoTexture: !! material.map && ( material.map.isVideoTexture === true ) && ( material.map.encoding === sRGBEncoding ),\n\n\t\t\tclearcoat: useClearcoat,\n\t\t\tclearcoatMap: useClearcoat && !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: useClearcoat && !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: useClearcoat && !! material.clearcoatNormalMap,\n\n\t\t\tiridescence: useIridescence,\n\t\t\tiridescenceMap: useIridescence && !! material.iridescenceMap,\n\t\t\tiridescenceThicknessMap: useIridescence && !! material.iridescenceThicknessMap,\n\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\tspecularIntensityMap: !! material.specularIntensityMap,\n\t\t\tspecularColorMap: !! material.specularColorMap,\n\n\t\t\topaque: material.transparent === false && material.blending === NormalBlending,\n\n\t\t\talphaMap: !! material.alphaMap,\n\t\t\talphaTest: useAlphaTest,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: material.sheen > 0,\n\t\t\tsheenColorMap: !! material.sheenColorMap,\n\t\t\tsheenRoughnessMap: !! material.sheenRoughnessMap,\n\n\t\t\ttransmission: material.transmission > 0,\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\t\t\tthicknessMap: !! material.thicknessMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( !! material.normalMap && !! geometry.attributes.tangent ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.iridescenceMap || !! material.iridescenceThicknessMap || !! material.displacementMap || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularColorMap || !! material.sheenColorMap || !! material.sheenRoughnessMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.iridescenceMap || !! material.iridescenceThicknessMap || material.transmission > 0 || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularColorMap || material.sheen > 0 || !! material.sheenColorMap || !! material.sheenRoughnessMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog === true,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: object.isSkinnedMesh === true,\n\n\t\t\tmorphTargets: geometry.morphAttributes.position !== undefined,\n\t\t\tmorphNormals: geometry.morphAttributes.normal !== undefined,\n\t\t\tmorphColors: geometry.morphAttributes.color !== undefined,\n\t\t\tmorphTargetsCount: morphTargetsCount,\n\t\t\tmorphTextureStride: morphTextureStride,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tuseDepthPacking: !! material.depthPacking,\n\t\t\tdepthPacking: material.depthPacking || 0,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.customVertexShaderID );\n\t\t\tarray.push( parameters.customFragmentShaderID );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tgetProgramCacheKeyParameters( array, parameters );\n\t\t\tgetProgramCacheKeyBooleans( array, parameters );\n\t\t\tarray.push( renderer.outputEncoding );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getProgramCacheKeyParameters( array, parameters ) {\n\n\t\tarray.push( parameters.precision );\n\t\tarray.push( parameters.outputEncoding );\n\t\tarray.push( parameters.envMapMode );\n\t\tarray.push( parameters.envMapCubeUVHeight );\n\t\tarray.push( parameters.combine );\n\t\tarray.push( parameters.vertexUvs );\n\t\tarray.push( parameters.fogExp2 );\n\t\tarray.push( parameters.sizeAttenuation );\n\t\tarray.push( parameters.morphTargetsCount );\n\t\tarray.push( parameters.morphAttributeCount );\n\t\tarray.push( parameters.numDirLights );\n\t\tarray.push( parameters.numPointLights );\n\t\tarray.push( parameters.numSpotLights );\n\t\tarray.push( parameters.numHemiLights );\n\t\tarray.push( parameters.numRectAreaLights );\n\t\tarray.push( parameters.numDirLightShadows );\n\t\tarray.push( parameters.numPointLightShadows );\n\t\tarray.push( parameters.numSpotLightShadows );\n\t\tarray.push( parameters.shadowMapType );\n\t\tarray.push( parameters.toneMapping );\n\t\tarray.push( parameters.numClippingPlanes );\n\t\tarray.push( parameters.numClipIntersection );\n\t\tarray.push( parameters.depthPacking );\n\n\t}\n\n\tfunction getProgramCacheKeyBooleans( array, parameters ) {\n\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.isWebGL2 )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.supportsVertexTextures )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.instancing )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.instancingColor )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.map )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.matcap )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.envMap )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.lightMap )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.aoMap )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.emissiveMap )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.bumpMap )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.normalMap )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.objectSpaceNormalMap )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.tangentSpaceNormalMap )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.clearcoat )\n\t\t\t_programLayers.enable( 14 );\n\t\tif ( parameters.clearcoatMap )\n\t\t\t_programLayers.enable( 15 );\n\t\tif ( parameters.clearcoatRoughnessMap )\n\t\t\t_programLayers.enable( 16 );\n\t\tif ( parameters.clearcoatNormalMap )\n\t\t\t_programLayers.enable( 17 );\n\t\tif ( parameters.iridescence )\n\t\t\t_programLayers.enable( 18 );\n\t\tif ( parameters.iridescenceMap )\n\t\t\t_programLayers.enable( 19 );\n\t\tif ( parameters.iridescenceThicknessMap )\n\t\t\t_programLayers.enable( 20 );\n\t\tif ( parameters.displacementMap )\n\t\t\t_programLayers.enable( 21 );\n\t\tif ( parameters.specularMap )\n\t\t\t_programLayers.enable( 22 );\n\t\tif ( parameters.roughnessMap )\n\t\t\t_programLayers.enable( 23 );\n\t\tif ( parameters.metalnessMap )\n\t\t\t_programLayers.enable( 24 );\n\t\tif ( parameters.gradientMap )\n\t\t\t_programLayers.enable( 25 );\n\t\tif ( parameters.alphaMap )\n\t\t\t_programLayers.enable( 26 );\n\t\tif ( parameters.alphaTest )\n\t\t\t_programLayers.enable( 27 );\n\t\tif ( parameters.vertexColors )\n\t\t\t_programLayers.enable( 28 );\n\t\tif ( parameters.vertexAlphas )\n\t\t\t_programLayers.enable( 29 );\n\t\tif ( parameters.vertexUvs )\n\t\t\t_programLayers.enable( 30 );\n\t\tif ( parameters.vertexTangents )\n\t\t\t_programLayers.enable( 31 );\n\t\tif ( parameters.uvsVertexOnly )\n\t\t\t_programLayers.enable( 32 );\n\t\tif ( parameters.fog )\n\t\t\t_programLayers.enable( 33 );\n\n\t\tarray.push( _programLayers.mask );\n\t\t_programLayers.disableAll();\n\n\t\tif ( parameters.useFog )\n\t\t\t_programLayers.enable( 0 );\n\t\tif ( parameters.flatShading )\n\t\t\t_programLayers.enable( 1 );\n\t\tif ( parameters.logarithmicDepthBuffer )\n\t\t\t_programLayers.enable( 2 );\n\t\tif ( parameters.skinning )\n\t\t\t_programLayers.enable( 3 );\n\t\tif ( parameters.morphTargets )\n\t\t\t_programLayers.enable( 4 );\n\t\tif ( parameters.morphNormals )\n\t\t\t_programLayers.enable( 5 );\n\t\tif ( parameters.morphColors )\n\t\t\t_programLayers.enable( 6 );\n\t\tif ( parameters.premultipliedAlpha )\n\t\t\t_programLayers.enable( 7 );\n\t\tif ( parameters.shadowMapEnabled )\n\t\t\t_programLayers.enable( 8 );\n\t\tif ( parameters.physicallyCorrectLights )\n\t\t\t_programLayers.enable( 9 );\n\t\tif ( parameters.doubleSided )\n\t\t\t_programLayers.enable( 10 );\n\t\tif ( parameters.flipSided )\n\t\t\t_programLayers.enable( 11 );\n\t\tif ( parameters.useDepthPacking )\n\t\t\t_programLayers.enable( 12 );\n\t\tif ( parameters.dithering )\n\t\t\t_programLayers.enable( 13 );\n\t\tif ( parameters.specularIntensityMap )\n\t\t\t_programLayers.enable( 14 );\n\t\tif ( parameters.specularColorMap )\n\t\t\t_programLayers.enable( 15 );\n\t\tif ( parameters.transmission )\n\t\t\t_programLayers.enable( 16 );\n\t\tif ( parameters.transmissionMap )\n\t\t\t_programLayers.enable( 17 );\n\t\tif ( parameters.thicknessMap )\n\t\t\t_programLayers.enable( 18 );\n\t\tif ( parameters.sheen )\n\t\t\t_programLayers.enable( 19 );\n\t\tif ( parameters.sheenColorMap )\n\t\t\t_programLayers.enable( 20 );\n\t\tif ( parameters.sheenRoughnessMap )\n\t\t\t_programLayers.enable( 21 );\n\t\tif ( parameters.decodeVideoTexture )\n\t\t\t_programLayers.enable( 22 );\n\t\tif ( parameters.opaque )\n\t\t\t_programLayers.enable( 23 );\n\n\t\tarray.push( _programLayers.mask );\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\tfunction releaseShaderCache( material ) {\n\n\t\t_customShaders.remove( material );\n\n\t}\n\n\tfunction dispose() {\n\n\t\t_customShaders.dispose();\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\treleaseShaderCache: releaseShaderCache,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transmissive = [];\n\tconst transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransmissive.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.push( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.push( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.push( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.unshift( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.unshift( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.unshift( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transmissive.length > 1 ) transmissive.sort( customTransparentSort || reversePainterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransmissive: transmissive,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, physicallyCorrectLights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\t// artist-friendly light intensity scaling factor\n\t\tconst scaleFactor = ( physicallyCorrectLights !== true ) ? Math.PI : 1;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity * scaleFactor;\n\t\t\t\tg += color.g * intensity * scaleFactor;\n\t\t\t\tb += color.b * intensity * scaleFactor;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity * scaleFactor );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( physicallyCorrectLights ) {\n\n\t\tlights.setup( lightsArray, physicallyCorrectLights );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDepthMaterial = true;\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshDistanceMaterial = true;\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst vertex = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nconst fragment = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tconst float samples = float( VSM_SAMPLES );\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterial = new MeshDepthMaterial( { depthPacking: RGBADepthPacking } ),\n\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\t\tdefines: {\n\t\t\tVSM_SAMPLES: 8\n\t\t},\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vertex,\n\t\tfragmentShader: fragment\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = ( this.type !== VSMShadowMap ) ? { minFilter: NearestFilter, magFilter: NearestFilter } : {};\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( shadow.isPointLightShadow !== true && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\tif ( shadowMaterialVertical.defines.VSM_SAMPLES !== shadow.blurSamples ) {\n\n\t\t\tshadowMaterialVertical.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\tshadowMaterialHorizontal.defines.VSM_SAMPLES = shadow.blurSamples;\n\n\t\t\tshadowMaterialVertical.needsUpdate = true;\n\t\t\tshadowMaterialHorizontal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( shadow.mapPass === null ) {\n\n\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y );\n\n\t\t}\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tconst customMaterial = ( light.isPointLight === true ) ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\tif ( customMaterial !== undefined ) {\n\n\t\t\tresult = customMaterial;\n\n\t\t} else {\n\n\t\t\tresult = ( light.isPointLight === true ) ? _distanceMaterial : _depthMaterial;\n\n\t\t}\n\n\t\tif ( ( _renderer.localClippingEnabled && material.clipShadows === true && Array.isArray( material.clippingPlanes ) && material.clippingPlanes.length !== 0 ) ||\n\t\t\t( material.displacementMap && material.displacementScale !== 0 ) ||\n\t\t\t( material.alphaMap && material.alphaTest > 0 ) ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.alphaMap = material.alphaMap;\n\t\tresult.alphaTest = material.alphaTest;\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.displacementMap = material.displacementMap;\n\t\tresult.displacementScale = material.displacementScale;\n\t\tresult.displacementBias = material.displacementBias;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet currentBoundFramebuffers = {};\n\tlet currentDrawbuffers = new WeakMap();\n\tlet defaultDrawbuffers = [];\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst scissorParam = gl.getParameter( 3088 );\n\tconst viewportParam = gl.getParameter( 2978 );\n\n\tconst currentScissor = new Vector4().fromArray( scissorParam );\n\tconst currentViewport = new Vector4().fromArray( viewportParam );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction drawBuffers( renderTarget, framebuffer ) {\n\n\t\tlet drawBuffers = defaultDrawbuffers;\n\n\t\tlet needsUpdate = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tdrawBuffers = currentDrawbuffers.get( framebuffer );\n\n\t\t\tif ( drawBuffers === undefined ) {\n\n\t\t\t\tdrawBuffers = [];\n\t\t\t\tcurrentDrawbuffers.set( framebuffer, drawBuffers );\n\n\t\t\t}\n\n\t\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\tif ( drawBuffers.length !== textures.length || drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tdrawBuffers[ i ] = 36064 + i;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdrawBuffers.length = textures.length;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( drawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\tdrawBuffers[ 0 ] = 36064;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( drawBuffers[ 0 ] !== 1029 ) {\n\n\t\t\t\tdrawBuffers[ 0 ] = 1029;\n\n\t\t\t\tneedsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgl.drawBuffers( drawBuffers );\n\n\t\t\t} else {\n\n\t\t\t\textensions.get( 'WEBGL_draw_buffers' ).drawBuffersWEBGL( drawBuffers );\n\n\t\t\t}\n\n\t\t}\n\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 769, 0, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texSubImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texSubImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexSubImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexSubImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texStorage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texStorage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentBoundFramebuffers = {};\n\t\tcurrentDrawbuffers = new WeakMap();\n\t\tdefaultDrawbuffers = [];\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tdrawBuffers: drawBuffers,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\ttexStorage2D: texStorage2D,\n\t\ttexStorage3D: texStorage3D,\n\t\ttexSubImage2D: texSubImage2D,\n\t\ttexSubImage3D: texSubImage3D,\n\t\tcompressedTexSubImage2D: compressedTexSubImage2D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\tconst multisampledRTTExt = extensions.has( 'WEBGL_multisampled_render_to_texture' ) ? extensions.get( 'WEBGL_multisampled_render_to_texture' ) : null;\n\tconst supportsInvalidateFramebuffer = /OculusBrowser/g.test( navigator.userAgent );\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\tconst _sources = new WeakMap(); // maps WebglTexture objects to instances of Source\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\t// eslint-disable-next-line compat/compat\n\t\t\tnew OffscreenCanvas( width, height ) : createElementNS( 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType, encoding, isVideoTexture = false ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 33319 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33328;\n\t\t\tif ( glType === 5131 ) internalFormat = 33327;\n\t\t\tif ( glType === 5121 ) internalFormat = 33323;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = ( encoding === sRGBEncoding && isVideoTexture === false ) ? 35907 : 32856;\n\t\t\tif ( glType === 32819 ) internalFormat = 32854;\n\t\t\tif ( glType === 32820 ) internalFormat = 32855;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 33327 || internalFormat === 33328 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\tfunction getMipLevels( texture, image, supportsMips ) {\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) === true || ( texture.isFramebufferTexture && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) ) {\n\n\t\t\treturn Math.log2( Math.max( image.width, image.height ) ) + 1;\n\n\t\t} else if ( texture.mipmaps !== undefined && texture.mipmaps.length > 0 ) {\n\n\t\t\t// user-defined mipmaps\n\n\t\t\treturn texture.mipmaps.length;\n\n\t\t} else if ( texture.isCompressedTexture && Array.isArray( texture.image ) ) {\n\n\t\t\treturn image.mipmaps.length;\n\n\t\t} else {\n\n\t\t\t// texture without mipmaps (only base level)\n\n\t\t\treturn 1;\n\n\t\t}\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t// check if it's necessary to remove the WebGLTexture object\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures ) {\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\t\t\twebglTexture.usedTimes --;\n\n\t\t\t// the WebGLTexture object is not used anymore, remove it\n\n\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\tdeleteTexture( texture );\n\n\t\t\t}\n\n\t\t\t// remove the weak map entry if no WebGLTexture uses the source anymore\n\n\t\t\tif ( Object.keys( webglTextures ).length === 0 ) {\n\n\t\t\t\t_sources.delete( source );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deleteTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tconst source = texture.source;\n\t\tconst webglTextures = _sources.get( source );\n\t\tdelete webglTextures[ textureProperties.__cacheKey ];\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t\tinfo.memory.textures --;\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) {\n\n\t\t\t\tfor ( let i = 0; i < renderTargetProperties.__webglColorRenderbuffer.length; i ++ ) {\n\n\t\t\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer[ i ] ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\tfor ( let i = 0, il = texture.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachmentProperties = properties.get( texture[ i ] );\n\n\t\t\t\tif ( attachmentProperties.__webglTexture ) {\n\n\t\t\t\t\t_gl.deleteTexture( attachmentProperties.__webglTexture );\n\n\t\t\t\t\tinfo.memory.textures --;\n\n\t\t\t\t}\n\n\t\t\t\tproperties.remove( texture[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tfunction getTextureCacheKey( texture ) {\n\n\t\tconst array = [];\n\n\t\tarray.push( texture.wrapS );\n\t\tarray.push( texture.wrapT );\n\t\tarray.push( texture.magFilter );\n\t\tarray.push( texture.minFilter );\n\t\tarray.push( texture.anisotropy );\n\t\tarray.push( texture.internalFormat );\n\t\tarray.push( texture.format );\n\t\tarray.push( texture.type );\n\t\tarray.push( texture.generateMipmaps );\n\t\tarray.push( texture.premultiplyAlpha );\n\t\tarray.push( texture.flipY );\n\t\tarray.push( texture.unpackAlignment );\n\t\tarray.push( texture.encoding );\n\n\t\treturn array.join();\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.isRenderTargetTexture === false && texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but no image data found.' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tlet forceUpload = false;\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t}\n\n\t\t// create Source <-> WebGLTextures mapping if necessary\n\n\t\tconst source = texture.source;\n\t\tlet webglTextures = _sources.get( source );\n\n\t\tif ( webglTextures === undefined ) {\n\n\t\t\twebglTextures = {};\n\t\t\t_sources.set( source, webglTextures );\n\n\t\t}\n\n\t\t// check if there is already a WebGLTexture object for the given texture parameters\n\n\t\tconst textureCacheKey = getTextureCacheKey( texture );\n\n\t\tif ( textureCacheKey !== textureProperties.__cacheKey ) {\n\n\t\t\t// if not, create a new instance of WebGLTexture\n\n\t\t\tif ( webglTextures[ textureCacheKey ] === undefined ) {\n\n\t\t\t\t// create new entry\n\n\t\t\t\twebglTextures[ textureCacheKey ] = {\n\t\t\t\t\ttexture: _gl.createTexture(),\n\t\t\t\t\tusedTimes: 0\n\t\t\t\t};\n\n\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t// when a new instance of WebGLTexture was created, a texture upload is required\n\t\t\t\t// even if the image contents are identical\n\n\t\t\t\tforceUpload = true;\n\n\t\t\t}\n\n\t\t\twebglTextures[ textureCacheKey ].usedTimes ++;\n\n\t\t\t// every time the texture cache key changes, it's necessary to check if an instance of\n\t\t\t// WebGLTexture can be deleted in order to avoid a memory leak.\n\n\t\t\tconst webglTexture = webglTextures[ textureProperties.__cacheKey ];\n\n\t\t\tif ( webglTexture !== undefined ) {\n\n\t\t\t\twebglTextures[ textureProperties.__cacheKey ].usedTimes --;\n\n\t\t\t\tif ( webglTexture.usedTimes === 0 ) {\n\n\t\t\t\t\tdeleteTexture( texture );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// store references to cache key and WebGLTexture object\n\n\t\t\ttextureProperties.__cacheKey = textureCacheKey;\n\t\t\ttextureProperties.__webglTexture = webglTextures[ textureCacheKey ].texture;\n\n\t\t}\n\n\t\treturn forceUpload;\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataArrayTexture ) textureType = 35866;\n\t\tif ( texture.isData3DTexture ) textureType = 32879;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\tif ( source.version !== source.__currentVersion || forceUpload === true ) {\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\t\tlet image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\t\t\timage = verifyColorSpace( texture, image );\n\n\t\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding );\n\n\t\t\tlet glType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding, texture.isVideoTexture );\n\n\t\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\t\tlet mipmap;\n\t\t\tconst mipmaps = texture.mipmaps;\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( source.__currentVersion === undefined ) || ( forceUpload === true );\n\t\t\tconst levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t\t// populate depth texture with dummy data\n\n\t\t\t\tglInternalFormat = 6402;\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// validation checks for WebGL 1\n\n\t\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedIntType;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t//\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, 1, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, image.width, image.height, glFormat, glType, image.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isDataArrayTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 35866, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 35866, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage3D( 32879, levels, glInternalFormat, image.width, image.height, image.depth );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.texSubImage3D( 32879, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\n\t\t\t\t}\n\n\t\t\t} else if ( texture.isFramebufferTexture ) {\n\n\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlet width = image.width, height = image.height;\n\n\t\t\t\t\t\tfor ( let i = 0; i < levels; i ++ ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, width, height, 0, glFormat, glType, null );\n\n\t\t\t\t\t\t\twidth >>= 1;\n\t\t\t\t\t\t\theight >>= 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, mipmaps[ 0 ].width, mipmaps[ 0 ].height );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 3553, i, 0, 0, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\tif ( allocateMemory ) {\n\n\t\t\t\t\t\t\tstate.texStorage2D( 3553, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage2D( 3553, 0, 0, 0, glFormat, glType, image );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( textureType );\n\n\t\t\t}\n\n\t\t\tsource.__currentVersion = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tconst forceUpload = initTexture( textureProperties, texture );\n\t\tconst source = texture.source;\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\tif ( source.version !== source.__currentVersion || forceUpload === true ) {\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\t\tconst isCompressed = ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture );\n\t\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tconst cubeImage = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t\tcubeImage[ i ] = verifyColorSpace( texture, cubeImage[ i ] );\n\n\t\t\t}\n\n\t\t\tconst image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format, texture.encoding ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\n\t\t\tconst useTexStorage = ( isWebGL2 && texture.isVideoTexture !== true );\n\t\t\tconst allocateMemory = ( source.__currentVersion === undefined ) || ( forceUpload === true );\n\t\t\tlet levels = getMipLevels( texture, image, supportsMips );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tlet mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tif ( useTexStorage && allocateMemory ) {\n\n\t\t\t\t\t// TODO: Uniformly handle mipmap definitions\n\t\t\t\t\t// Normal textures and compressed cube textures define base level + mips with their mipmap array\n\t\t\t\t\t// Uncompressed cube textures use their mipmap array only for mips (no base level)\n\n\t\t\t\t\tif ( mipmaps.length > 0 ) levels ++;\n\n\t\t\t\t\tstate.texStorage2D( 34067, levels, glInternalFormat, cubeImage[ 0 ].width, cubeImage[ 0 ].height );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, cubeImage[ i ].width, cubeImage[ i ].height, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, mipmapImage.width, mipmapImage.height, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, 0, 0, 0, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( useTexStorage ) {\n\n\t\t\t\t\t\t\t\tstate.texSubImage2D( 34069 + i, j + 1, 0, 0, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tsource.__currentVersion = source.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, texture, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( ! renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0, getRenderTargetSamples( renderTarget ) );\n\n\t\t} else {\n\n\t\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample || useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tconst texture = textures[ i ];\n\n\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\tif ( isMultisample && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else if ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 36096, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\tif ( useMultisampledRTT( renderTarget ) ) {\n\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT( 36160, 33306, 3553, webglDepthTexture, 0, samples );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture && ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// rebind framebuffer with external textures\n\tfunction rebindTextures( renderTarget, colorTexture, depthTexture ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tif ( colorTexture !== undefined ) {\n\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, renderTarget.texture, 36064, 3553 );\n\n\t\t}\n\n\t\tif ( depthTexture !== undefined ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets !== true ) {\n\n\t\t\tif ( textureProperties.__webglTexture === undefined ) {\n\n\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tif ( capabilities.drawBuffers ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst attachmentProperties = properties.get( textures[ i ] );\n\n\t\t\t\t\t\tif ( attachmentProperties.__webglTexture === undefined ) {\n\n\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\tconst textures = isMultipleRenderTargets ? texture : [ texture ];\n\n\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = [];\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tconst texture = textures[ i ];\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer[ i ] = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format, texture.encoding );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType, texture.encoding );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t}\n\n\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, texture, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067 );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else if ( isMultipleRenderTargets ) {\n\n\t\t\tconst textures = renderTarget.texture;\n\n\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachment = textures[ i ];\n\t\t\t\tconst attachmentProperties = properties.get( attachment );\n\n\t\t\t\tstate.bindTexture( 3553, attachmentProperties.__webglTexture );\n\t\t\t\tsetTextureParameters( 3553, attachment, supportsMips );\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, attachment, 36064 + i, 3553 );\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( attachment, supportsMips ) ) {\n\n\t\t\t\t\tgenerateMipmap( 3553 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( renderTarget.isWebGL3DRenderTarget || renderTarget.isWebGLArrayRenderTarget ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tglTextureType = renderTarget.isWebGL3DRenderTarget ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, texture, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( glTextureType );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\tconst texture = textures[ i ];\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t\tgenerateMipmap( target );\n\t\t\t\tstate.unbindTexture();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( ( isWebGL2 && renderTarget.samples > 0 ) && useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets ? renderTarget.texture : [ renderTarget.texture ];\n\t\t\tconst width = renderTarget.width;\n\t\t\tconst height = renderTarget.height;\n\t\t\tlet mask = 16384;\n\t\t\tconst invalidationArray = [];\n\t\t\tconst depthStyle = renderTarget.stencilBuffer ? 33306 : 36096;\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\n\t\t\t// If MRT we need to remove FBO attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, null );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, null, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\tinvalidationArray.push( 36064 + i );\n\n\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\tinvalidationArray.push( depthStyle );\n\n\t\t\t\t}\n\n\t\t\t\tconst ignoreDepthValues = ( renderTargetProperties.__ignoreDepthValues !== undefined ) ? renderTargetProperties.__ignoreDepthValues : false;\n\n\t\t\t\tif ( ignoreDepthValues === false ) {\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36008, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ignoreDepthValues === true ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, [ depthStyle ] );\n\t\t\t\t\t_gl.invalidateFramebuffer( 36009, [ depthStyle ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tif ( supportsInvalidateFramebuffer ) {\n\n\t\t\t\t\t_gl.invalidateFramebuffer( 36008, invalidationArray );\n\n\t\t\t\t}\n\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\tstate.bindFramebuffer( 36009, null );\n\n\t\t\t// If MRT since pre-blit we removed the FBO we need to reconstruct the attachments\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tfor ( let i = 0; i < textures.length; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064 + i, 36161, renderTargetProperties.__webglColorRenderbuffer[ i ] );\n\n\t\t\t\t\tconst webglTexture = properties.get( textures[ i ] ).__webglTexture;\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\t\t_gl.framebufferTexture2D( 36009, 36064 + i, 3553, webglTexture, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn Math.min( maxSamples, renderTarget.samples );\n\n\t}\n\n\tfunction useMultisampledRTT( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\treturn isWebGL2 && renderTarget.samples > 0 && extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true && renderTargetProperties.__useRenderToTexture !== false;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\tfunction verifyColorSpace( texture, image ) {\n\n\t\tconst encoding = texture.encoding;\n\t\tconst format = texture.format;\n\t\tconst type = texture.type;\n\n\t\tif ( texture.isCompressedTexture === true || texture.isVideoTexture === true || texture.format === _SRGBAFormat ) return image;\n\n\t\tif ( encoding !== LinearEncoding ) {\n\n\t\t\t// sRGB\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\tif ( isWebGL2 === false ) {\n\n\t\t\t\t\t// in WebGL 1, try to use EXT_sRGB extension and unsized formats\n\n\t\t\t\t\tif ( extensions.has( 'EXT_sRGB' ) === true && format === RGBAFormat ) {\n\n\t\t\t\t\t\ttexture.format = _SRGBAFormat;\n\n\t\t\t\t\t\t// it's not possible to generate mips in WebGL 1 with this extension\n\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\t\ttexture.generateMipmaps = false;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// slow fallback (CPU decode)\n\n\t\t\t\t\t\timage = ImageUtils.sRGBToLinear( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// in WebGL 2 uncompressed textures can only be sRGB encoded if they have the RGBA8 format\n\n\t\t\t\t\tif ( format !== RGBAFormat || type !== UnsignedByteType ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.WebGLTextures: Unsupported texture encoding:', encoding );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.rebindTextures = rebindTextures;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\tthis.setupDepthRenderbuffer = setupDepthRenderbuffer;\n\tthis.setupFrameBufferTexture = setupFrameBufferTexture;\n\tthis.useMultisampledRTT = useMultisampledRTT;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p, encoding = null ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\tif ( p === RGBFormat ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228' );\n\t\t\treturn 6408;\n\n\t\t}\n\n\t\t// WebGL 1 sRGB fallback\n\n\t\tif ( p === _SRGBAFormat ) {\n\n\t\t\textension = extensions.get( 'EXT_sRGB' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.SRGB_ALPHA_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\t// S3TC\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\tif ( encoding === sRGBEncoding ) {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc_srgb' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\t\tif ( extension !== null ) {\n\n\t\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// PVRTC\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC1\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ETC2\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ETC2 : extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// ASTC\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_ASTC_4x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : extension.COMPRESSED_RGBA_ASTC_4x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x4_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : extension.COMPRESSED_RGBA_ASTC_5x4_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_5x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : extension.COMPRESSED_RGBA_ASTC_5x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : extension.COMPRESSED_RGBA_ASTC_6x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_6x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : extension.COMPRESSED_RGBA_ASTC_6x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : extension.COMPRESSED_RGBA_ASTC_8x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : extension.COMPRESSED_RGBA_ASTC_8x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_8x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : extension.COMPRESSED_RGBA_ASTC_8x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x5_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : extension.COMPRESSED_RGBA_ASTC_10x5_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x6_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : extension.COMPRESSED_RGBA_ASTC_10x6_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x8_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : extension.COMPRESSED_RGBA_ASTC_10x8_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_10x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : extension.COMPRESSED_RGBA_ASTC_10x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x10_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : extension.COMPRESSED_RGBA_ASTC_12x10_KHR;\n\t\t\t\tif ( p === RGBA_ASTC_12x12_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : extension.COMPRESSED_RGBA_ASTC_12x12_KHR;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// BPTC\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGBA_BPTC_Format ) return ( encoding === sRGBEncoding ) ? extension.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : extension.COMPRESSED_RGBA_BPTC_UNORM_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// if \"p\" can't be resolved, assume the user defines a WebGL constant as a string (fallback/workaround for packed RGB formats)\n\n\t\treturn ( gl[ p ] !== undefined ) ? gl[ p ] : null;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isArrayCamera = true;\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isGroup = true;\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t// Some runtimes (namely Vive Cosmos with Vive OpenXR Runtime) have only grip space and ray space is equal to it\n\t\t\t\tif ( inputPose === null && gripPose !== null ) {\n\n\t\t\t\t\tinputPose = gripPose;\n\n\t\t\t\t}\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedIntType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isDepthTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\n\t\tlet session = null;\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\t\tlet customReferenceSpace = null;\n\n\t\tlet pose = null;\n\t\tlet glBinding = null;\n\t\tlet glProjLayer = null;\n\t\tlet glBaseLayer = null;\n\t\tlet xrFrame = null;\n\t\tconst attributes = gl.getContextAttributes();\n\t\tlet initialRenderTarget = null;\n\t\tlet newRenderTarget = null;\n\n\t\tconst controllers = [];\n\t\tconst controllerInputSources = [];\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.cameraAutoUpdate = true;\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controllerIndex = controllerInputSources.indexOf( event.inputSource );\n\n\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\tif ( controller !== undefined ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tsession.removeEventListener( 'select', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.removeEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.removeEventListener( 'end', onSessionEnd );\n\t\t\tsession.removeEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\n\t\t\t\tif ( inputSource === null ) continue;\n\n\t\t\t\tcontrollerInputSources[ i ] = null;\n\n\t\t\t\tcontrollers[ i ].disconnect( inputSource );\n\n\t\t\t}\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\trenderer.setRenderTarget( initialRenderTarget );\n\n\t\t\tglBaseLayer = null;\n\t\t\tglProjLayer = null;\n\t\t\tglBinding = null;\n\t\t\tsession = null;\n\t\t\tnewRenderTarget = null;\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn customReferenceSpace || referenceSpace;\n\n\t\t};\n\n\t\tthis.setReferenceSpace = function ( space ) {\n\n\t\t\tcustomReferenceSpace = space;\n\n\t\t};\n\n\t\tthis.getBaseLayer = function () {\n\n\t\t\treturn glProjLayer !== null ? glProjLayer : glBaseLayer;\n\n\t\t};\n\n\t\tthis.getBinding = function () {\n\n\t\t\treturn glBinding;\n\n\t\t};\n\n\t\tthis.getFrame = function () {\n\n\t\t\treturn xrFrame;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tinitialRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ( session.renderState.layers === undefined ) || ( renderer.capabilities.isWebGL2 === false ) ) {\n\n\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\tantialias: ( session.renderState.layers === undefined ) ? attributes.antialias : true,\n\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\tsession.updateRenderState( { baseLayer: glBaseLayer } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglBaseLayer.framebufferWidth,\n\t\t\t\t\t\tglBaseLayer.framebufferHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet depthFormat = null;\n\t\t\t\t\tlet depthType = null;\n\t\t\t\t\tlet glDepthFormat = null;\n\n\t\t\t\t\tif ( attributes.depth ) {\n\n\t\t\t\t\t\tglDepthFormat = attributes.stencil ? 35056 : 33190;\n\t\t\t\t\t\tdepthFormat = attributes.stencil ? DepthStencilFormat : DepthFormat;\n\t\t\t\t\t\tdepthType = attributes.stencil ? UnsignedInt248Type : UnsignedIntType;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\tcolorFormat: 32856,\n\t\t\t\t\t\tdepthFormat: glDepthFormat,\n\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBinding = new XRWebGLBinding( session, gl );\n\n\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer( projectionlayerInit );\n\n\t\t\t\t\tsession.updateRenderState( { layers: [ glProjLayer ] } );\n\n\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(\n\t\t\t\t\t\tglProjLayer.textureWidth,\n\t\t\t\t\t\tglProjLayer.textureHeight,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tdepthTexture: new DepthTexture( glProjLayer.textureWidth, glProjLayer.textureHeight, depthType, undefined, undefined, undefined, undefined, undefined, undefined, depthFormat ),\n\t\t\t\t\t\t\tstencilBuffer: attributes.stencil,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding,\n\t\t\t\t\t\t\tsamples: attributes.antialias ? 4 : 0\n\t\t\t\t\t\t} );\n\n\t\t\t\t\tconst renderTargetProperties = renderer.properties.get( newRenderTarget );\n\t\t\t\t\trenderTargetProperties.__ignoreDepthValues = glProjLayer.ignoreDepthValues;\n\n\t\t\t\t}\n\n\t\t\t\tnewRenderTarget.isXRRenderTarget = true; // TODO Remove this when possible, see #23278\n\n\t\t\t\t// Set foveation to maximum.\n\t\t\t\tthis.setFoveation( 1.0 );\n\n\t\t\t\tcustomReferenceSpace = null;\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst index = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( index >= 0 ) {\n\n\t\t\t\t\tcontrollerInputSources[ index ] = null;\n\t\t\t\t\tcontrollers[ index ].dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\n\t\t\t\tlet controllerIndex = controllerInputSources.indexOf( inputSource );\n\n\t\t\t\tif ( controllerIndex === - 1 ) {\n\n\t\t\t\t\t// Assign input source a controller that currently has no input source\n\n\t\t\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\t\tif ( i >= controllerInputSources.length ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources.push( inputSource );\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t} else if ( controllerInputSources[ i ] === null ) {\n\n\t\t\t\t\t\t\tcontrollerInputSources[ i ] = inputSource;\n\t\t\t\t\t\t\tcontrollerIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If all controllers do currently receive input we ignore new ones\n\n\t\t\t\t\tif ( controllerIndex === - 1 ) break;\n\n\t\t\t\t}\n\n\t\t\t\tconst controller = controllers[ controllerIndex ];\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.updateCamera = function ( camera ) {\n\n\t\t\tif ( session === null ) return;\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\tcameraVR.matrixWorld.decompose( cameraVR.position, cameraVR.quaternion, cameraVR.scale );\n\n\t\t\t// update user camera and its children\n\n\t\t\tcamera.position.copy( cameraVR.position );\n\t\t\tcamera.quaternion.copy( cameraVR.quaternion );\n\t\t\tcamera.scale.copy( cameraVR.scale );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getCamera = function () {\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\tthis.getFoveation = function () {\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\treturn glProjLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\treturn glBaseLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\treturn undefined;\n\n\t\t};\n\n\t\tthis.setFoveation = function ( foveation ) {\n\n\t\t\t// 0 = no foveation = full resolution\n\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\tglProjLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined ) {\n\n\t\t\t\tglBaseLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( customReferenceSpace || referenceSpace );\n\t\t\txrFrame = frame;\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\n\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\trenderer.setRenderTargetFramebuffer( newRenderTarget, glBaseLayer.framebuffer );\n\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t}\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\n\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\t\tviewport = glBaseLayer.getViewport( view );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage( glProjLayer, view );\n\t\t\t\t\t\tviewport = glSubImage.viewport;\n\n\t\t\t\t\t\t// For side-by-side projection, we only produce a single texture for both eyes.\n\t\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\t\trenderer.setRenderTargetTextures(\n\t\t\t\t\t\t\t\tnewRenderTarget,\n\t\t\t\t\t\t\t\tglSubImage.colorTexture,\n\t\t\t\t\t\t\t\tglProjLayer.ignoreDepthValues ? undefined : glSubImage.depthStencilTexture );\n\n\t\t\t\t\t\t\trenderer.setRenderTarget( newRenderTarget );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet camera = cameras[ i ];\n\n\t\t\t\t\tif ( camera === undefined ) {\n\n\t\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\t\tcamera.layers.enable( i );\n\t\t\t\t\t\tcamera.viewport = new Vector4();\n\t\t\t\t\t\tcameras[ i ] = camera;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst inputSource = controllerInputSources[ i ];\n\t\t\t\tconst controller = controllers[ i ];\n\n\t\t\t\tif ( inputSource !== null && controller !== undefined ) {\n\n\t\t\t\t\tcontroller.update( inputSource, frame, customReferenceSpace || referenceSpace );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t\txrFrame = null;\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( renderer, properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height, transmissionRenderTarget ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material, transmissionRenderTarget );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.ior.value = material.ior;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\n\t\t\t// artist-friendly light intensity scaling factor\n\t\t\tconst scaleFactor = ( renderer.physicallyCorrectLights !== true ) ? Math.PI : 1;\n\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity * scaleFactor;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\t\t// 13. iridescence map\n\t\t// 14. iridescence thickness map\n\t\t// 15. specular intensity map\n\t\t// 16. specular tint map\n\t\t// 17. transmission map\n\t\t// 18. thickness map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t} else if ( material.iridescenceMap ) {\n\n\t\t\tuvScaleMap = material.iridescenceMap;\n\n\t\t} else if ( material.iridescenceThicknessMap ) {\n\n\t\t\tuvScaleMap = material.iridescenceThicknessMap;\n\n\t\t} else if ( material.specularIntensityMap ) {\n\n\t\t\tuvScaleMap = material.specularIntensityMap;\n\n\t\t} else if ( material.specularColorMap ) {\n\n\t\t\tuvScaleMap = material.specularColorMap;\n\n\t\t} else if ( material.transmissionMap ) {\n\n\t\t\tuvScaleMap = material.transmissionMap;\n\n\t\t} else if ( material.thicknessMap ) {\n\n\t\t\tuvScaleMap = material.thicknessMap;\n\n\t\t} else if ( material.sheenColorMap ) {\n\n\t\t\tuvScaleMap = material.sheenColorMap;\n\n\t\t} else if ( material.sheenRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.sheenRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, transmissionRenderTarget ) {\n\n\t\tuniforms.ior.value = material.ior; // also part of uniforms common\n\n\t\tif ( material.sheen > 0 ) {\n\n\t\t\tuniforms.sheenColor.value.copy( material.sheenColor ).multiplyScalar( material.sheen );\n\n\t\t\tuniforms.sheenRoughness.value = material.sheenRoughness;\n\n\t\t\tif ( material.sheenColorMap ) {\n\n\t\t\t\tuniforms.sheenColorMap.value = material.sheenColorMap;\n\n\t\t\t}\n\n\t\t\tif ( material.sheenRoughnessMap ) {\n\n\t\t\t\tuniforms.sheenRoughnessMap.value = material.sheenRoughnessMap;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.clearcoat > 0 ) {\n\n\t\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\t\tif ( material.clearcoatMap ) {\n\n\t\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.iridescence > 0 ) {\n\n\t\t\tuniforms.iridescence.value = material.iridescence;\n\t\t\tuniforms.iridescenceIOR.value = material.iridescenceIOR;\n\t\t\tuniforms.iridescenceThicknessMinimum.value = material.iridescenceThicknessRange[ 0 ];\n\t\t\tuniforms.iridescenceThicknessMaximum.value = material.iridescenceThicknessRange[ 1 ];\n\n\t\t\tif ( material.iridescenceMap ) {\n\n\t\t\t\tuniforms.iridescenceMap.value = material.iridescenceMap;\n\n\t\t\t}\n\n\t\t\tif ( material.iridescenceThicknessMap ) {\n\n\t\t\t\tuniforms.iridescenceThicknessMap.value = material.iridescenceThicknessMap;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.transmission > 0 ) {\n\n\t\t\tuniforms.transmission.value = material.transmission;\n\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\tuniforms.transmissionSamplerSize.value.set( transmissionRenderTarget.width, transmissionRenderTarget.height );\n\n\t\t\tif ( material.transmissionMap ) {\n\n\t\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t\t}\n\n\t\t\tuniforms.thickness.value = material.thickness;\n\n\t\t\tif ( material.thicknessMap ) {\n\n\t\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\n\t\t\t}\n\n\t\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\t\tuniforms.attenuationColor.value.copy( material.attenuationColor );\n\n\t\t}\n\n\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\tuniforms.specularColor.value.copy( material.specularColor );\n\n\t\tif ( material.specularIntensityMap ) {\n\n\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\n\t\t}\n\n\t\tif ( material.specularColorMap ) {\n\n\t\t\tuniforms.specularColorMap.value = material.specularColorMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = createElementNS( 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters = {} ) {\n\n\tthis.isWebGLRenderer = true;\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet _alpha;\n\n\tif ( _context !== null ) {\n\n\t\t_alpha = _context.getContextAttributes().alpha;\n\n\t} else {\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false;\n\n\t}\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t//\n\n\tObject.defineProperties( this, {\n\n\t\t// @deprecated since r136, 0e21088102b4de7e0a0a33140620b7a3424b9e6d\n\n\t\tgammaFactor: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaFactor has been removed.' );\n\t\t\t\treturn 2;\n\n\t\t\t},\n\t\t\tset: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaFactor has been removed.' );\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// transmission\n\n\tlet _transmissionRenderTarget = null;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector2 = new Vector2();\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: true,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// OffscreenCanvas does not have setAttribute, see #22811\n\t\tif ( 'setAttribute' in _canvas ) _canvas.setAttribute( 'data-engine', `three.js r${REVISION}` );\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t_canvas.addEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\tinfo = new WebGLInfo();\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tcubeuvmaps = new WebGLCubeUVMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl, capabilities, textures );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( _this, properties );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _alpha, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color = true, depth = true, stencil = true ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color ) bits |= 16384;\n\t\tif ( depth ) bits |= 256;\n\t\tif ( stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\t\t_canvas.removeEventListener( 'webglcontextcreationerror', onContextCreationError, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tcubeuvmaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\t\tprogramCache.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tif ( _transmissionRenderTarget ) {\n\n\t\t\t_transmissionRenderTarget.dispose();\n\t\t\t_transmissionRenderTarget = null;\n\n\t\t}\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onContextCreationError( event ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: A WebGL context could not be created. Reason: ', event.statusMessage );\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t\tif ( material.isShaderMaterial ) {\n\n\t\t\t\tprogramCache.releaseShaderCache( material );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, geometry, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\trenderStateStack.pop();\n\t\tcurrentRenderState = null;\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof self !== 'undefined' ) animation.setContext( self );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tif ( xr.cameraAutoUpdate === true ) xr.updateCamera( camera );\n\n\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene );\n\n\t\t// render scene\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tif ( camera.isArrayCamera ) {\n\n\t\t\tconst cameras = camera.cameras;\n\n\t\t\tfor ( let i = 0, l = cameras.length; i < l; i ++ ) {\n\n\t\t\t\tconst camera2 = cameras[ i ];\n\n\t\t\t\trenderScene( currentRenderList, scene, camera2, camera2.viewport );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderScene( currentRenderList, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderScene( currentRenderList, scene, camera, viewport ) {\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( transmissiveObjects.length > 0 ) renderTransmissionPass( opaqueObjects, scene, camera );\n\n\t\tif ( viewport ) state.viewport( _currentViewport.copy( viewport ) );\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transmissiveObjects.length > 0 ) renderObjects( transmissiveObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t}\n\n\tfunction renderTransmissionPass( opaqueObjects, scene, camera ) {\n\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\tif ( _transmissionRenderTarget === null ) {\n\n\t\t\t_transmissionRenderTarget = new WebGLRenderTarget( 1, 1, {\n\t\t\t\tgenerateMipmaps: true,\n\t\t\t\ttype: extensions.has( 'EXT_color_buffer_half_float' ) ? HalfFloatType : UnsignedByteType,\n\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\tsamples: ( isWebGL2 && _antialias === true ) ? 4 : 0\n\t\t\t} );\n\n\t\t}\n\n\t\t_this.getDrawingBufferSize( _vector2 );\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\t_transmissionRenderTarget.setSize( _vector2.x, _vector2.y );\n\n\t\t} else {\n\n\t\t\t_transmissionRenderTarget.setSize( floorPowerOfTwo( _vector2.x ), floorPowerOfTwo( _vector2.y ) );\n\n\t\t}\n\n\t\t//\n\n\t\tconst currentRenderTarget = _this.getRenderTarget();\n\t\t_this.setRenderTarget( _transmissionRenderTarget );\n\t\t_this.clear();\n\n\t\t// Turn off the features which can affect the frag color for opaque objects pass.\n\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\t\tconst currentToneMapping = _this.toneMapping;\n\t\t_this.toneMapping = NoToneMapping;\n\n\t\trenderObjects( opaqueObjects, scene, camera );\n\n\t\t_this.toneMapping = currentToneMapping;\n\n\t\ttextures.updateMultisampleRenderTarget( _transmissionRenderTarget );\n\t\ttextures.updateRenderTargetMipmap( _transmissionRenderTarget );\n\n\t\t_this.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( object.layers.test( camera.layers ) ) {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tmaterial.onBeforeRender( _this, scene, camera, geometry, object, group );\n\n\t\tif ( material.transparent === true && material.side === DoubleSide ) {\n\n\t\t\tmaterial.side = BackSide;\n\t\t\tmaterial.needsUpdate = true;\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\tmaterial.side = FrontSide;\n\t\t\tmaterial.needsUpdate = true;\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\tmaterial.side = DoubleSide;\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( object, parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.skinning = parameters.skinning;\n\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\tmaterialProperties.morphColors = parameters.morphColors;\n\t\tmaterialProperties.morphTargetsCount = parameters.morphTargetsCount;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\t\tmaterialProperties.toneMapping = parameters.toneMapping;\n\n\t}\n\n\tfunction setProgram( camera, scene, geometry, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : ( _currentRenderTarget.isXRRenderTarget === true ? _currentRenderTarget.texture.encoding : LinearEncoding );\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && !! geometry.attributes.color && geometry.attributes.color.itemSize === 4;\n\t\tconst vertexTangents = !! material.normalMap && !! geometry.attributes.tangent;\n\t\tconst morphTargets = !! geometry.morphAttributes.position;\n\t\tconst morphNormals = !! geometry.morphAttributes.normal;\n\t\tconst morphColors = !! geometry.morphAttributes.color;\n\t\tconst toneMapping = material.toneMapped ? _this.toneMapping : NoToneMapping;\n\n\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\tconst morphTargetsCount = ( morphAttribute !== undefined ) ? morphAttribute.length : 0;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isSkinnedMesh && materialProperties.skinning === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isSkinnedMesh && materialProperties.skinning === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog === true && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexTangents !== vertexTangents ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphTargets !== morphTargets ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphNormals !== morphNormals ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphColors !== morphColors ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.toneMapping !== toneMapping ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( capabilities.isWebGL2 === true && materialProperties.morphTargetsCount !== morphTargetsCount ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tobject.isSkinnedMesh ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning and morph target uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone and morph texture must go before other textures\n\t\t// otherwise textures used for skinning and morphing can take over texture units reserved for other material textures\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) skeleton.computeBoneTexture();\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tif ( morphAttributes.position !== undefined || morphAttributes.normal !== undefined || ( morphAttributes.color !== undefined && capabilities.isWebGL2 === true ) ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog === true ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTargetTextures = function ( renderTarget, colorTexture, depthTexture ) {\n\n\t\tproperties.get( renderTarget.texture ).__webglTexture = colorTexture;\n\t\tproperties.get( renderTarget.depthTexture ).__webglTexture = depthTexture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\trenderTargetProperties.__hasExternalTextures = true;\n\n\t\tif ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\trenderTargetProperties.__autoAllocateDepthBuffer = depthTexture === undefined;\n\n\t\t\tif ( ! renderTargetProperties.__autoAllocateDepthBuffer ) {\n\n\t\t\t\t// The multisample_render_to_texture extension doesn't work properly if there\n\t\t\t\t// are midframe flushes and an external depth buffer. Disable use of the extension.\n\t\t\t\tif ( extensions.has( 'WEBGL_multisampled_render_to_texture' ) === true ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided' );\n\t\t\t\t\trenderTargetProperties.__useRenderToTexture = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.setRenderTargetFramebuffer = function ( renderTarget, defaultFramebuffer ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\trenderTargetProperties.__webglFramebuffer = defaultFramebuffer;\n\t\trenderTargetProperties.__useDefaultFramebuffer = defaultFramebuffer === undefined;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tlet useDefaultFramebuffer = true;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\tif ( renderTargetProperties.__useDefaultFramebuffer !== undefined ) {\n\n\t\t\t\t// We need to make sure to rebind the framebuffer.\n\t\t\t\tstate.bindFramebuffer( 36160, null );\n\t\t\t\tuseDefaultFramebuffer = false;\n\n\t\t\t} else if ( renderTargetProperties.__webglFramebuffer === undefined ) {\n\n\t\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t\t} else if ( renderTargetProperties.__hasExternalTextures ) {\n\n\t\t\t\t// Color and depth texture must be rebound in order for the swapchain to update.\n\t\t\t\ttextures.rebindTextures( renderTarget, properties.get( renderTarget.texture ).__webglTexture, properties.get( renderTarget.depthTexture ).__webglTexture );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isData3DTexture || texture.isDataArrayTexture ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( ( capabilities.isWebGL2 && renderTarget.samples > 0 ) && textures.useMultisampledRTT( renderTarget ) === false ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tconst framebufferBound = state.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( framebufferBound && capabilities.drawBuffers && useDefaultFramebuffer ) {\n\n\t\t\tstate.drawBuffers( renderTarget, framebuffer );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t\t_currentMaterialId = - 1; // reset current material to ensure correct uniform bindings\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexSubImage2D( 3553, level, 0, 0, position.x, position.y, width, height );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isData3DTexture ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataArrayTexture ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[ 0 ] : srcTexture.image;\n\n\t\t_gl.pixelStorei( 3314, image.width );\n\t\t_gl.pixelStorei( 32878, image.height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\tif ( srcTexture.isDataTexture || srcTexture.isData3DTexture ) {\n\n\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.' );\n\t\t\t\t_gl.compressedTexSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\ttextures.setTextureCube( texture, 0 );\n\n\t\t} else if ( texture.isData3DTexture ) {\n\n\t\t\ttextures.setTexture3D( texture, 0 );\n\n\t\t} else if ( texture.isDataArrayTexture ) {\n\n\t\t\ttextures.setTexture2DArray( texture, 0 );\n\n\t\t} else {\n\n\t\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t}\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.isFogExp2 = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.isFog = true;\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isScene = true;\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.isInterleavedBuffer = true;\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new this.constructor( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.from( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nconst _vector$6 = /*@__PURE__*/ new Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized = false ) {\n\n\t\tthis.isInterleavedBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.fromBufferAttribute( this, i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interleaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isSpriteMaterial = true;\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.isSprite = true;\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkinnedMesh = true;\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.fromBufferAttribute( skinWeight, i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.copy( target ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isBone = true;\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nclass DataTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isDataTexture = true;\n\n\t\tthis.image = { data: data, width: width, height: height };\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t}\n\n}\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tcomputeBoneTexture() {\n\n\t\t// layout (1 matrix = 4 pixels)\n\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\t\tlet size = Math.sqrt( this.bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\tsize = ceilPowerOfTwo( size );\n\t\tsize = Math.max( size, 4 );\n\n\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\tboneMatrices.set( this.boneMatrices ); // copy current values\n\n\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\tboneTexture.needsUpdate = true;\n\n\t\tthis.boneMatrices = boneMatrices;\n\t\tthis.boneTexture = boneTexture;\n\t\tthis.boneTextureSize = size;\n\n\t\treturn this;\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute = 1 ) {\n\n\t\tif ( typeof normalized === 'number' ) {\n\n\t\t\tmeshPerAttribute = normalized;\n\n\t\t\tnormalized = false;\n\n\t\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t\t}\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.isInstancedBufferAttribute = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isInstancedMesh = true;\n\n\t\tthis.instanceMatrix = new InstancedBufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new InstancedBufferAttribute( new Float32Array( this.instanceMatrix.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineBasicMaterial = true;\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isLine = true;\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tconst a = index.getX( i );\n\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineSegments = true;\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\t// we assume non-indexed geometry\n\n\t\tif ( geometry.index === null ) {\n\n\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\tconst lineDistances = [];\n\n\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isLineLoop = true;\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isPointsMaterial = true;\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.isPoints = true;\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst index = geometry.index;\n\t\tconst attributes = geometry.attributes;\n\t\tconst positionAttribute = attributes.position;\n\n\t\tif ( index !== null ) {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\t\tconst keys = Object.keys( morphAttributes );\n\n\t\tif ( keys.length > 0 ) {\n\n\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isVideoTexture = true;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nclass FramebufferTexture extends Texture {\n\n\tconstructor( width, height, format ) {\n\n\t\tsuper( { width, height } );\n\n\t\tthis.isFramebufferTexture = true;\n\n\t\tthis.format = format;\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.isCompressedTexture = true;\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.isCanvasTexture = true;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.isEllipseCurve = true;\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.isArcCurve = true;\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = /*@__PURE__*/ new Vector3();\nconst px = /*@__PURE__*/ new CubicPoly();\nconst py = /*@__PURE__*/ new CubicPoly();\nconst pz = /*@__PURE__*/ new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.isCatmullRomCurve3 = true;\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Bezier Curves formulas obtained from\n * https://en.wikipedia.org/wiki/B%C3%A9zier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve = true;\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isCubicBezierCurve3 = true;\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve = true;\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.type = 'LineCurve3';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve = true;\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.isQuadraticBezierCurve3 = true;\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.isSplineCurve = true;\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u, optionalTarget );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = curve.isEllipseCurve ? divisions * 2\n\t\t\t\t: ( curve.isLineCurve || curve.isLineCurve3 ) ? 1\n\t\t\t\t\t: curve.isSplineCurve ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points = [ new Vector2( 0, 0.5 ), new Vector2( 0.5, 0 ), new Vector2( 0, - 0.5 ) ], segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\t\tconst initNormals = [];\n\t\tconst normals = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tconst normal = new Vector3();\n\t\tconst curNormal = new Vector3();\n\t\tconst prevNormal = new Vector3();\n\t\tlet dx = 0;\n\t\tlet dy = 0;\n\n\t\t// pre-compute normals for initial \"meridian\"\n\n\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\tswitch ( j ) {\n\n\t\t\t\tcase 0:\t\t\t\t// special handling for 1st vertex on path\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tprevNormal.copy( normal );\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ( points.length - 1 ):\t// special handling for last Vertex on path\n\n\t\t\t\t\tinitNormals.push( prevNormal.x, prevNormal.y, prevNormal.z );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\t\t\t// default handling for all vertices in between\n\n\t\t\t\t\tdx = points[ j + 1 ].x - points[ j ].x;\n\t\t\t\t\tdy = points[ j + 1 ].y - points[ j ].y;\n\n\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\tnormal.y = - dx;\n\t\t\t\t\tnormal.z = dy * 0.0;\n\n\t\t\t\t\tcurNormal.copy( normal );\n\n\t\t\t\t\tnormal.x += prevNormal.x;\n\t\t\t\t\tnormal.y += prevNormal.y;\n\t\t\t\t\tnormal.z += prevNormal.z;\n\n\t\t\t\t\tnormal.normalize();\n\n\t\t\t\t\tinitNormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\tprevNormal.copy( curNormal );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices, uvs and normals\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// normal\n\n\t\t\t\tconst x = initNormals[ 3 * j + 0 ] * sin;\n\t\t\t\tconst y = initNormals[ 3 * j + 1 ];\n\t\t\t\tconst z = initNormals[ 3 * j + 0 ] * cos;\n\n\t\t\t\tnormals.push( x, y, z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( c, d, b );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new LatheGeometry( data.points, data.segments, data.phiStart, data.phiLength );\n\n\t}\n\n}\n\nclass CapsuleGeometry extends LatheGeometry {\n\n\tconstructor( radius = 1, length = 1, capSegments = 4, radialSegments = 8 ) {\n\n\t\tconst path = new Path();\n\t\tpath.absarc( 0, - length / 2, radius, Math.PI * 1.5, 0 );\n\t\tpath.absarc( 0, length / 2, radius, 0, Math.PI * 0.5 );\n\n\t\tsuper( path.getPoints( capSegments ), radialSegments );\n\n\t\tthis.type = 'CapsuleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: length,\n\t\t\tcapSegments: capSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CapsuleGeometry( data.radius, data.length, data.capSegments, data.radialSegments );\n\n\t}\n\n}\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CircleGeometry( data.radius, data.segments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CylinderGeometry( data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new ConeGeometry( data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices = [], indices = [], radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PolyhedronGeometry( data.vertices, data.indices, data.radius, data.details );\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (±1, ±1, ±1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, ±1/φ, ±φ)\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (±1/φ, ±φ, 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (±φ, 0, ±1/φ)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new DodecahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1$1 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\nconst _triangle = /*@__PURE__*/ new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null, thresholdAngle = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry,\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\tconst precisionPoints = 4;\n\t\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\t\tconst indexAttr = geometry.getIndex();\n\t\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\t\tconst indexArr = [ 0, 0, 0 ];\n\t\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\t\tconst hashes = new Array( 3 );\n\n\t\t\tconst edgeData = {};\n\t\t\tconst vertices = [];\n\t\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\t\tif ( indexAttr ) {\n\n\t\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t\t}\n\n\t\t\t\tconst { a, b, c } = _triangle;\n\t\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t\t// create hashes for the edge from the vertices\n\t\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t\t// skip degenerate triangles\n\t\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// iterate over every edge\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\t\tfor ( const key in edgeData ) {\n\n\t\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim = 2 ) {\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // doesn't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0.5, 0.5 ), new Vector2( - 0.5, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 1;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 0.2;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 0.1;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\tconst extrudePath = data.options.extrudePath;\n\n\t\tif ( extrudePath !== undefined ) {\n\n\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t}\n\n\t\treturn new ExtrudeGeometry( geometryShapes, data.options );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < Math.abs( a_x - b_x ) ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tdata.options = Object.assign( {}, options );\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new IcosahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new OctahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new RingGeometry( data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes = new Shape( [ new Vector2( 0, 0.5 ), new Vector2( - 0.5, - 0.5 ), new Vector2( 0.5, - 0.5 ) ] ), curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\treturn new ShapeGeometry( geometryShapes, data.curveSegments );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new SphereGeometry( data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TetrahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusGeometry( data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segment\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectors, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusKnotGeometry( data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q );\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path = new QuadraticBezierCurve3( new Vector3( - 1, - 1, 0 ), new Vector3( - 1, 1, 0 ), new Vector3( 1, 1, 0 ) ), tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\treturn new TubeGeometry(\n\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\tdata.tubularSegments,\n\t\t\tdata.radius,\n\t\t\tdata.radialSegments,\n\t\t\tdata.closed\n\t\t);\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry = null ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\t// buffer\n\n\t\t\tconst vertices = [];\n\t\t\tconst edges = new Set();\n\n\t\t\t// helper variables\n\n\t\t\tconst start = new Vector3();\n\t\t\tconst end = new Vector3();\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst indices = geometry.index;\n\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t\t}\n\n\t\t\t\t// create a data structure that contains all edges without duplicates\n\n\t\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\t\tconst groupStart = group.start;\n\t\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\t\tfor ( let i = groupStart, l = ( groupStart + groupCount ); i < l; i += 3 ) {\n\n\t\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\tconst index1 = indices.getX( i + j );\n\t\t\t\t\t\t\tconst index2 = indices.getX( i + ( j + 1 ) % 3 );\n\n\t\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\n\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n}\n\nfunction isUniqueEdge( start, end, edges ) {\n\n\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\tif ( edges.has( hash1 ) === true || edges.has( hash2 ) === true ) {\n\n\t\treturn false;\n\n\t} else {\n\n\t\tedges.add( hash1 );\n\t\tedges.add( hash2 );\n\t\treturn true;\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxGeometry,\n\tCapsuleGeometry: CapsuleGeometry,\n\tCapsuleBufferGeometry: CapsuleGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isShadowMaterial = true;\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.isRawShaderMaterial = true;\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshStandardMaterial = true;\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhysicalMaterial = true;\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.ior = 1.5;\n\n\t\tObject.defineProperty( this, 'reflectivity', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( clamp( 2.5 * ( this.ior - 1 ) / ( this.ior + 1 ), 0, 1 ) );\n\n\t\t\t},\n\t\t\tset: function ( reflectivity ) {\n\n\t\t\t\tthis.ior = ( 1 + 0.4 * reflectivity ) / ( 1 - 0.4 * reflectivity );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.iridescenceMap = null;\n\t\tthis.iridescenceIOR = 1.3;\n\t\tthis.iridescenceThicknessRange = [ 100, 400 ];\n\t\tthis.iridescenceThicknessMap = null;\n\n\t\tthis.sheenColor = new Color( 0x000000 );\n\t\tthis.sheenColorMap = null;\n\t\tthis.sheenRoughness = 1.0;\n\t\tthis.sheenRoughnessMap = null;\n\n\t\tthis.transmissionMap = null;\n\n\t\tthis.thickness = 0;\n\t\tthis.thicknessMap = null;\n\t\tthis.attenuationDistance = 0.0;\n\t\tthis.attenuationColor = new Color( 1, 1, 1 );\n\n\t\tthis.specularIntensity = 1.0;\n\t\tthis.specularIntensityMap = null;\n\t\tthis.specularColor = new Color( 1, 1, 1 );\n\t\tthis.specularColorMap = null;\n\n\t\tthis._sheen = 0.0;\n\t\tthis._clearcoat = 0;\n\t\tthis._iridescence = 0;\n\t\tthis._transmission = 0;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tget sheen() {\n\n\t\treturn this._sheen;\n\n\t}\n\n\tset sheen( value ) {\n\n\t\tif ( this._sheen > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._sheen = value;\n\n\t}\n\n\tget clearcoat() {\n\n\t\treturn this._clearcoat;\n\n\t}\n\n\tset clearcoat( value ) {\n\n\t\tif ( this._clearcoat > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._clearcoat = value;\n\n\t}\n\n\tget iridescence() {\n\n\t\treturn this._iridescence;\n\n\t}\n\n\tset iridescence( value ) {\n\n\t\tif ( this._iridescence > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._iridescence = value;\n\n\t}\n\n\tget transmission() {\n\n\t\treturn this._transmission;\n\n\t}\n\n\tset transmission( value ) {\n\n\t\tif ( this._transmission > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._transmission = value;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.ior = source.ior;\n\n\t\tthis.iridescence = source.iridescence;\n\t\tthis.iridescenceMap = source.iridescenceMap;\n\t\tthis.iridescenceIOR = source.iridescenceIOR;\n\t\tthis.iridescenceThicknessRange = [ ...source.iridescenceThicknessRange ];\n\t\tthis.iridescenceThicknessMap = source.iridescenceThicknessMap;\n\n\t\tthis.sheen = source.sheen;\n\t\tthis.sheenColor.copy( source.sheenColor );\n\t\tthis.sheenColorMap = source.sheenColorMap;\n\t\tthis.sheenRoughness = source.sheenRoughness;\n\t\tthis.sheenRoughnessMap = source.sheenRoughnessMap;\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\tthis.thickness = source.thickness;\n\t\tthis.thicknessMap = source.thicknessMap;\n\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\tthis.attenuationColor.copy( source.attenuationColor );\n\n\t\tthis.specularIntensity = source.specularIntensity;\n\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\tthis.specularColor.copy( source.specularColor );\n\t\tthis.specularColorMap = source.specularColorMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshPhongMaterial = true;\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshToonMaterial = true;\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshNormalMaterial = true;\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshLambertMaterial = true;\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isMeshMatcapMaterial = true;\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.fog = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.fog = source.fog;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.isLineDashedMaterial = true;\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.copySampleValue_( 0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * fps;\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tthis.manager.itemStart( url );\n\n\t\t\tsetTimeout( () => {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Initialise array for duplicate requests\n\t\tloading[ url ] = [];\n\n\t\tloading[ url ].push( {\n\t\t\tonLoad: onLoad,\n\t\t\tonProgress: onProgress,\n\t\t\tonError: onError,\n\t\t} );\n\n\t\t// create request\n\t\tconst req = new Request( url, {\n\t\t\theaders: new Headers( this.requestHeader ),\n\t\t\tcredentials: this.withCredentials ? 'include' : 'same-origin',\n\t\t\t// An abort controller could be added within a future PR\n\t\t} );\n\n\t\t// record states ( avoid data race )\n\t\tconst mimeType = this.mimeType;\n\t\tconst responseType = this.responseType;\n\n\t\t// start the fetch\n\t\tfetch( req )\n\t\t\t.then( response => {\n\n\t\t\t\tif ( response.status === 200 || response.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( response.status === 0 ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Workaround: Checking if response.body === undefined for Alipay browser #23548\n\n\t\t\t\t\tif ( typeof ReadableStream === 'undefined' || response.body === undefined || response.body.getReader === undefined ) {\n\n\t\t\t\t\t\treturn response;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\t\tconst reader = response.body.getReader();\n\t\t\t\t\tconst contentLength = response.headers.get( 'Content-Length' );\n\t\t\t\t\tconst total = contentLength ? parseInt( contentLength ) : 0;\n\t\t\t\t\tconst lengthComputable = total !== 0;\n\t\t\t\t\tlet loaded = 0;\n\n\t\t\t\t\t// periodically read data into the new stream tracking while download progress\n\t\t\t\t\tconst stream = new ReadableStream( {\n\t\t\t\t\t\tstart( controller ) {\n\n\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\tfunction readData() {\n\n\t\t\t\t\t\t\t\treader.read().then( ( { done, value } ) => {\n\n\t\t\t\t\t\t\t\t\tif ( done ) {\n\n\t\t\t\t\t\t\t\t\t\tcontroller.close();\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\tloaded += value.byteLength;\n\n\t\t\t\t\t\t\t\t\t\tconst event = new ProgressEvent( 'progress', { lengthComputable, loaded, total } );\n\t\t\t\t\t\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\t\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcontroller.enqueue( value );\n\t\t\t\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn new Response( stream );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow Error( `fetch for \"${response.url}\" responded with ${response.status}: ${response.statusText}` );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( response => {\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\n\t\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\treturn response.blob();\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\treturn response.text()\n\t\t\t\t\t\t\t.then( text => {\n\n\t\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\t\treturn parser.parseFromString( text, mimeType );\n\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\treturn response.json();\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( mimeType === undefined ) {\n\n\t\t\t\t\t\t\treturn response.text();\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// sniff encoding\n\t\t\t\t\t\t\tconst re = /charset=\"?([^;\"\\s]*)\"?/i;\n\t\t\t\t\t\t\tconst exec = re.exec( mimeType );\n\t\t\t\t\t\t\tconst label = exec && exec[ 1 ] ? exec[ 1 ].toLowerCase() : undefined;\n\t\t\t\t\t\t\tconst decoder = new TextDecoder( label );\n\t\t\t\t\t\t\treturn response.arrayBuffer().then( ab => decoder.decode( ab ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.then( data => {\n\n\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\tCache.add( url, data );\n\n\t\t\t\tconst callbacks = loading[ url ];\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( data );\n\n\t\t\t\t}\n\n\t\t\t} )\n\t\t\t.catch( err => {\n\n\t\t\t\t// Abort errors and other errors are handled the same\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tif ( callbacks === undefined ) {\n\n\t\t\t\t\t// When onLoad was called and url was deleted in `loading`\n\t\t\t\t\tthis.manager.itemError( url );\n\t\t\t\t\tthrow err;\n\n\t\t\t\t}\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( err );\n\n\t\t\t\t}\n\n\t\t\t\tthis.manager.itemError( url );\n\n\t\t\t} )\n\t\t\t.finally( () => {\n\n\t\t\t\tthis.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\tthis.manager.itemStart( url );\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = createElementNS( 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\tremoveEventListeners();\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction removeEventListeners() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.slice( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.isLight = true;\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.isHemisphereLight = true;\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\t\tthis.blurSamples = 8;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.isSpotLightShadow = true;\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isSpotLight = true;\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// by convention for a spotlight, luminous power (lm) = π * luminous intensity (cd)\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis.isPointLightShadow = true;\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isPointLight = true;\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// for an isotropic light source, luminous power (lm) = 4 π luminous intensity (cd)\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t\tthis.isDirectionalLightShadow = true;\n\n\t}\n\n}\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isDirectionalLight = true;\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isAmbientLight = true;\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.isRectAreaLight = true;\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in nits)\n\t\treturn this.intensity * this.width * this.height * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in nits) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( this.width * this.height * Math.PI );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.isSphericalHarmonics3 = true;\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isLightProbe = true;\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = MaterialLoader.createMaterialFromType( json.type );\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = json.sheen;\n\t\tif ( json.sheenColor !== undefined ) material.sheenColor = new Color().setHex( json.sheenColor );\n\t\tif ( json.sheenRoughness !== undefined ) material.sheenRoughness = json.sheenRoughness;\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.specularIntensity !== undefined ) material.specularIntensity = json.specularIntensity;\n\t\tif ( json.specularColor !== undefined && material.specularColor !== undefined ) material.specularColor.setHex( json.specularColor );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.iridescence !== undefined ) material.iridescence = json.iridescence;\n\t\tif ( json.iridescenceIOR !== undefined ) material.iridescenceIOR = json.iridescenceIOR;\n\t\tif ( json.iridescenceThicknessRange !== undefined ) material.iridescenceThicknessRange = json.iridescenceThicknessRange;\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.thickness !== undefined ) material.thickness = json.thickness;\n\t\tif ( json.attenuationDistance !== undefined ) material.attenuationDistance = json.attenuationDistance;\n\t\tif ( json.attenuationColor !== undefined && material.attenuationColor !== undefined ) material.attenuationColor.setHex( json.attenuationColor );\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\t\tif ( json.specularIntensityMap !== undefined ) material.specularIntensityMap = getTexture( json.specularIntensityMap );\n\t\tif ( json.specularColorMap !== undefined ) material.specularColorMap = getTexture( json.specularColorMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.iridescenceMap !== undefined ) material.iridescenceMap = getTexture( json.iridescenceMap );\n\t\tif ( json.iridescenceThicknessMap !== undefined ) material.iridescenceThicknessMap = getTexture( json.iridescenceThicknessMap );\n\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\t\tif ( json.thicknessMap !== undefined ) material.thicknessMap = getTexture( json.thicknessMap );\n\n\t\tif ( json.sheenColorMap !== undefined ) material.sheenColorMap = getTexture( json.sheenColorMap );\n\t\tif ( json.sheenRoughnessMap !== undefined ) material.sheenRoughnessMap = getTexture( json.sheenRoughnessMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n\tstatic createMaterialFromType( type ) {\n\n\t\tconst materialLib = {\n\t\t\tShadowMaterial,\n\t\t\tSpriteMaterial,\n\t\t\tRawShaderMaterial,\n\t\t\tShaderMaterial,\n\t\t\tPointsMaterial,\n\t\t\tMeshPhysicalMaterial,\n\t\t\tMeshStandardMaterial,\n\t\t\tMeshPhongMaterial,\n\t\t\tMeshToonMaterial,\n\t\t\tMeshNormalMaterial,\n\t\t\tMeshLambertMaterial,\n\t\t\tMeshDepthMaterial,\n\t\t\tMeshDistanceMaterial,\n\t\t\tMeshBasicMaterial,\n\t\t\tMeshMatcapMaterial,\n\t\t\tLineDashedMaterial,\n\t\t\tLineBasicMaterial,\n\t\t\tMaterial\n\t\t};\n\n\t\treturn new materialLib[ type ]();\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.slice( 0, index + 1 );\n\n\t}\n\n\tstatic resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isInstancedBufferGeometry = true;\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tasync loadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tconst text = await loader.loadAsync( url, onProgress );\n\n\t\tconst json = JSON.parse( text );\n\n\t\tconst metadata = json.metadata;\n\n\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\tthrow new Error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\n\t\t}\n\n\t\treturn await scope.parseAsync( json );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ].data instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tasync parseAsync( json ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = await this.parseImagesAsync( json.images );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, textures, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: The legacy Geometry type is no longer supported.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( data.type in Geometries ) {\n\n\t\t\t\t\t\t\tgeometry = Geometries[ data.type ].fromJSON( data, shapes );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( `THREE.ObjectLoader: Unsupported geometry type \"${ data.type }\"` );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tasync parseImagesAsync( json ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tasync function deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn await loader.loadAsync( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tloader = new ImageLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = await deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timageArray.push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timageArray.push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\timages[ image.uuid ] = new Source( imageArray );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = await deserializeImage( image.url );\n\t\t\t\t\timages[ image.uuid ] = new Source( deserializedImage );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tconst source = images[ data.image ];\n\t\t\t\tconst image = source.data;\n\n\t\t\t\tlet texture;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture();\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture();\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.source = source;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\tif ( data.userData !== undefined ) texture.userData = data.userData;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, textures, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tfunction getTexture( uuid ) {\n\n\t\t\tif ( textures[ uuid ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined texture', uuid );\n\n\t\t\t}\n\n\t\t\treturn textures[ uuid ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tobject.background = getTexture( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.environment !== undefined ) {\n\n\t\t\t\t\tobject.environment = getTexture( data.environment );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new InstancedBufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new InstancedBufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, textures, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.isImageBitmapLoader = true;\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isHemisphereLightProbe = true;\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.isAmbientLightProbe = true;\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\nconst _projectionMatrix = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t_projectionMatrix.copy( camera.projectionMatrix );\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( _projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\t_projectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\t_projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( _projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tdisconnect() {\n\n\t\tsuper.disconnect();\n\n\t\tthis.panner.disconnect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /*@__PURE__*/ /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /*@__PURE__*/ /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /*@__PURE__*/ /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /*@__PURE__*/ /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( matches === null ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( nodeName === undefined || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.targetObject[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.isAnimationObjectGroup = true;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _controlInterpolantsResultBuffer = /*@__PURE__*/ new Float32Array( 1 );\n\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, _controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.isInstancedInterleavedBuffer = true;\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.isGLBufferAttribute = true;\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = true, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = true, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be between EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.isBox2 = true;\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.type = 'SkeletonHelper';\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object.isBone === true ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttps://github.com/evanw/lightgl.js/blob/master/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2' );\n\t\taddLine( 'n2', 'n4' );\n\t\taddLine( 'n4', 'n3' );\n\t\taddLine( 'n3', 'n1' );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2' );\n\t\taddLine( 'f2', 'f4' );\n\t\taddLine( 'f4', 'f3' );\n\t\taddLine( 'f3', 'f1' );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1' );\n\t\taddLine( 'n2', 'f2' );\n\t\taddLine( 'n3', 'f3' );\n\t\taddLine( 'n4', 'f4' );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1' );\n\t\taddLine( 'p', 'n2' );\n\t\taddLine( 'p', 'n3' );\n\t\taddLine( 'p', 'n4' );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2' );\n\t\taddLine( 'u2', 'u3' );\n\t\taddLine( 'u3', 'u1' );\n\n\t\t// target\n\n\t\taddLine( 'c', 't' );\n\t\taddLine( 'p', 'c' );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2' );\n\t\taddLine( 'cn3', 'cn4' );\n\n\t\taddLine( 'cf1', 'cf2' );\n\t\taddLine( 'cf3', 'cf4' );\n\n\t\tfunction addLine( a, b ) {\n\n\t\t\taddPoint( a );\n\t\t\taddPoint( b );\n\n\t\t}\n\n\t\tfunction addPoint( id ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( 0, 0, 0 );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\tthis.setColors( colorFrustum, colorCone, colorUp, colorTarget, colorCross );\n\n\t}\n\n\tsetColors( frustum, cone, up, target, cross ) {\n\n\t\tconst geometry = this.geometry;\n\n\t\tconst colorAttribute = geometry.getAttribute( 'color' );\n\n\t\t// near\n\n\t\tcolorAttribute.setXYZ( 0, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 1, frustum.r, frustum.g, frustum.b ); // n1, n2\n\t\tcolorAttribute.setXYZ( 2, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 3, frustum.r, frustum.g, frustum.b ); // n2, n4\n\t\tcolorAttribute.setXYZ( 4, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 5, frustum.r, frustum.g, frustum.b ); // n4, n3\n\t\tcolorAttribute.setXYZ( 6, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 7, frustum.r, frustum.g, frustum.b ); // n3, n1\n\n\t\t// far\n\n\t\tcolorAttribute.setXYZ( 8, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 9, frustum.r, frustum.g, frustum.b ); // f1, f2\n\t\tcolorAttribute.setXYZ( 10, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 11, frustum.r, frustum.g, frustum.b ); // f2, f4\n\t\tcolorAttribute.setXYZ( 12, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 13, frustum.r, frustum.g, frustum.b ); // f4, f3\n\t\tcolorAttribute.setXYZ( 14, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 15, frustum.r, frustum.g, frustum.b ); // f3, f1\n\n\t\t// sides\n\n\t\tcolorAttribute.setXYZ( 16, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 17, frustum.r, frustum.g, frustum.b ); // n1, f1\n\t\tcolorAttribute.setXYZ( 18, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 19, frustum.r, frustum.g, frustum.b ); // n2, f2\n\t\tcolorAttribute.setXYZ( 20, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 21, frustum.r, frustum.g, frustum.b ); // n3, f3\n\t\tcolorAttribute.setXYZ( 22, frustum.r, frustum.g, frustum.b ); colorAttribute.setXYZ( 23, frustum.r, frustum.g, frustum.b ); // n4, f4\n\n\t\t// cone\n\n\t\tcolorAttribute.setXYZ( 24, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 25, cone.r, cone.g, cone.b ); // p, n1\n\t\tcolorAttribute.setXYZ( 26, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 27, cone.r, cone.g, cone.b ); // p, n2\n\t\tcolorAttribute.setXYZ( 28, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 29, cone.r, cone.g, cone.b ); // p, n3\n\t\tcolorAttribute.setXYZ( 30, cone.r, cone.g, cone.b ); colorAttribute.setXYZ( 31, cone.r, cone.g, cone.b ); // p, n4\n\n\t\t// up\n\n\t\tcolorAttribute.setXYZ( 32, up.r, up.g, up.b ); colorAttribute.setXYZ( 33, up.r, up.g, up.b ); // u1, u2\n\t\tcolorAttribute.setXYZ( 34, up.r, up.g, up.b ); colorAttribute.setXYZ( 35, up.r, up.g, up.b ); // u2, u3\n\t\tcolorAttribute.setXYZ( 36, up.r, up.g, up.b ); colorAttribute.setXYZ( 37, up.r, up.g, up.b ); // u3, u1\n\n\t\t// target\n\n\t\tcolorAttribute.setXYZ( 38, target.r, target.g, target.b ); colorAttribute.setXYZ( 39, target.r, target.g, target.b ); // c, t\n\t\tcolorAttribute.setXYZ( 40, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 41, cross.r, cross.g, cross.b ); // p, c\n\n\t\t// cross\n\n\t\tcolorAttribute.setXYZ( 42, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 43, cross.r, cross.g, cross.b ); // cn1, cn2\n\t\tcolorAttribute.setXYZ( 44, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 45, cross.r, cross.g, cross.b ); // cn3, cn4\n\n\t\tcolorAttribute.setXYZ( 46, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 47, cross.r, cross.g, cross.b ); // cf1, cf2\n\t\tcolorAttribute.setXYZ( 48, cross.r, cross.g, cross.b ); colorAttribute.setXYZ( 49, cross.r, cross.g, cross.b ); // cf3, cf4\n\n\t\tcolorAttribute.needsUpdate = true;\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tsetColors( xAxisColor, yAxisColor, zAxisColor ) {\n\n\t\tconst color = new Color();\n\t\tconst array = this.geometry.attributes.color.array;\n\n\t\tcolor.set( xAxisColor );\n\t\tcolor.toArray( array, 0 );\n\t\tcolor.toArray( array, 3 );\n\n\t\tcolor.set( yAxisColor );\n\t\tcolor.toArray( array, 6 );\n\t\tcolor.toArray( array, 9 );\n\n\t\tcolor.set( zAxisColor );\n\t\tcolor.toArray( array, 12 );\n\t\tcolor.toArray( array, 15 );\n\n\t\tthis.geometry.attributes.color.needsUpdate = true;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tlet toChange = 0;\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange ++;\n\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( toChange > 0 && ambiguous === false ) {\n\n\t\t\t\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\n// Fast Half Float Conversions, http://www.fox-toolkit.org/ftp/fasthalffloatconversion.pdf\n\nconst {\n\tfloatView: _floatView,\n\tuint32View: _uint32View,\n\tbaseTable: _baseTable,\n\tshiftTable: _shiftTable,\n\tmantissaTable: _mantissaTable,\n\texponentTable: _exponentTable,\n\toffsetTable: _offsetTable\n} = /*@__PURE__*/ _generateTables();\n\nfunction _generateTables() {\n\n\t// float32 to float16 helpers\n\n\tconst buffer = new ArrayBuffer( 4 );\n\tconst floatView = new Float32Array( buffer );\n\tconst uint32View = new Uint32Array( buffer );\n\n\tconst baseTable = new Uint32Array( 512 );\n\tconst shiftTable = new Uint32Array( 512 );\n\n\tfor ( let i = 0; i < 256; ++ i ) {\n\n\t\tconst e = i - 127;\n\n\t\t// very small number (0, -0)\n\n\t\tif ( e < - 27 ) {\n\n\t\t\tbaseTable[ i ] = 0x0000;\n\t\t\tbaseTable[ i | 0x100 ] = 0x8000;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// small number (denorm)\n\n\t\t} else if ( e < - 14 ) {\n\n\t\t\tbaseTable[ i ] = 0x0400 >> ( - e - 14 );\n\t\t\tbaseTable[ i | 0x100 ] = ( 0x0400 >> ( - e - 14 ) ) | 0x8000;\n\t\t\tshiftTable[ i ] = - e - 1;\n\t\t\tshiftTable[ i | 0x100 ] = - e - 1;\n\n\t\t\t// normal number\n\n\t\t} else if ( e <= 15 ) {\n\n\t\t\tbaseTable[ i ] = ( e + 15 ) << 10;\n\t\t\tbaseTable[ i | 0x100 ] = ( ( e + 15 ) << 10 ) | 0x8000;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t\t// large number (Infinity, -Infinity)\n\n\t\t} else if ( e < 128 ) {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 24;\n\t\t\tshiftTable[ i | 0x100 ] = 24;\n\n\t\t\t// stay (NaN, Infinity, -Infinity)\n\n\t\t} else {\n\n\t\t\tbaseTable[ i ] = 0x7c00;\n\t\t\tbaseTable[ i | 0x100 ] = 0xfc00;\n\t\t\tshiftTable[ i ] = 13;\n\t\t\tshiftTable[ i | 0x100 ] = 13;\n\n\t\t}\n\n\t}\n\n\t// float16 to float32 helpers\n\n\tconst mantissaTable = new Uint32Array( 2048 );\n\tconst exponentTable = new Uint32Array( 64 );\n\tconst offsetTable = new Uint32Array( 64 );\n\n\tfor ( let i = 1; i < 1024; ++ i ) {\n\n\t\tlet m = i << 13; // zero pad mantissa bits\n\t\tlet e = 0; // zero exponent\n\n\t\t// normalized\n\t\twhile ( ( m & 0x00800000 ) === 0 ) {\n\n\t\t\tm <<= 1;\n\t\t\te -= 0x00800000; // decrement exponent\n\n\t\t}\n\n\t\tm &= ~ 0x00800000; // clear leading 1 bit\n\t\te += 0x38800000; // adjust bias\n\n\t\tmantissaTable[ i ] = m | e;\n\n\t}\n\n\tfor ( let i = 1024; i < 2048; ++ i ) {\n\n\t\tmantissaTable[ i ] = 0x38000000 + ( ( i - 1024 ) << 13 );\n\n\t}\n\n\tfor ( let i = 1; i < 31; ++ i ) {\n\n\t\texponentTable[ i ] = i << 23;\n\n\t}\n\n\texponentTable[ 31 ] = 0x47800000;\n\texponentTable[ 32 ] = 0x80000000;\n\n\tfor ( let i = 33; i < 63; ++ i ) {\n\n\t\texponentTable[ i ] = 0x80000000 + ( ( i - 32 ) << 23 );\n\n\t}\n\n\texponentTable[ 63 ] = 0xc7800000;\n\n\tfor ( let i = 1; i < 64; ++ i ) {\n\n\t\tif ( i !== 32 ) {\n\n\t\t\toffsetTable[ i ] = 1024;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tfloatView: floatView,\n\t\tuint32View: uint32View,\n\t\tbaseTable: baseTable,\n\t\tshiftTable: shiftTable,\n\t\tmantissaTable: mantissaTable,\n\t\texponentTable: exponentTable,\n\t\toffsetTable: offsetTable,\n\t};\n\n}\n\n// float32 to float16\n\nfunction toHalfFloat( val ) {\n\n\tif ( Math.abs( val ) > 65504 ) console.warn( 'THREE.DataUtils.toHalfFloat(): Value out of range.' );\n\n\tval = clamp( val, - 65504, 65504 );\n\n\t_floatView[ 0 ] = val;\n\tconst f = _uint32View[ 0 ];\n\tconst e = ( f >> 23 ) & 0x1ff;\n\treturn _baseTable[ e ] + ( ( f & 0x007fffff ) >> _shiftTable[ e ] );\n\n}\n\n// float16 to float32\n\nfunction fromHalfFloat( val ) {\n\n\tconst m = val >> 10;\n\t_uint32View[ 0 ] = _mantissaTable[ _offsetTable[ m ] + ( val & 0x3ff ) ] + _exponentTable[ m ];\n\treturn _floatView[ 0 ];\n\n}\n\nvar DataUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\ttoHalfFloat: toHalfFloat,\n\tfromHalfFloat: fromHalfFloat\n});\n\n// r133, c5bb5434555a3c3ddd784944a0a124f996fc721b\n\nclass ParametricGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tconsole.error( 'THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js' );\n\t\tsuper();\n\n\t}\n\n}\n\n// r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\nclass TextGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tconsole.error( 'THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js' );\n\t\tsuper();\n\n\t}\n\n}\n\n// r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\nfunction FontLoader() {\n\n\tconsole.error( 'THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js' );\n\n}\n\n// r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\nfunction Font() {\n\n\tconsole.error( 'THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js' );\n\n}\n\n// r134, d65e0af06644fe5a84a6fc0e372f4318f95a04c0\n\nfunction ImmediateRenderObject() {\n\n\tconsole.error( 'THREE.ImmediateRenderObject has been removed.' );\n\n}\n\n// r138, 48b05d3500acc084df50be9b4c90781ad9b8cb17\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tconsole.error( 'THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the \"samples\" property to greater 0 to enable multisampling.' );\n\t\tsuper( width, height, options );\n\t\tthis.samples = 4;\n\n\t}\n\n}\n\n// r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\nclass DataTexture2DArray extends DataArrayTexture {\n\n\tconstructor( data, width, height, depth ) {\n\n\t\tconsole.warn( 'THREE.DataTexture2DArray has been renamed to DataArrayTexture.' );\n\t\tsuper( data, width, height, depth );\n\n\t}\n\n}\n\n// r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\nclass DataTexture3D extends Data3DTexture {\n\n\tconstructor( data, width, height, depth ) {\n\n\t\tconsole.warn( 'THREE.DataTexture3D has been renamed to Data3DTexture.' );\n\t\tsuper( data, width, height, depth );\n\n\t}\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, BackSide, BasicDepthPacking, BasicShadowMap, Bone, BooleanKeyframeTrack, Box2, Box3, Box3Helper, BoxGeometry as BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasTexture, CapsuleGeometry as CapsuleBufferGeometry, CapsuleGeometry, CatmullRomCurve3, CineonToneMapping, CircleGeometry as CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, ColorManagement, CompressedTexture, CompressedTextureLoader, ConeGeometry as ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderGeometry as CylinderBufferGeometry, CylinderGeometry, Cylindrical, Data3DTexture, DataArrayTexture, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronGeometry as DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeGeometry as ExtrudeBufferGeometry, ExtrudeGeometry, FileLoader, FlatShading, Float16BufferAttribute, Float32BufferAttribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FramebufferTexture, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronGeometry as IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16BufferAttribute, Int32BufferAttribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, KeepStencilOp, KeyframeTrack, LOD, LatheGeometry as LatheBufferGeometry, LatheGeometry, Layers, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LineSegments, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearSRGBColorSpace, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColorSpace, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronGeometry as OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricGeometry, Path, PerspectiveCamera, Plane, PlaneGeometry as PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronGeometry as PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBFormat, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingGeometry as RingBufferGeometry, RingGeometry, SRGBColorSpace, Scene, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeGeometry as ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Source, Sphere, SphereGeometry as SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronGeometry as TetrahedronBufferGeometry, TetrahedronGeometry, TextGeometry, Texture, TextureLoader, TorusGeometry as TorusBufferGeometry, TorusGeometry, TorusKnotGeometry as TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeGeometry as TubeBufferGeometry, TubeGeometry, UVMapping, Uint16BufferAttribute, Uint32BufferAttribute, Uint8BufferAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, VideoTexture, WebGL1Renderer, WebGL3DRenderTarget, WebGLArrayRenderTarget, WebGLCubeRenderTarget, WebGLMultipleRenderTargets, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderer, WebGLUtils, WireframeGeometry, WrapAroundEnding, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, _SRGBAFormat, sRGBEncoding };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t    removePointer( event );\n\n\t\t    if ( pointers.length === 0 ) {\n\n\t\t        scope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t        scope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t        scope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t    }\n\n\t\t    scope.dispatchEvent( _endEvent );\n\n\t\t    state = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n","/*!\nfflate - fast JavaScript compression/decompression\n<https://101arrowz.github.io/fflate>\nLicensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE\nversion 0.6.9\n*/\n\n// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar durl = function (c) { return URL.createObjectURL(new Blob([c], { type: 'text/javascript' })); };\nvar cwk = function (u) { return new Worker(u); };\ntry {\n    URL.revokeObjectURL(durl(''));\n}\ncatch (e) {\n    // We're in Deno or a very old browser\n    durl = function (c) { return 'data:application/javascript;charset=UTF-8,' + encodeURI(c); };\n    // If Deno, this is necessary; if not, this changes nothing\n    cwk = function (u) { return new Worker(u, { type: 'module' }); };\n}\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = cwk(ch2[id] || (ch2[id] = durl(c)));\n    w.onerror = function (e) { return cb(e.error, null); };\n    w.onmessage = function (e) { return cb(null, e.data); };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i)\n        ++l[cd[i] - 1];\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p / 8) | 0) + (p & 7 && 1); };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    if (!sl || (st && !st.l && sl < 5))\n        return buf || new u8(0);\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            st.f = final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                throw 'invalid block type';\n            if (pos > tbts) {\n                if (noSt)\n                    throw 'unexpected EOF';\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    throw 'unexpected EOF';\n                break;\n            }\n            if (!c)\n                throw 'invalid length/literal';\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    throw 'invalid distance';\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [et, 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e < s) {\n                // write full block\n                pos = wfblk(w, pos, dat.subarray(i, e));\n            }\n            else {\n                // write final block\n                w[i] = lst;\n                pos = wfblk(w, pos, dat.subarray(i, s));\n            }\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            // deopt when i > s - 3 - at end, deopt acceptable\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst && pos & 7)\n            pos = wfblk(w, pos + 1, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new u32(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && 0xEDB88320) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/ /g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return [fnStr, td];\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32)\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    var _a;\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n        ch[id] = wcln(fns[m], fnStr, td_1);\n    }\n    var td = mrg({}, ch[id][1]);\n    return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8]; };\nvar bDflt = function () { return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zlv]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get u8\nvar gu8 = function (o) { return o && o.size && new u8(o.size); };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (t)\n            throw 'stream finished';\n        if (!strm.ondata)\n            throw 'no stream handler';\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        throw 'invalid gzip data';\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += d[10] | (d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return ((d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) | (d[l - 1] << 24)) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + ((o.filename && (o.filename.length + 1)) || 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        throw 'invalid zlib data';\n    if (d[1] & 32)\n        throw 'invalid zlib data: preset dictionaries not supported';\n};\nfunction AsyncCmpStrm(opts, cb) {\n    if (!cb && typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n// zlib footer: -4 to -0 is Adler32\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (!cb && typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, !f), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        this.d = final;\n        this.p(chunk, final || false);\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an inflation stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Inflate(cb) {\n        this.s = {};\n        this.p = new u8(0);\n        this.ondata = cb;\n    }\n    Inflate.prototype.e = function (c) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        var l = this.p.length;\n        var n = new u8(l + c.length);\n        n.set(this.p), n.set(c, l), this.p = n;\n    };\n    Inflate.prototype.c = function (final) {\n        this.d = this.s.i = final || false;\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.o, this.s);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous inflation stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncInflate(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, 0, function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gu8(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, out) {\n    return inflt(data, out);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        this.c.p(c);\n        this.l += c.length;\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a GUNZIP stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Gunzip(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var s = this.p.length > 3 ? gzs(this.p) : 4;\n            if (s >= this.p.length && !final)\n                return;\n            this.p = this.p.subarray(s), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 8)\n                throw 'invalid gzip stream';\n            this.p = this.p.subarray(0, -8);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous GUNZIP stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncGunzip(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, 0, function () {\n            var strm = new Gunzip();\n            onmessage = astrm(strm);\n        }, 9);\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, out) {\n    return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        this.c.p(c);\n        var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates a Zlib decompression stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Unzlib(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 2 && !final)\n                return;\n            this.p = this.p.subarray(2), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                throw 'invalid zlib stream';\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous Zlib decompression stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncUnzlib(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, 0, function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gu8(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    /**\n     * Creates a decompression stream\n     * @param cb The callback to call whenever data is decompressed\n     */\n    function Decompress(cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no stream handler';\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_1 = this;\n                var cb = function () { _this_1.ondata.apply(_this_1, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(cb)\n                        : new this.Z(cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    /**\n   * Creates an asynchronous decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n    function AsyncDecompress(cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, out) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, out)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, out)\n            : unzlibSync(data, out);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k;\n        if (val instanceof u8)\n            t[n] = [val, o];\n        else if (Array.isArray(val))\n            t[n] = [val[0], mrg(o, val[1])];\n        else\n            fltn(val, n + '/', t, o);\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return [r, slc(d, i - 1)];\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no callback';\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    throw 'invalid utf-8 data';\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            throw 'stream finished';\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), ch = _a[0], np = _a[1];\n        if (final) {\n            if (np.length)\n                throw 'invalid utf-8 data';\n            this.p = null;\n        }\n        else\n            this.p = np;\n        this.ondata(ch, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no callback';\n        if (this.d)\n            throw 'stream finished';\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td)\n        return td.decode(dat);\n    else {\n        var _a = dutf8(dat), out = _a[0], ext = _a[1];\n        if (ext.length)\n            throw 'invalid utf-8 data';\n        return out;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                throw 'extra field too long';\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c == null && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        throw 'date not in range 1980-2099';\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1)), b += 4;\n    if (c != null) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no callback - add to ZIP archive before pushing';\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this_1.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this_1 = this;\n        if (this.d & 2)\n            throw 'stream finished';\n        var f = strToU8(file.filename), fl = f.length;\n        var com = file.comment, o = com && strToU8(com);\n        var u = fl != file.filename.length || (o && (com.length != o.length));\n        var hl = fl + exfl(file.extra) + 30;\n        if (fl > 65535)\n            throw 'filename too long';\n        var header = new u8(hl);\n        wzh(header, 0, file, f, u);\n        var chks = [header];\n        var pAll = function () {\n            for (var _i = 0, chks_1 = chks; _i < chks_1.length; _i++) {\n                var chk = chks_1[_i];\n                _this_1.ondata(null, chk, false);\n            }\n            chks = [];\n        };\n        var tr = this.d;\n        this.d = 0;\n        var ind = this.u.length;\n        var uf = mrg(file, {\n            f: f,\n            u: u,\n            o: o,\n            t: function () {\n                if (file.terminate)\n                    file.terminate();\n            },\n            r: function () {\n                pAll();\n                if (tr) {\n                    var nxt = _this_1.u[ind + 1];\n                    if (nxt)\n                        nxt.r();\n                    else\n                        _this_1.d = 1;\n                }\n                tr = 1;\n            }\n        });\n        var cl = 0;\n        file.ondata = function (err, dat, final) {\n            if (err) {\n                _this_1.ondata(err, dat, final);\n                _this_1.terminate();\n            }\n            else {\n                cl += dat.length;\n                chks.push(dat);\n                if (final) {\n                    var dd = new u8(16);\n                    wbytes(dd, 0, 0x8074B50);\n                    wbytes(dd, 4, file.crc);\n                    wbytes(dd, 8, cl);\n                    wbytes(dd, 12, file.size);\n                    chks.push(dd);\n                    uf.c = cl, uf.b = hl + cl + 16, uf.crc = file.crc, uf.size = file.size;\n                    if (tr)\n                        uf.r();\n                    tr = 1;\n                }\n                else if (tr)\n                    pAll();\n            }\n        };\n        this.u.push(uf);\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this_1 = this;\n        if (this.d & 2) {\n            if (this.d & 1)\n                throw 'stream finishing';\n            throw 'stream finished';\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this_1.d & 1))\n                        return;\n                    _this_1.u.splice(-1, 1);\n                    _this_1.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, f.c, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cb(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cb(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl('filename too long', null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            throw 'filename too long';\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this_1 = this;\n        this.i = new Inflate(function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, data, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this_1 = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this_1.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this_1.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this_1 = this;\n        if (!this.onfile)\n            throw 'no callback';\n        if (!this.p)\n            throw 'stream finished';\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_2 = [];\n                        this_1.k.unshift(chks_2);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    throw 'no callback';\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this_1.o[cmp_1];\n                                    if (!ctr)\n                                        throw 'unknown compression type ' + cmp_1;\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_3 = chks_2; _i < chks_3.length; _i++) {\n                                        var dat = chks_3[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this_1.k[0] == chks_2 && _this_1.c)\n                                        _this_1.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                throw 'invalid zip file';\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\n/**\n * Asynchronously decompresses a ZIP archive\n * @param data The raw compressed ZIP file\n * @param cb The callback to call with the decompressed files\n * @returns A function that can be used to immediately terminate the unzipping\n */\nexport function unzip(data, cb) {\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cb('invalid zip file', null);\n            return;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (!lft)\n        cb(null, {});\n    var c = lft;\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50) {\n            cb('invalid zip file', null);\n            return;\n        }\n        c = lft = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    var _loop_3 = function (i) {\n        var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                files[fn] = d;\n                if (!--lft)\n                    cb(null, files);\n            }\n        };\n        if (!c_1)\n            cbl(null, slc(data, b, b + sc));\n        else if (c_1 == 8) {\n            var infl = data.subarray(b, b + sc);\n            if (sc < 320000) {\n                try {\n                    cbl(null, inflateSync(infl, new u8(su)));\n                }\n                catch (e) {\n                    cbl(e, null);\n                }\n            }\n            else\n                term.push(inflate(infl, { size: su }, cbl));\n        }\n        else\n            cbl('unknown compression type ' + c_1, null);\n    };\n    for (var i = 0; i < c; ++i) {\n        _loop_3(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @returns The decompressed files\n */\nexport function unzipSync(data) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            throw 'invalid zip file';\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!c_2)\n            files[fn] = slc(data, b, b + sc);\n        else if (c_2 == 8)\n            files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n        else\n            throw 'unknown compression type ' + c_2;\n    }\n    return files;\n}\n","import {\n\tVector3,\n\tVector4\n} from 'three';\n\n/**\n * NURBS utils\n *\n * See NURBSCurve and NURBSSurface.\n **/\n\n\n/**************************************************************\n *\tNURBS Utils\n **************************************************************/\n\n/*\nFinds knot vector span.\n\np : degree\nu : parametric value\nU : knot vector\n\nreturns the span\n*/\nfunction findSpan( p, u, U ) {\n\n\tconst n = U.length - p - 1;\n\n\tif ( u >= U[ n ] ) {\n\n\t\treturn n - 1;\n\n\t}\n\n\tif ( u <= U[ p ] ) {\n\n\t\treturn p;\n\n\t}\n\n\tlet low = p;\n\tlet high = n;\n\tlet mid = Math.floor( ( low + high ) / 2 );\n\n\twhile ( u < U[ mid ] || u >= U[ mid + 1 ] ) {\n\n\t\tif ( u < U[ mid ] ) {\n\n\t\t\thigh = mid;\n\n\t\t} else {\n\n\t\t\tlow = mid;\n\n\t\t}\n\n\t\tmid = Math.floor( ( low + high ) / 2 );\n\n\t}\n\n\treturn mid;\n\n}\n\n\n/*\nCalculate basis functions. See The NURBS Book, page 70, algorithm A2.2\n\nspan : span in which u lies\nu    : parametric point\np    : degree\nU    : knot vector\n\nreturns array[p+1] with basis functions values.\n*/\nfunction calcBasisFunctions( span, u, p, U ) {\n\n\tconst N = [];\n\tconst left = [];\n\tconst right = [];\n\tN[ 0 ] = 1.0;\n\n\tfor ( let j = 1; j <= p; ++ j ) {\n\n\t\tleft[ j ] = u - U[ span + 1 - j ];\n\t\tright[ j ] = U[ span + j ] - u;\n\n\t\tlet saved = 0.0;\n\n\t\tfor ( let r = 0; r < j; ++ r ) {\n\n\t\t\tconst rv = right[ r + 1 ];\n\t\t\tconst lv = left[ j - r ];\n\t\t\tconst temp = N[ r ] / ( rv + lv );\n\t\t\tN[ r ] = saved + rv * temp;\n\t\t\tsaved = lv * temp;\n\n\t\t}\n\n\t\tN[ j ] = saved;\n\n\t}\n\n\treturn N;\n\n}\n\n\n/*\nCalculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.\n\np : degree of B-Spline\nU : knot vector\nP : control points (x, y, z, w)\nu : parametric point\n\nreturns point for given u\n*/\nfunction calcBSplinePoint( p, U, P, u ) {\n\n\tconst span = findSpan( p, u, U );\n\tconst N = calcBasisFunctions( span, u, p, U );\n\tconst C = new Vector4( 0, 0, 0, 0 );\n\n\tfor ( let j = 0; j <= p; ++ j ) {\n\n\t\tconst point = P[ span - p + j ];\n\t\tconst Nj = N[ j ];\n\t\tconst wNj = point.w * Nj;\n\t\tC.x += point.x * wNj;\n\t\tC.y += point.y * wNj;\n\t\tC.z += point.z * wNj;\n\t\tC.w += point.w * Nj;\n\n\t}\n\n\treturn C;\n\n}\n\n\n/*\nCalculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.\n\nspan : span in which u lies\nu    : parametric point\np    : degree\nn    : number of derivatives to calculate\nU    : knot vector\n\nreturns array[n+1][p+1] with basis functions derivatives\n*/\nfunction calcBasisFunctionDerivatives( span, u, p, n, U ) {\n\n\tconst zeroArr = [];\n\tfor ( let i = 0; i <= p; ++ i )\n\t\tzeroArr[ i ] = 0.0;\n\n\tconst ders = [];\n\n\tfor ( let i = 0; i <= n; ++ i )\n\t\tders[ i ] = zeroArr.slice( 0 );\n\n\tconst ndu = [];\n\n\tfor ( let i = 0; i <= p; ++ i )\n\t\tndu[ i ] = zeroArr.slice( 0 );\n\n\tndu[ 0 ][ 0 ] = 1.0;\n\n\tconst left = zeroArr.slice( 0 );\n\tconst right = zeroArr.slice( 0 );\n\n\tfor ( let j = 1; j <= p; ++ j ) {\n\n\t\tleft[ j ] = u - U[ span + 1 - j ];\n\t\tright[ j ] = U[ span + j ] - u;\n\n\t\tlet saved = 0.0;\n\n\t\tfor ( let r = 0; r < j; ++ r ) {\n\n\t\t\tconst rv = right[ r + 1 ];\n\t\t\tconst lv = left[ j - r ];\n\t\t\tndu[ j ][ r ] = rv + lv;\n\n\t\t\tconst temp = ndu[ r ][ j - 1 ] / ndu[ j ][ r ];\n\t\t\tndu[ r ][ j ] = saved + rv * temp;\n\t\t\tsaved = lv * temp;\n\n\t\t}\n\n\t\tndu[ j ][ j ] = saved;\n\n\t}\n\n\tfor ( let j = 0; j <= p; ++ j ) {\n\n\t\tders[ 0 ][ j ] = ndu[ j ][ p ];\n\n\t}\n\n\tfor ( let r = 0; r <= p; ++ r ) {\n\n\t\tlet s1 = 0;\n\t\tlet s2 = 1;\n\n\t\tconst a = [];\n\t\tfor ( let i = 0; i <= p; ++ i ) {\n\n\t\t\ta[ i ] = zeroArr.slice( 0 );\n\n\t\t}\n\n\t\ta[ 0 ][ 0 ] = 1.0;\n\n\t\tfor ( let k = 1; k <= n; ++ k ) {\n\n\t\t\tlet d = 0.0;\n\t\t\tconst rk = r - k;\n\t\t\tconst pk = p - k;\n\n\t\t\tif ( r >= k ) {\n\n\t\t\t\ta[ s2 ][ 0 ] = a[ s1 ][ 0 ] / ndu[ pk + 1 ][ rk ];\n\t\t\t\td = a[ s2 ][ 0 ] * ndu[ rk ][ pk ];\n\n\t\t\t}\n\n\t\t\tconst j1 = ( rk >= - 1 ) ? 1 : - rk;\n\t\t\tconst j2 = ( r - 1 <= pk ) ? k - 1 : p - r;\n\n\t\t\tfor ( let j = j1; j <= j2; ++ j ) {\n\n\t\t\t\ta[ s2 ][ j ] = ( a[ s1 ][ j ] - a[ s1 ][ j - 1 ] ) / ndu[ pk + 1 ][ rk + j ];\n\t\t\t\td += a[ s2 ][ j ] * ndu[ rk + j ][ pk ];\n\n\t\t\t}\n\n\t\t\tif ( r <= pk ) {\n\n\t\t\t\ta[ s2 ][ k ] = - a[ s1 ][ k - 1 ] / ndu[ pk + 1 ][ r ];\n\t\t\t\td += a[ s2 ][ k ] * ndu[ r ][ pk ];\n\n\t\t\t}\n\n\t\t\tders[ k ][ r ] = d;\n\n\t\t\tconst j = s1;\n\t\t\ts1 = s2;\n\t\t\ts2 = j;\n\n\t\t}\n\n\t}\n\n\tlet r = p;\n\n\tfor ( let k = 1; k <= n; ++ k ) {\n\n\t\tfor ( let j = 0; j <= p; ++ j ) {\n\n\t\t\tders[ k ][ j ] *= r;\n\n\t\t}\n\n\t\tr *= p - k;\n\n\t}\n\n\treturn ders;\n\n}\n\n\n/*\n\tCalculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.\n\n\tp  : degree\n\tU  : knot vector\n\tP  : control points\n\tu  : Parametric points\n\tnd : number of derivatives\n\n\treturns array[d+1] with derivatives\n\t*/\nfunction calcBSplineDerivatives( p, U, P, u, nd ) {\n\n\tconst du = nd < p ? nd : p;\n\tconst CK = [];\n\tconst span = findSpan( p, u, U );\n\tconst nders = calcBasisFunctionDerivatives( span, u, p, du, U );\n\tconst Pw = [];\n\n\tfor ( let i = 0; i < P.length; ++ i ) {\n\n\t\tconst point = P[ i ].clone();\n\t\tconst w = point.w;\n\n\t\tpoint.x *= w;\n\t\tpoint.y *= w;\n\t\tpoint.z *= w;\n\n\t\tPw[ i ] = point;\n\n\t}\n\n\tfor ( let k = 0; k <= du; ++ k ) {\n\n\t\tconst point = Pw[ span - p ].clone().multiplyScalar( nders[ k ][ 0 ] );\n\n\t\tfor ( let j = 1; j <= p; ++ j ) {\n\n\t\t\tpoint.add( Pw[ span - p + j ].clone().multiplyScalar( nders[ k ][ j ] ) );\n\n\t\t}\n\n\t\tCK[ k ] = point;\n\n\t}\n\n\tfor ( let k = du + 1; k <= nd + 1; ++ k ) {\n\n\t\tCK[ k ] = new Vector4( 0, 0, 0 );\n\n\t}\n\n\treturn CK;\n\n}\n\n\n/*\nCalculate \"K over I\"\n\nreturns k!/(i!(k-i)!)\n*/\nfunction calcKoverI( k, i ) {\n\n\tlet nom = 1;\n\n\tfor ( let j = 2; j <= k; ++ j ) {\n\n\t\tnom *= j;\n\n\t}\n\n\tlet denom = 1;\n\n\tfor ( let j = 2; j <= i; ++ j ) {\n\n\t\tdenom *= j;\n\n\t}\n\n\tfor ( let j = 2; j <= k - i; ++ j ) {\n\n\t\tdenom *= j;\n\n\t}\n\n\treturn nom / denom;\n\n}\n\n\n/*\nCalculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.\n\nPders : result of function calcBSplineDerivatives\n\nreturns array with derivatives for rational curve.\n*/\nfunction calcRationalCurveDerivatives( Pders ) {\n\n\tconst nd = Pders.length;\n\tconst Aders = [];\n\tconst wders = [];\n\n\tfor ( let i = 0; i < nd; ++ i ) {\n\n\t\tconst point = Pders[ i ];\n\t\tAders[ i ] = new Vector3( point.x, point.y, point.z );\n\t\twders[ i ] = point.w;\n\n\t}\n\n\tconst CK = [];\n\n\tfor ( let k = 0; k < nd; ++ k ) {\n\n\t\tconst v = Aders[ k ].clone();\n\n\t\tfor ( let i = 1; i <= k; ++ i ) {\n\n\t\t\tv.sub( CK[ k - i ].clone().multiplyScalar( calcKoverI( k, i ) * wders[ i ] ) );\n\n\t\t}\n\n\t\tCK[ k ] = v.divideScalar( wders[ 0 ] );\n\n\t}\n\n\treturn CK;\n\n}\n\n\n/*\nCalculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.\n\np  : degree\nU  : knot vector\nP  : control points in homogeneous space\nu  : parametric points\nnd : number of derivatives\n\nreturns array with derivatives.\n*/\nfunction calcNURBSDerivatives( p, U, P, u, nd ) {\n\n\tconst Pders = calcBSplineDerivatives( p, U, P, u, nd );\n\treturn calcRationalCurveDerivatives( Pders );\n\n}\n\n\n/*\nCalculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.\n\np1, p2 : degrees of B-Spline surface\nU1, U2 : knot vectors\nP      : control points (x, y, z, w)\nu, v   : parametric values\n\nreturns point for given (u, v)\n*/\nfunction calcSurfacePoint( p, q, U, V, P, u, v, target ) {\n\n\tconst uspan = findSpan( p, u, U );\n\tconst vspan = findSpan( q, v, V );\n\tconst Nu = calcBasisFunctions( uspan, u, p, U );\n\tconst Nv = calcBasisFunctions( vspan, v, q, V );\n\tconst temp = [];\n\n\tfor ( let l = 0; l <= q; ++ l ) {\n\n\t\ttemp[ l ] = new Vector4( 0, 0, 0, 0 );\n\t\tfor ( let k = 0; k <= p; ++ k ) {\n\n\t\t\tconst point = P[ uspan - p + k ][ vspan - q + l ].clone();\n\t\t\tconst w = point.w;\n\t\t\tpoint.x *= w;\n\t\t\tpoint.y *= w;\n\t\t\tpoint.z *= w;\n\t\t\ttemp[ l ].add( point.multiplyScalar( Nu[ k ] ) );\n\n\t\t}\n\n\t}\n\n\tconst Sw = new Vector4( 0, 0, 0, 0 );\n\tfor ( let l = 0; l <= q; ++ l ) {\n\n\t\tSw.add( temp[ l ].multiplyScalar( Nv[ l ] ) );\n\n\t}\n\n\tSw.divideScalar( Sw.w );\n\ttarget.set( Sw.x, Sw.y, Sw.z );\n\n}\n\n\n\nexport {\n\tfindSpan,\n\tcalcBasisFunctions,\n\tcalcBSplinePoint,\n\tcalcBasisFunctionDerivatives,\n\tcalcBSplineDerivatives,\n\tcalcKoverI,\n\tcalcRationalCurveDerivatives,\n\tcalcNURBSDerivatives,\n\tcalcSurfacePoint,\n};\n","import {\n\tCurve,\n\tVector3,\n\tVector4\n} from 'three';\nimport * as NURBSUtils from '../curves/NURBSUtils.js';\n\n/**\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\n\nclass NURBSCurve extends Curve {\n\n\tconstructor(\n\t\tdegree,\n\t\tknots /* array of reals */,\n\t\tcontrolPoints /* array of Vector(2|3|4) */,\n\t\tstartKnot /* index in knots */,\n\t\tendKnot /* index in knots */\n\t) {\n\n\t\tsuper();\n\n\t\tthis.degree = degree;\n\t\tthis.knots = knots;\n\t\tthis.controlPoints = [];\n\t\t// Used by periodic NURBS to remove hidden spans\n\t\tthis.startKnot = startKnot || 0;\n\t\tthis.endKnot = endKnot || ( this.knots.length - 1 );\n\n\t\tfor ( let i = 0; i < controlPoints.length; ++ i ) {\n\n\t\t\t// ensure Vector4 for control points\n\t\t\tconst point = controlPoints[ i ];\n\t\t\tthis.controlPoints[ i ] = new Vector4( point.x, point.y, point.z, point.w );\n\n\t\t}\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst u = this.knots[ this.startKnot ] + t * ( this.knots[ this.endKnot ] - this.knots[ this.startKnot ] ); // linear mapping t->u\n\n\t\t// following results in (wx, wy, wz, w) homogeneous point\n\t\tconst hpoint = NURBSUtils.calcBSplinePoint( this.degree, this.knots, this.controlPoints, u );\n\n\t\tif ( hpoint.w !== 1.0 ) {\n\n\t\t\t// project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n\t\t\thpoint.divideScalar( hpoint.w );\n\n\t\t}\n\n\t\treturn point.set( hpoint.x, hpoint.y, hpoint.z );\n\n\t}\n\n\tgetTangent( t, optionalTarget = new Vector3() ) {\n\n\t\tconst tangent = optionalTarget;\n\n\t\tconst u = this.knots[ 0 ] + t * ( this.knots[ this.knots.length - 1 ] - this.knots[ 0 ] );\n\t\tconst ders = NURBSUtils.calcNURBSDerivatives( this.degree, this.knots, this.controlPoints, u, 1 );\n\t\ttangent.copy( ders[ 1 ] ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n}\n\nexport { NURBSCurve };\n","import {\n\tAmbientLight,\n\tAnimationClip,\n\tBone,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tEquirectangularReflectionMapping,\n\tEuler,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLine,\n\tLineBasicMaterial,\n\tLoader,\n\tLoaderUtils,\n\tMathUtils,\n\tMatrix3,\n\tMatrix4,\n\tMesh,\n\tMeshLambertMaterial,\n\tMeshPhongMaterial,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSpotLight,\n\tTexture,\n\tTextureLoader,\n\tUint16BufferAttribute,\n\tVector3,\n\tVector4,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\nimport * as fflate from '../libs/fflate.module.js';\nimport { NURBSCurve } from '../curves/NURBSCurve.js';\n\n/**\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * Binary format specification:\n *\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\n\nlet fbxTree;\nlet connections;\nlet sceneGraph;\n\nclass FBXLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( scope.path === '' ) ? LoaderUtils.extractUrlBase( url ) : scope.path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( buffer, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( FBXBuffer, path ) {\n\n\t\tif ( isFbxFormatBinary( FBXBuffer ) ) {\n\n\t\t\tfbxTree = new BinaryParser().parse( FBXBuffer );\n\n\t\t} else {\n\n\t\t\tconst FBXText = convertArrayBufferToString( FBXBuffer );\n\n\t\t\tif ( ! isFbxFormatASCII( FBXText ) ) {\n\n\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown format.' );\n\n\t\t\t}\n\n\t\t\tif ( getFbxVersion( FBXText ) < 7000 ) {\n\n\t\t\t\tthrow new Error( 'THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion( FBXText ) );\n\n\t\t\t}\n\n\t\t\tfbxTree = new TextParser().parse( FBXText );\n\n\t\t}\n\n\t\t// console.log( fbxTree );\n\n\t\tconst textureLoader = new TextureLoader( this.manager ).setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\treturn new FBXTreeParser( textureLoader, this.manager ).parse( fbxTree );\n\n\t}\n\n}\n\n// Parse the FBXTree object returned by the BinaryParser or TextParser and return a Group\nclass FBXTreeParser {\n\n\tconstructor( textureLoader, manager ) {\n\n\t\tthis.textureLoader = textureLoader;\n\t\tthis.manager = manager;\n\n\t}\n\n\tparse() {\n\n\t\tconnections = this.parseConnections();\n\n\t\tconst images = this.parseImages();\n\t\tconst textures = this.parseTextures( images );\n\t\tconst materials = this.parseMaterials( textures );\n\t\tconst deformers = this.parseDeformers();\n\t\tconst geometryMap = new GeometryParser().parse( deformers );\n\n\t\tthis.parseScene( deformers, geometryMap, materials );\n\n\t\treturn sceneGraph;\n\n\t}\n\n\t// Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n\t// and details the connection type\n\tparseConnections() {\n\n\t\tconst connectionMap = new Map();\n\n\t\tif ( 'Connections' in fbxTree ) {\n\n\t\t\tconst rawConnections = fbxTree.Connections.connections;\n\n\t\t\trawConnections.forEach( function ( rawConnection ) {\n\n\t\t\t\tconst fromID = rawConnection[ 0 ];\n\t\t\t\tconst toID = rawConnection[ 1 ];\n\t\t\t\tconst relationship = rawConnection[ 2 ];\n\n\t\t\t\tif ( ! connectionMap.has( fromID ) ) {\n\n\t\t\t\t\tconnectionMap.set( fromID, {\n\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\tchildren: []\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t\tconst parentRelationship = { ID: toID, relationship: relationship };\n\t\t\t\tconnectionMap.get( fromID ).parents.push( parentRelationship );\n\n\t\t\t\tif ( ! connectionMap.has( toID ) ) {\n\n\t\t\t\t\tconnectionMap.set( toID, {\n\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\tchildren: []\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t\tconst childRelationship = { ID: fromID, relationship: relationship };\n\t\t\t\tconnectionMap.get( toID ).children.push( childRelationship );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn connectionMap;\n\n\t}\n\n\t// Parse FBXTree.Objects.Video for embedded image data\n\t// These images are connected to textures in FBXTree.Objects.Textures\n\t// via FBXTree.Connections.\n\tparseImages() {\n\n\t\tconst images = {};\n\t\tconst blobs = {};\n\n\t\tif ( 'Video' in fbxTree.Objects ) {\n\n\t\t\tconst videoNodes = fbxTree.Objects.Video;\n\n\t\t\tfor ( const nodeID in videoNodes ) {\n\n\t\t\t\tconst videoNode = videoNodes[ nodeID ];\n\n\t\t\t\tconst id = parseInt( nodeID );\n\n\t\t\t\timages[ id ] = videoNode.RelativeFilename || videoNode.Filename;\n\n\t\t\t\t// raw image data is in videoNode.Content\n\t\t\t\tif ( 'Content' in videoNode ) {\n\n\t\t\t\t\tconst arrayBufferContent = ( videoNode.Content instanceof ArrayBuffer ) && ( videoNode.Content.byteLength > 0 );\n\t\t\t\t\tconst base64Content = ( typeof videoNode.Content === 'string' ) && ( videoNode.Content !== '' );\n\n\t\t\t\t\tif ( arrayBufferContent || base64Content ) {\n\n\t\t\t\t\t\tconst image = this.parseImage( videoNodes[ nodeID ] );\n\n\t\t\t\t\t\tblobs[ videoNode.RelativeFilename || videoNode.Filename ] = image;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( const id in images ) {\n\n\t\t\tconst filename = images[ id ];\n\n\t\t\tif ( blobs[ filename ] !== undefined ) images[ id ] = blobs[ filename ];\n\t\t\telse images[ id ] = images[ id ].split( '\\\\' ).pop();\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\t// Parse embedded image data in FBXTree.Video.Content\n\tparseImage( videoNode ) {\n\n\t\tconst content = videoNode.Content;\n\t\tconst fileName = videoNode.RelativeFilename || videoNode.Filename;\n\t\tconst extension = fileName.slice( fileName.lastIndexOf( '.' ) + 1 ).toLowerCase();\n\n\t\tlet type;\n\n\t\tswitch ( extension ) {\n\n\t\t\tcase 'bmp':\n\n\t\t\t\ttype = 'image/bmp';\n\t\t\t\tbreak;\n\n\t\t\tcase 'jpg':\n\t\t\tcase 'jpeg':\n\n\t\t\t\ttype = 'image/jpeg';\n\t\t\t\tbreak;\n\n\t\t\tcase 'png':\n\n\t\t\t\ttype = 'image/png';\n\t\t\t\tbreak;\n\n\t\t\tcase 'tif':\n\n\t\t\t\ttype = 'image/tiff';\n\t\t\t\tbreak;\n\n\t\t\tcase 'tga':\n\n\t\t\t\tif ( this.manager.getHandler( '.tga' ) === null ) {\n\n\t\t\t\t\tconsole.warn( 'FBXLoader: TGA loader not found, skipping ', fileName );\n\n\t\t\t\t}\n\n\t\t\t\ttype = 'image/tga';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'FBXLoader: Image type \"' + extension + '\" is not supported.' );\n\t\t\t\treturn;\n\n\t\t}\n\n\t\tif ( typeof content === 'string' ) { // ASCII format\n\n\t\t\treturn 'data:' + type + ';base64,' + content;\n\n\t\t} else { // Binary Format\n\n\t\t\tconst array = new Uint8Array( content );\n\t\t\treturn window.URL.createObjectURL( new Blob( [ array ], { type: type } ) );\n\n\t\t}\n\n\t}\n\n\t// Parse nodes in FBXTree.Objects.Texture\n\t// These contain details such as UV scaling, cropping, rotation etc and are connected\n\t// to images in FBXTree.Objects.Video\n\tparseTextures( images ) {\n\n\t\tconst textureMap = new Map();\n\n\t\tif ( 'Texture' in fbxTree.Objects ) {\n\n\t\t\tconst textureNodes = fbxTree.Objects.Texture;\n\t\t\tfor ( const nodeID in textureNodes ) {\n\n\t\t\t\tconst texture = this.parseTexture( textureNodes[ nodeID ], images );\n\t\t\t\ttextureMap.set( parseInt( nodeID ), texture );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textureMap;\n\n\t}\n\n\t// Parse individual node in FBXTree.Objects.Texture\n\tparseTexture( textureNode, images ) {\n\n\t\tconst texture = this.loadTexture( textureNode, images );\n\n\t\ttexture.ID = textureNode.id;\n\n\t\ttexture.name = textureNode.attrName;\n\n\t\tconst wrapModeU = textureNode.WrapModeU;\n\t\tconst wrapModeV = textureNode.WrapModeV;\n\n\t\tconst valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n\t\tconst valueV = wrapModeV !== undefined ? wrapModeV.value : 0;\n\n\t\t// http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n\t\t// 0: repeat(default), 1: clamp\n\n\t\ttexture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\t\ttexture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\n\t\tif ( 'Scaling' in textureNode ) {\n\n\t\t\tconst values = textureNode.Scaling.value;\n\n\t\t\ttexture.repeat.x = values[ 0 ];\n\t\t\ttexture.repeat.y = values[ 1 ];\n\n\t\t}\n\n\t\tif ( 'Translation' in textureNode ) {\n\n\t\t\tconst values = textureNode.Translation.value;\n\n\t\t\ttexture.offset.x = values[ 0 ];\n\t\t\ttexture.offset.y = values[ 1 ];\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\t// load a texture specified as a blob or data URI, or via an external URL using TextureLoader\n\tloadTexture( textureNode, images ) {\n\n\t\tlet fileName;\n\n\t\tconst currentPath = this.textureLoader.path;\n\n\t\tconst children = connections.get( textureNode.id ).children;\n\n\t\tif ( children !== undefined && children.length > 0 && images[ children[ 0 ].ID ] !== undefined ) {\n\n\t\t\tfileName = images[ children[ 0 ].ID ];\n\n\t\t\tif ( fileName.indexOf( 'blob:' ) === 0 || fileName.indexOf( 'data:' ) === 0 ) {\n\n\t\t\t\tthis.textureLoader.setPath( undefined );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet texture;\n\n\t\tconst extension = textureNode.FileName.slice( - 3 ).toLowerCase();\n\n\t\tif ( extension === 'tga' ) {\n\n\t\t\tconst loader = this.manager.getHandler( '.tga' );\n\n\t\t\tif ( loader === null ) {\n\n\t\t\t\tconsole.warn( 'FBXLoader: TGA loader not found, creating placeholder texture for', textureNode.RelativeFilename );\n\t\t\t\ttexture = new Texture();\n\n\t\t\t} else {\n\n\t\t\t\tloader.setPath( this.textureLoader.path );\n\t\t\t\ttexture = loader.load( fileName );\n\n\t\t\t}\n\n\t\t} else if ( extension === 'psd' ) {\n\n\t\t\tconsole.warn( 'FBXLoader: PSD textures are not supported, creating placeholder texture for', textureNode.RelativeFilename );\n\t\t\ttexture = new Texture();\n\n\t\t} else {\n\n\t\t\ttexture = this.textureLoader.load( fileName );\n\n\t\t}\n\n\t\tthis.textureLoader.setPath( currentPath );\n\n\t\treturn texture;\n\n\t}\n\n\t// Parse nodes in FBXTree.Objects.Material\n\tparseMaterials( textureMap ) {\n\n\t\tconst materialMap = new Map();\n\n\t\tif ( 'Material' in fbxTree.Objects ) {\n\n\t\t\tconst materialNodes = fbxTree.Objects.Material;\n\n\t\t\tfor ( const nodeID in materialNodes ) {\n\n\t\t\t\tconst material = this.parseMaterial( materialNodes[ nodeID ], textureMap );\n\n\t\t\t\tif ( material !== null ) materialMap.set( parseInt( nodeID ), material );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materialMap;\n\n\t}\n\n\t// Parse single node in FBXTree.Objects.Material\n\t// Materials are connected to texture maps in FBXTree.Objects.Textures\n\t// FBX format currently only supports Lambert and Phong shading models\n\tparseMaterial( materialNode, textureMap ) {\n\n\t\tconst ID = materialNode.id;\n\t\tconst name = materialNode.attrName;\n\t\tlet type = materialNode.ShadingModel;\n\n\t\t// Case where FBX wraps shading model in property object.\n\t\tif ( typeof type === 'object' ) {\n\n\t\t\ttype = type.value;\n\n\t\t}\n\n\t\t// Ignore unused materials which don't have any connections.\n\t\tif ( ! connections.has( ID ) ) return null;\n\n\t\tconst parameters = this.parseParameters( materialNode, textureMap, ID );\n\n\t\tlet material;\n\n\t\tswitch ( type.toLowerCase() ) {\n\n\t\t\tcase 'phong':\n\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\tbreak;\n\t\t\tcase 'lambert':\n\t\t\t\tmaterial = new MeshLambertMaterial();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type );\n\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tmaterial.setValues( parameters );\n\t\tmaterial.name = name;\n\n\t\treturn material;\n\n\t}\n\n\t// Parse FBX material and return parameters suitable for a three.js material\n\t// Also parse the texture map and return any textures associated with the material\n\tparseParameters( materialNode, textureMap, ID ) {\n\n\t\tconst parameters = {};\n\n\t\tif ( materialNode.BumpFactor ) {\n\n\t\t\tparameters.bumpScale = materialNode.BumpFactor.value;\n\n\t\t}\n\n\t\tif ( materialNode.Diffuse ) {\n\n\t\t\tparameters.color = new Color().fromArray( materialNode.Diffuse.value );\n\n\t\t} else if ( materialNode.DiffuseColor && ( materialNode.DiffuseColor.type === 'Color' || materialNode.DiffuseColor.type === 'ColorRGB' ) ) {\n\n\t\t\t// The blender exporter exports diffuse here instead of in materialNode.Diffuse\n\t\t\tparameters.color = new Color().fromArray( materialNode.DiffuseColor.value );\n\n\t\t}\n\n\t\tif ( materialNode.DisplacementFactor ) {\n\n\t\t\tparameters.displacementScale = materialNode.DisplacementFactor.value;\n\n\t\t}\n\n\t\tif ( materialNode.Emissive ) {\n\n\t\t\tparameters.emissive = new Color().fromArray( materialNode.Emissive.value );\n\n\t\t} else if ( materialNode.EmissiveColor && ( materialNode.EmissiveColor.type === 'Color' || materialNode.EmissiveColor.type === 'ColorRGB' ) ) {\n\n\t\t\t// The blender exporter exports emissive color here instead of in materialNode.Emissive\n\t\t\tparameters.emissive = new Color().fromArray( materialNode.EmissiveColor.value );\n\n\t\t}\n\n\t\tif ( materialNode.EmissiveFactor ) {\n\n\t\t\tparameters.emissiveIntensity = parseFloat( materialNode.EmissiveFactor.value );\n\n\t\t}\n\n\t\tif ( materialNode.Opacity ) {\n\n\t\t\tparameters.opacity = parseFloat( materialNode.Opacity.value );\n\n\t\t}\n\n\t\tif ( parameters.opacity < 1.0 ) {\n\n\t\t\tparameters.transparent = true;\n\n\t\t}\n\n\t\tif ( materialNode.ReflectionFactor ) {\n\n\t\t\tparameters.reflectivity = materialNode.ReflectionFactor.value;\n\n\t\t}\n\n\t\tif ( materialNode.Shininess ) {\n\n\t\t\tparameters.shininess = materialNode.Shininess.value;\n\n\t\t}\n\n\t\tif ( materialNode.Specular ) {\n\n\t\t\tparameters.specular = new Color().fromArray( materialNode.Specular.value );\n\n\t\t} else if ( materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color' ) {\n\n\t\t\t// The blender exporter exports specular color here instead of in materialNode.Specular\n\t\t\tparameters.specular = new Color().fromArray( materialNode.SpecularColor.value );\n\n\t\t}\n\n\t\tconst scope = this;\n\t\tconnections.get( ID ).children.forEach( function ( child ) {\n\n\t\t\tconst type = child.relationship;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'Bump':\n\t\t\t\t\tparameters.bumpMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Maya|TEX_ao_map':\n\t\t\t\t\tparameters.aoMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DiffuseColor':\n\t\t\t\tcase 'Maya|TEX_color_map':\n\t\t\t\t\tparameters.map = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.map !== undefined ) {\n\n\t\t\t\t\t\tparameters.map.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DisplacementColor':\n\t\t\t\t\tparameters.displacementMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EmissiveColor':\n\t\t\t\t\tparameters.emissiveMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.emissiveMap !== undefined ) {\n\n\t\t\t\t\t\tparameters.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'NormalMap':\n\t\t\t\tcase 'Maya|TEX_normal_map':\n\t\t\t\t\tparameters.normalMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ReflectionColor':\n\t\t\t\t\tparameters.envMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.envMap !== undefined ) {\n\n\t\t\t\t\t\tparameters.envMap.mapping = EquirectangularReflectionMapping;\n\t\t\t\t\t\tparameters.envMap.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpecularColor':\n\t\t\t\t\tparameters.specularMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tif ( parameters.specularMap !== undefined ) {\n\n\t\t\t\t\t\tparameters.specularMap.encoding = sRGBEncoding;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'TransparentColor':\n\t\t\t\tcase 'TransparencyFactor':\n\t\t\t\t\tparameters.alphaMap = scope.getTexture( textureMap, child.ID );\n\t\t\t\t\tparameters.transparent = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AmbientColor':\n\t\t\t\tcase 'ShininessExponent': // AKA glossiness map\n\t\t\t\tcase 'SpecularFactor': // AKA specularLevel\n\t\t\t\tcase 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn parameters;\n\n\t}\n\n\t// get a texture from the textureMap for use by a material.\n\tgetTexture( textureMap, id ) {\n\n\t\t// if the texture is a layered texture, just use the first layer and issue a warning\n\t\tif ( 'LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture ) {\n\n\t\t\tconsole.warn( 'THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.' );\n\t\t\tid = connections.get( id ).children[ 0 ].ID;\n\n\t\t}\n\n\t\treturn textureMap.get( id );\n\n\t}\n\n\t// Parse nodes in FBXTree.Objects.Deformer\n\t// Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n\t// Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n\tparseDeformers() {\n\n\t\tconst skeletons = {};\n\t\tconst morphTargets = {};\n\n\t\tif ( 'Deformer' in fbxTree.Objects ) {\n\n\t\t\tconst DeformerNodes = fbxTree.Objects.Deformer;\n\n\t\t\tfor ( const nodeID in DeformerNodes ) {\n\n\t\t\t\tconst deformerNode = DeformerNodes[ nodeID ];\n\n\t\t\t\tconst relationships = connections.get( parseInt( nodeID ) );\n\n\t\t\t\tif ( deformerNode.attrType === 'Skin' ) {\n\n\t\t\t\t\tconst skeleton = this.parseSkeleton( relationships, DeformerNodes );\n\t\t\t\t\tskeleton.ID = nodeID;\n\n\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: skeleton attached to more than one geometry is not supported.' );\n\t\t\t\t\tskeleton.geometryID = relationships.parents[ 0 ].ID;\n\n\t\t\t\t\tskeletons[ nodeID ] = skeleton;\n\n\t\t\t\t} else if ( deformerNode.attrType === 'BlendShape' ) {\n\n\t\t\t\t\tconst morphTarget = {\n\t\t\t\t\t\tid: nodeID,\n\t\t\t\t\t};\n\n\t\t\t\t\tmorphTarget.rawTargets = this.parseMorphTargets( relationships, DeformerNodes );\n\t\t\t\t\tmorphTarget.id = nodeID;\n\n\t\t\t\t\tif ( relationships.parents.length > 1 ) console.warn( 'THREE.FBXLoader: morph target attached to more than one geometry is not supported.' );\n\n\t\t\t\t\tmorphTargets[ nodeID ] = morphTarget;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\n\t\t\tskeletons: skeletons,\n\t\t\tmorphTargets: morphTargets,\n\n\t\t};\n\n\t}\n\n\t// Parse single nodes in FBXTree.Objects.Deformer\n\t// The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n\t// Each skin node represents a skeleton and each cluster node represents a bone\n\tparseSkeleton( relationships, deformerNodes ) {\n\n\t\tconst rawBones = [];\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tconst boneNode = deformerNodes[ child.ID ];\n\n\t\t\tif ( boneNode.attrType !== 'Cluster' ) return;\n\n\t\t\tconst rawBone = {\n\n\t\t\t\tID: child.ID,\n\t\t\t\tindices: [],\n\t\t\t\tweights: [],\n\t\t\t\ttransformLink: new Matrix4().fromArray( boneNode.TransformLink.a ),\n\t\t\t\t// transform: new Matrix4().fromArray( boneNode.Transform.a ),\n\t\t\t\t// linkMode: boneNode.Mode,\n\n\t\t\t};\n\n\t\t\tif ( 'Indexes' in boneNode ) {\n\n\t\t\t\trawBone.indices = boneNode.Indexes.a;\n\t\t\t\trawBone.weights = boneNode.Weights.a;\n\n\t\t\t}\n\n\t\t\trawBones.push( rawBone );\n\n\t\t} );\n\n\t\treturn {\n\n\t\t\trawBones: rawBones,\n\t\t\tbones: []\n\n\t\t};\n\n\t}\n\n\t// The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n\tparseMorphTargets( relationships, deformerNodes ) {\n\n\t\tconst rawMorphTargets = [];\n\n\t\tfor ( let i = 0; i < relationships.children.length; i ++ ) {\n\n\t\t\tconst child = relationships.children[ i ];\n\n\t\t\tconst morphTargetNode = deformerNodes[ child.ID ];\n\n\t\t\tconst rawMorphTarget = {\n\n\t\t\t\tname: morphTargetNode.attrName,\n\t\t\t\tinitialWeight: morphTargetNode.DeformPercent,\n\t\t\t\tid: morphTargetNode.id,\n\t\t\t\tfullWeights: morphTargetNode.FullWeights.a\n\n\t\t\t};\n\n\t\t\tif ( morphTargetNode.attrType !== 'BlendShapeChannel' ) return;\n\n\t\t\trawMorphTarget.geoID = connections.get( parseInt( child.ID ) ).children.filter( function ( child ) {\n\n\t\t\t\treturn child.relationship === undefined;\n\n\t\t\t} )[ 0 ].ID;\n\n\t\t\trawMorphTargets.push( rawMorphTarget );\n\n\t\t}\n\n\t\treturn rawMorphTargets;\n\n\t}\n\n\t// create the main Group() to be returned by the loader\n\tparseScene( deformers, geometryMap, materialMap ) {\n\n\t\tsceneGraph = new Group();\n\n\t\tconst modelMap = this.parseModels( deformers.skeletons, geometryMap, materialMap );\n\n\t\tconst modelNodes = fbxTree.Objects.Model;\n\n\t\tconst scope = this;\n\t\tmodelMap.forEach( function ( model ) {\n\n\t\t\tconst modelNode = modelNodes[ model.ID ];\n\t\t\tscope.setLookAtProperties( model, modelNode );\n\n\t\t\tconst parentConnections = connections.get( model.ID ).parents;\n\n\t\t\tparentConnections.forEach( function ( connection ) {\n\n\t\t\t\tconst parent = modelMap.get( connection.ID );\n\t\t\t\tif ( parent !== undefined ) parent.add( model );\n\n\t\t\t} );\n\n\t\t\tif ( model.parent === null ) {\n\n\t\t\t\tsceneGraph.add( model );\n\n\t\t\t}\n\n\n\t\t} );\n\n\t\tthis.bindSkeleton( deformers.skeletons, geometryMap, modelMap );\n\n\t\tthis.createAmbientLight();\n\n\t\tsceneGraph.traverse( function ( node ) {\n\n\t\t\tif ( node.userData.transformData ) {\n\n\t\t\t\tif ( node.parent ) {\n\n\t\t\t\t\tnode.userData.transformData.parentMatrix = node.parent.matrix;\n\t\t\t\t\tnode.userData.transformData.parentMatrixWorld = node.parent.matrixWorld;\n\n\t\t\t\t}\n\n\t\t\t\tconst transform = generateTransform( node.userData.transformData );\n\n\t\t\t\tnode.applyMatrix4( transform );\n\t\t\t\tnode.updateWorldMatrix();\n\n\t\t\t}\n\n\t\t} );\n\n\t\tconst animations = new AnimationParser().parse();\n\n\t\t// if all the models where already combined in a single group, just return that\n\t\tif ( sceneGraph.children.length === 1 && sceneGraph.children[ 0 ].isGroup ) {\n\n\t\t\tsceneGraph.children[ 0 ].animations = animations;\n\t\t\tsceneGraph = sceneGraph.children[ 0 ];\n\n\t\t}\n\n\t\tsceneGraph.animations = animations;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.Model\n\tparseModels( skeletons, geometryMap, materialMap ) {\n\n\t\tconst modelMap = new Map();\n\t\tconst modelNodes = fbxTree.Objects.Model;\n\n\t\tfor ( const nodeID in modelNodes ) {\n\n\t\t\tconst id = parseInt( nodeID );\n\t\t\tconst node = modelNodes[ nodeID ];\n\t\t\tconst relationships = connections.get( id );\n\n\t\t\tlet model = this.buildSkeleton( relationships, skeletons, id, node.attrName );\n\n\t\t\tif ( ! model ) {\n\n\t\t\t\tswitch ( node.attrType ) {\n\n\t\t\t\t\tcase 'Camera':\n\t\t\t\t\t\tmodel = this.createCamera( relationships );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Light':\n\t\t\t\t\t\tmodel = this.createLight( relationships );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Mesh':\n\t\t\t\t\t\tmodel = this.createMesh( relationships, geometryMap, materialMap );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'NurbsCurve':\n\t\t\t\t\t\tmodel = this.createCurve( relationships, geometryMap );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'LimbNode':\n\t\t\t\t\tcase 'Root':\n\t\t\t\t\t\tmodel = new Bone();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Null':\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmodel = new Group();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tmodel.name = node.attrName ? PropertyBinding.sanitizeNodeName( node.attrName ) : '';\n\n\t\t\t\tmodel.ID = id;\n\n\t\t\t}\n\n\t\t\tthis.getTransformData( model, node );\n\t\t\tmodelMap.set( id, model );\n\n\t\t}\n\n\t\treturn modelMap;\n\n\t}\n\n\tbuildSkeleton( relationships, skeletons, id, name ) {\n\n\t\tlet bone = null;\n\n\t\trelationships.parents.forEach( function ( parent ) {\n\n\t\t\tfor ( const ID in skeletons ) {\n\n\t\t\t\tconst skeleton = skeletons[ ID ];\n\n\t\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t\tif ( rawBone.ID === parent.ID ) {\n\n\t\t\t\t\t\tconst subBone = bone;\n\t\t\t\t\t\tbone = new Bone();\n\n\t\t\t\t\t\tbone.matrixWorld.copy( rawBone.transformLink );\n\n\t\t\t\t\t\t// set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\n\t\t\t\t\t\tbone.name = name ? PropertyBinding.sanitizeNodeName( name ) : '';\n\t\t\t\t\t\tbone.ID = id;\n\n\t\t\t\t\t\tskeleton.bones[ i ] = bone;\n\n\t\t\t\t\t\t// In cases where a bone is shared between multiple meshes\n\t\t\t\t\t\t// duplicate the bone here and and it as a child of the first bone\n\t\t\t\t\t\tif ( subBone !== null ) {\n\n\t\t\t\t\t\t\tbone.add( subBone );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn bone;\n\n\t}\n\n\t// create a PerspectiveCamera or OrthographicCamera\n\tcreateCamera( relationships ) {\n\n\t\tlet model;\n\t\tlet cameraAttribute;\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tconst attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\tcameraAttribute = attr;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( cameraAttribute === undefined ) {\n\n\t\t\tmodel = new Object3D();\n\n\t\t} else {\n\n\t\t\tlet type = 0;\n\t\t\tif ( cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1 ) {\n\n\t\t\t\ttype = 1;\n\n\t\t\t}\n\n\t\t\tlet nearClippingPlane = 1;\n\t\t\tif ( cameraAttribute.NearPlane !== undefined ) {\n\n\t\t\t\tnearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n\n\t\t\t}\n\n\t\t\tlet farClippingPlane = 1000;\n\t\t\tif ( cameraAttribute.FarPlane !== undefined ) {\n\n\t\t\t\tfarClippingPlane = cameraAttribute.FarPlane.value / 1000;\n\n\t\t\t}\n\n\n\t\t\tlet width = window.innerWidth;\n\t\t\tlet height = window.innerHeight;\n\n\t\t\tif ( cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined ) {\n\n\t\t\t\twidth = cameraAttribute.AspectWidth.value;\n\t\t\t\theight = cameraAttribute.AspectHeight.value;\n\n\t\t\t}\n\n\t\t\tconst aspect = width / height;\n\n\t\t\tlet fov = 45;\n\t\t\tif ( cameraAttribute.FieldOfView !== undefined ) {\n\n\t\t\t\tfov = cameraAttribute.FieldOfView.value;\n\n\t\t\t}\n\n\t\t\tconst focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 0: // Perspective\n\t\t\t\t\tmodel = new PerspectiveCamera( fov, aspect, nearClippingPlane, farClippingPlane );\n\t\t\t\t\tif ( focalLength !== null ) model.setFocalLength( focalLength );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1: // Orthographic\n\t\t\t\t\tmodel = new OrthographicCamera( - width / 2, width / 2, height / 2, - height / 2, nearClippingPlane, farClippingPlane );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown camera type ' + type + '.' );\n\t\t\t\t\tmodel = new Object3D();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn model;\n\n\t}\n\n\t// Create a DirectionalLight, PointLight or SpotLight\n\tcreateLight( relationships ) {\n\n\t\tlet model;\n\t\tlet lightAttribute;\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tconst attr = fbxTree.Objects.NodeAttribute[ child.ID ];\n\n\t\t\tif ( attr !== undefined ) {\n\n\t\t\t\tlightAttribute = attr;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( lightAttribute === undefined ) {\n\n\t\t\tmodel = new Object3D();\n\n\t\t} else {\n\n\t\t\tlet type;\n\n\t\t\t// LightType can be undefined for Point lights\n\t\t\tif ( lightAttribute.LightType === undefined ) {\n\n\t\t\t\ttype = 0;\n\n\t\t\t} else {\n\n\t\t\t\ttype = lightAttribute.LightType.value;\n\n\t\t\t}\n\n\t\t\tlet color = 0xffffff;\n\n\t\t\tif ( lightAttribute.Color !== undefined ) {\n\n\t\t\t\tcolor = new Color().fromArray( lightAttribute.Color.value );\n\n\t\t\t}\n\n\t\t\tlet intensity = ( lightAttribute.Intensity === undefined ) ? 1 : lightAttribute.Intensity.value / 100;\n\n\t\t\t// light disabled\n\t\t\tif ( lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0 ) {\n\n\t\t\t\tintensity = 0;\n\n\t\t\t}\n\n\t\t\tlet distance = 0;\n\t\t\tif ( lightAttribute.FarAttenuationEnd !== undefined ) {\n\n\t\t\t\tif ( lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0 ) {\n\n\t\t\t\t\tdistance = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdistance = lightAttribute.FarAttenuationEnd.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\t\t\tconst decay = 1;\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 0: // Point\n\t\t\t\t\tmodel = new PointLight( color, intensity, distance, decay );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1: // Directional\n\t\t\t\t\tmodel = new DirectionalLight( color, intensity );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // Spot\n\t\t\t\t\tlet angle = Math.PI / 3;\n\n\t\t\t\t\tif ( lightAttribute.InnerAngle !== undefined ) {\n\n\t\t\t\t\t\tangle = MathUtils.degToRad( lightAttribute.InnerAngle.value );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet penumbra = 0;\n\t\t\t\t\tif ( lightAttribute.OuterAngle !== undefined ) {\n\n\t\t\t\t\t\t// TODO: this is not correct - FBX calculates outer and inner angle in degrees\n\t\t\t\t\t\t// with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n\t\t\t\t\t\t// while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n\t\t\t\t\t\tpenumbra = MathUtils.degToRad( lightAttribute.OuterAngle.value );\n\t\t\t\t\t\tpenumbra = Math.max( penumbra, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmodel = new SpotLight( color, intensity, distance, angle, penumbra, decay );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a PointLight.' );\n\t\t\t\t\tmodel = new PointLight( color, intensity );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1 ) {\n\n\t\t\t\tmodel.castShadow = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn model;\n\n\t}\n\n\tcreateMesh( relationships, geometryMap, materialMap ) {\n\n\t\tlet model;\n\t\tlet geometry = null;\n\t\tlet material = null;\n\t\tconst materials = [];\n\n\t\t// get geometry and materials(s) from connections\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tif ( geometryMap.has( child.ID ) ) {\n\n\t\t\t\tgeometry = geometryMap.get( child.ID );\n\n\t\t\t}\n\n\t\t\tif ( materialMap.has( child.ID ) ) {\n\n\t\t\t\tmaterials.push( materialMap.get( child.ID ) );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tif ( materials.length > 1 ) {\n\n\t\t\tmaterial = materials;\n\n\t\t} else if ( materials.length > 0 ) {\n\n\t\t\tmaterial = materials[ 0 ];\n\n\t\t} else {\n\n\t\t\tmaterial = new MeshPhongMaterial( { color: 0xcccccc } );\n\t\t\tmaterials.push( material );\n\n\t\t}\n\n\t\tif ( 'color' in geometry.attributes ) {\n\n\t\t\tmaterials.forEach( function ( material ) {\n\n\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( geometry.FBX_Deformer ) {\n\n\t\t\tmodel = new SkinnedMesh( geometry, material );\n\t\t\tmodel.normalizeSkinWeights();\n\n\t\t} else {\n\n\t\t\tmodel = new Mesh( geometry, material );\n\n\t\t}\n\n\t\treturn model;\n\n\t}\n\n\tcreateCurve( relationships, geometryMap ) {\n\n\t\tconst geometry = relationships.children.reduce( function ( geo, child ) {\n\n\t\t\tif ( geometryMap.has( child.ID ) ) geo = geometryMap.get( child.ID );\n\n\t\t\treturn geo;\n\n\t\t}, null );\n\n\t\t// FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\t\tconst material = new LineBasicMaterial( { color: 0x3300ff, linewidth: 1 } );\n\t\treturn new Line( geometry, material );\n\n\t}\n\n\t// parse the model node for transform data\n\tgetTransformData( model, modelNode ) {\n\n\t\tconst transformData = {};\n\n\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\telse transformData.eulerOrder = 'ZYX';\n\n\t\tif ( 'Lcl_Translation' in modelNode ) transformData.translation = modelNode.Lcl_Translation.value;\n\n\t\tif ( 'PreRotation' in modelNode ) transformData.preRotation = modelNode.PreRotation.value;\n\t\tif ( 'Lcl_Rotation' in modelNode ) transformData.rotation = modelNode.Lcl_Rotation.value;\n\t\tif ( 'PostRotation' in modelNode ) transformData.postRotation = modelNode.PostRotation.value;\n\n\t\tif ( 'Lcl_Scaling' in modelNode ) transformData.scale = modelNode.Lcl_Scaling.value;\n\n\t\tif ( 'ScalingOffset' in modelNode ) transformData.scalingOffset = modelNode.ScalingOffset.value;\n\t\tif ( 'ScalingPivot' in modelNode ) transformData.scalingPivot = modelNode.ScalingPivot.value;\n\n\t\tif ( 'RotationOffset' in modelNode ) transformData.rotationOffset = modelNode.RotationOffset.value;\n\t\tif ( 'RotationPivot' in modelNode ) transformData.rotationPivot = modelNode.RotationPivot.value;\n\n\t\tmodel.userData.transformData = transformData;\n\n\t}\n\n\tsetLookAtProperties( model, modelNode ) {\n\n\t\tif ( 'LookAtProperty' in modelNode ) {\n\n\t\t\tconst children = connections.get( model.ID ).children;\n\n\t\t\tchildren.forEach( function ( child ) {\n\n\t\t\t\tif ( child.relationship === 'LookAtProperty' ) {\n\n\t\t\t\t\tconst lookAtTarget = fbxTree.Objects.Model[ child.ID ];\n\n\t\t\t\t\tif ( 'Lcl_Translation' in lookAtTarget ) {\n\n\t\t\t\t\t\tconst pos = lookAtTarget.Lcl_Translation.value;\n\n\t\t\t\t\t\t// DirectionalLight, SpotLight\n\t\t\t\t\t\tif ( model.target !== undefined ) {\n\n\t\t\t\t\t\t\tmodel.target.position.fromArray( pos );\n\t\t\t\t\t\t\tsceneGraph.add( model.target );\n\n\t\t\t\t\t\t} else { // Cameras and other Object3Ds\n\n\t\t\t\t\t\t\tmodel.lookAt( new Vector3().fromArray( pos ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\tbindSkeleton( skeletons, geometryMap, modelMap ) {\n\n\t\tconst bindMatrices = this.parsePoseNodes();\n\n\t\tfor ( const ID in skeletons ) {\n\n\t\t\tconst skeleton = skeletons[ ID ];\n\n\t\t\tconst parents = connections.get( parseInt( skeleton.ID ) ).parents;\n\n\t\t\tparents.forEach( function ( parent ) {\n\n\t\t\t\tif ( geometryMap.has( parent.ID ) ) {\n\n\t\t\t\t\tconst geoID = parent.ID;\n\t\t\t\t\tconst geoRelationships = connections.get( geoID );\n\n\t\t\t\t\tgeoRelationships.parents.forEach( function ( geoConnParent ) {\n\n\t\t\t\t\t\tif ( modelMap.has( geoConnParent.ID ) ) {\n\n\t\t\t\t\t\t\tconst model = modelMap.get( geoConnParent.ID );\n\n\t\t\t\t\t\t\tmodel.bind( new Skeleton( skeleton.bones ), bindMatrices[ geoConnParent.ID ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\tparsePoseNodes() {\n\n\t\tconst bindMatrices = {};\n\n\t\tif ( 'Pose' in fbxTree.Objects ) {\n\n\t\t\tconst BindPoseNode = fbxTree.Objects.Pose;\n\n\t\t\tfor ( const nodeID in BindPoseNode ) {\n\n\t\t\t\tif ( BindPoseNode[ nodeID ].attrType === 'BindPose' && BindPoseNode[ nodeID ].NbPoseNodes > 0 ) {\n\n\t\t\t\t\tconst poseNodes = BindPoseNode[ nodeID ].PoseNode;\n\n\t\t\t\t\tif ( Array.isArray( poseNodes ) ) {\n\n\t\t\t\t\t\tposeNodes.forEach( function ( poseNode ) {\n\n\t\t\t\t\t\t\tbindMatrices[ poseNode.Node ] = new Matrix4().fromArray( poseNode.Matrix.a );\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbindMatrices[ poseNodes.Node ] = new Matrix4().fromArray( poseNodes.Matrix.a );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn bindMatrices;\n\n\t}\n\n\t// Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n\tcreateAmbientLight() {\n\n\t\tif ( 'GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings ) {\n\n\t\t\tconst ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n\t\t\tconst r = ambientColor[ 0 ];\n\t\t\tconst g = ambientColor[ 1 ];\n\t\t\tconst b = ambientColor[ 2 ];\n\n\t\t\tif ( r !== 0 || g !== 0 || b !== 0 ) {\n\n\t\t\t\tconst color = new Color( r, g, b );\n\t\t\t\tsceneGraph.add( new AmbientLight( color, 1 ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\n// parse Geometry data from FBXTree and return map of BufferGeometries\nclass GeometryParser {\n\n\t// Parse nodes in FBXTree.Objects.Geometry\n\tparse( deformers ) {\n\n\t\tconst geometryMap = new Map();\n\n\t\tif ( 'Geometry' in fbxTree.Objects ) {\n\n\t\t\tconst geoNodes = fbxTree.Objects.Geometry;\n\n\t\t\tfor ( const nodeID in geoNodes ) {\n\n\t\t\t\tconst relationships = connections.get( parseInt( nodeID ) );\n\t\t\t\tconst geo = this.parseGeometry( relationships, geoNodes[ nodeID ], deformers );\n\n\t\t\t\tgeometryMap.set( parseInt( nodeID ), geo );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometryMap;\n\n\t}\n\n\t// Parse single node in FBXTree.Objects.Geometry\n\tparseGeometry( relationships, geoNode, deformers ) {\n\n\t\tswitch ( geoNode.attrType ) {\n\n\t\t\tcase 'Mesh':\n\t\t\t\treturn this.parseMeshGeometry( relationships, geoNode, deformers );\n\t\t\t\tbreak;\n\n\t\t\tcase 'NurbsCurve':\n\t\t\t\treturn this.parseNurbsGeometry( geoNode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\t// Parse single node mesh geometry in FBXTree.Objects.Geometry\n\tparseMeshGeometry( relationships, geoNode, deformers ) {\n\n\t\tconst skeletons = deformers.skeletons;\n\t\tconst morphTargets = [];\n\n\t\tconst modelNodes = relationships.parents.map( function ( parent ) {\n\n\t\t\treturn fbxTree.Objects.Model[ parent.ID ];\n\n\t\t} );\n\n\t\t// don't create geometry if it is not associated with any models\n\t\tif ( modelNodes.length === 0 ) return;\n\n\t\tconst skeleton = relationships.children.reduce( function ( skeleton, child ) {\n\n\t\t\tif ( skeletons[ child.ID ] !== undefined ) skeleton = skeletons[ child.ID ];\n\n\t\t\treturn skeleton;\n\n\t\t}, null );\n\n\t\trelationships.children.forEach( function ( child ) {\n\n\t\t\tif ( deformers.morphTargets[ child.ID ] !== undefined ) {\n\n\t\t\t\tmorphTargets.push( deformers.morphTargets[ child.ID ] );\n\n\t\t\t}\n\n\t\t} );\n\n\t\t// Assume one model and get the preRotation from that\n\t\t// if there is more than one model associated with the geometry this may cause problems\n\t\tconst modelNode = modelNodes[ 0 ];\n\n\t\tconst transformData = {};\n\n\t\tif ( 'RotationOrder' in modelNode ) transformData.eulerOrder = getEulerOrder( modelNode.RotationOrder.value );\n\t\tif ( 'InheritType' in modelNode ) transformData.inheritType = parseInt( modelNode.InheritType.value );\n\n\t\tif ( 'GeometricTranslation' in modelNode ) transformData.translation = modelNode.GeometricTranslation.value;\n\t\tif ( 'GeometricRotation' in modelNode ) transformData.rotation = modelNode.GeometricRotation.value;\n\t\tif ( 'GeometricScaling' in modelNode ) transformData.scale = modelNode.GeometricScaling.value;\n\n\t\tconst transform = generateTransform( transformData );\n\n\t\treturn this.genGeometry( geoNode, skeleton, morphTargets, transform );\n\n\t}\n\n\t// Generate a BufferGeometry from a node in FBXTree.Objects.Geometry\n\tgenGeometry( geoNode, skeleton, morphTargets, preTransform ) {\n\n\t\tconst geo = new BufferGeometry();\n\t\tif ( geoNode.attrName ) geo.name = geoNode.attrName;\n\n\t\tconst geoInfo = this.parseGeoNode( geoNode, skeleton );\n\t\tconst buffers = this.genBuffers( geoInfo );\n\n\t\tconst positionAttribute = new Float32BufferAttribute( buffers.vertex, 3 );\n\n\t\tpositionAttribute.applyMatrix4( preTransform );\n\n\t\tgeo.setAttribute( 'position', positionAttribute );\n\n\t\tif ( buffers.colors.length > 0 ) {\n\n\t\t\tgeo.setAttribute( 'color', new Float32BufferAttribute( buffers.colors, 3 ) );\n\n\t\t}\n\n\t\tif ( skeleton ) {\n\n\t\t\tgeo.setAttribute( 'skinIndex', new Uint16BufferAttribute( buffers.weightsIndices, 4 ) );\n\n\t\t\tgeo.setAttribute( 'skinWeight', new Float32BufferAttribute( buffers.vertexWeights, 4 ) );\n\n\t\t\t// used later to bind the skeleton to the model\n\t\t\tgeo.FBX_Deformer = skeleton;\n\n\t\t}\n\n\t\tif ( buffers.normal.length > 0 ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( preTransform );\n\n\t\t\tconst normalAttribute = new Float32BufferAttribute( buffers.normal, 3 );\n\t\t\tnormalAttribute.applyNormalMatrix( normalMatrix );\n\n\t\t\tgeo.setAttribute( 'normal', normalAttribute );\n\n\t\t}\n\n\t\tbuffers.uvs.forEach( function ( uvBuffer, i ) {\n\n\t\t\t// subsequent uv buffers are called 'uv1', 'uv2', ...\n\t\t\tlet name = 'uv' + ( i + 1 ).toString();\n\n\t\t\t// the first uv buffer is just called 'uv'\n\t\t\tif ( i === 0 ) {\n\n\t\t\t\tname = 'uv';\n\n\t\t\t}\n\n\t\t\tgeo.setAttribute( name, new Float32BufferAttribute( buffers.uvs[ i ], 2 ) );\n\n\t\t} );\n\n\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t// Convert the material indices of each vertex into rendering groups on the geometry.\n\t\t\tlet prevMaterialIndex = buffers.materialIndex[ 0 ];\n\t\t\tlet startIndex = 0;\n\n\t\t\tbuffers.materialIndex.forEach( function ( currentIndex, i ) {\n\n\t\t\t\tif ( currentIndex !== prevMaterialIndex ) {\n\n\t\t\t\t\tgeo.addGroup( startIndex, i - startIndex, prevMaterialIndex );\n\n\t\t\t\t\tprevMaterialIndex = currentIndex;\n\t\t\t\t\tstartIndex = i;\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\t// the loop above doesn't add the last group, do that here.\n\t\t\tif ( geo.groups.length > 0 ) {\n\n\t\t\t\tconst lastGroup = geo.groups[ geo.groups.length - 1 ];\n\t\t\t\tconst lastIndex = lastGroup.start + lastGroup.count;\n\n\t\t\t\tif ( lastIndex !== buffers.materialIndex.length ) {\n\n\t\t\t\t\tgeo.addGroup( lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// case where there are multiple materials but the whole geometry is only\n\t\t\t// using one of them\n\t\t\tif ( geo.groups.length === 0 ) {\n\n\t\t\t\tgeo.addGroup( 0, buffers.materialIndex.length, buffers.materialIndex[ 0 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.addMorphTargets( geo, geoNode, morphTargets, preTransform );\n\n\t\treturn geo;\n\n\t}\n\n\tparseGeoNode( geoNode, skeleton ) {\n\n\t\tconst geoInfo = {};\n\n\t\tgeoInfo.vertexPositions = ( geoNode.Vertices !== undefined ) ? geoNode.Vertices.a : [];\n\t\tgeoInfo.vertexIndices = ( geoNode.PolygonVertexIndex !== undefined ) ? geoNode.PolygonVertexIndex.a : [];\n\n\t\tif ( geoNode.LayerElementColor ) {\n\n\t\t\tgeoInfo.color = this.parseVertexColors( geoNode.LayerElementColor[ 0 ] );\n\n\t\t}\n\n\t\tif ( geoNode.LayerElementMaterial ) {\n\n\t\t\tgeoInfo.material = this.parseMaterialIndices( geoNode.LayerElementMaterial[ 0 ] );\n\n\t\t}\n\n\t\tif ( geoNode.LayerElementNormal ) {\n\n\t\t\tgeoInfo.normal = this.parseNormals( geoNode.LayerElementNormal[ 0 ] );\n\n\t\t}\n\n\t\tif ( geoNode.LayerElementUV ) {\n\n\t\t\tgeoInfo.uv = [];\n\n\t\t\tlet i = 0;\n\t\t\twhile ( geoNode.LayerElementUV[ i ] ) {\n\n\t\t\t\tif ( geoNode.LayerElementUV[ i ].UV ) {\n\n\t\t\t\t\tgeoInfo.uv.push( this.parseUVs( geoNode.LayerElementUV[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\ti ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeoInfo.weightTable = {};\n\n\t\tif ( skeleton !== null ) {\n\n\t\t\tgeoInfo.skeleton = skeleton;\n\n\t\t\tskeleton.rawBones.forEach( function ( rawBone, i ) {\n\n\t\t\t\t// loop over the bone's vertex indices and weights\n\t\t\t\trawBone.indices.forEach( function ( index, j ) {\n\n\t\t\t\t\tif ( geoInfo.weightTable[ index ] === undefined ) geoInfo.weightTable[ index ] = [];\n\n\t\t\t\t\tgeoInfo.weightTable[ index ].push( {\n\n\t\t\t\t\t\tid: i,\n\t\t\t\t\t\tweight: rawBone.weights[ j ],\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn geoInfo;\n\n\t}\n\n\tgenBuffers( geoInfo ) {\n\n\t\tconst buffers = {\n\t\t\tvertex: [],\n\t\t\tnormal: [],\n\t\t\tcolors: [],\n\t\t\tuvs: [],\n\t\t\tmaterialIndex: [],\n\t\t\tvertexWeights: [],\n\t\t\tweightsIndices: [],\n\t\t};\n\n\t\tlet polygonIndex = 0;\n\t\tlet faceLength = 0;\n\t\tlet displayedWeightsWarning = false;\n\n\t\t// these will hold data for a single face\n\t\tlet facePositionIndexes = [];\n\t\tlet faceNormals = [];\n\t\tlet faceColors = [];\n\t\tlet faceUVs = [];\n\t\tlet faceWeights = [];\n\t\tlet faceWeightIndices = [];\n\n\t\tconst scope = this;\n\t\tgeoInfo.vertexIndices.forEach( function ( vertexIndex, polygonVertexIndex ) {\n\n\t\t\tlet materialIndex;\n\t\t\tlet endOfFace = false;\n\n\t\t\t// Face index and vertex index arrays are combined in a single array\n\t\t\t// A cube with quad faces looks like this:\n\t\t\t// PolygonVertexIndex: *24 {\n\t\t\t//  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n\t\t\t//  }\n\t\t\t// Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n\t\t\t// to find index of last vertex bit shift the index: ^ - 1\n\t\t\tif ( vertexIndex < 0 ) {\n\n\t\t\t\tvertexIndex = vertexIndex ^ - 1; // equivalent to ( x * -1 ) - 1\n\t\t\t\tendOfFace = true;\n\n\t\t\t}\n\n\t\t\tlet weightIndices = [];\n\t\t\tlet weights = [];\n\n\t\t\tfacePositionIndexes.push( vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2 );\n\n\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\tconst data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color );\n\n\t\t\t\tfaceColors.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\tif ( geoInfo.weightTable[ vertexIndex ] !== undefined ) {\n\n\t\t\t\t\tgeoInfo.weightTable[ vertexIndex ].forEach( function ( wt ) {\n\n\t\t\t\t\t\tweights.push( wt.weight );\n\t\t\t\t\t\tweightIndices.push( wt.id );\n\n\t\t\t\t\t} );\n\n\n\t\t\t\t}\n\n\t\t\t\tif ( weights.length > 4 ) {\n\n\t\t\t\t\tif ( ! displayedWeightsWarning ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.' );\n\t\t\t\t\t\tdisplayedWeightsWarning = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst wIndex = [ 0, 0, 0, 0 ];\n\t\t\t\t\tconst Weight = [ 0, 0, 0, 0 ];\n\n\t\t\t\t\tweights.forEach( function ( weight, weightIndex ) {\n\n\t\t\t\t\t\tlet currentWeight = weight;\n\t\t\t\t\t\tlet currentIndex = weightIndices[ weightIndex ];\n\n\t\t\t\t\t\tWeight.forEach( function ( comparedWeight, comparedWeightIndex, comparedWeightArray ) {\n\n\t\t\t\t\t\t\tif ( currentWeight > comparedWeight ) {\n\n\t\t\t\t\t\t\t\tcomparedWeightArray[ comparedWeightIndex ] = currentWeight;\n\t\t\t\t\t\t\t\tcurrentWeight = comparedWeight;\n\n\t\t\t\t\t\t\t\tconst tmp = wIndex[ comparedWeightIndex ];\n\t\t\t\t\t\t\t\twIndex[ comparedWeightIndex ] = currentIndex;\n\t\t\t\t\t\t\t\tcurrentIndex = tmp;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tweightIndices = wIndex;\n\t\t\t\t\tweights = Weight;\n\n\t\t\t\t}\n\n\t\t\t\t// if the weight array is shorter than 4 pad with 0s\n\t\t\t\twhile ( weights.length < 4 ) {\n\n\t\t\t\t\tweights.push( 0 );\n\t\t\t\t\tweightIndices.push( 0 );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < 4; ++ i ) {\n\n\t\t\t\t\tfaceWeights.push( weights[ i ] );\n\t\t\t\t\tfaceWeightIndices.push( weightIndices[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\tconst data = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal );\n\n\t\t\t\tfaceNormals.push( data[ 0 ], data[ 1 ], data[ 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\tmaterialIndex = getData( polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material )[ 0 ];\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\tgeoInfo.uv.forEach( function ( uv, i ) {\n\n\t\t\t\t\tconst data = getData( polygonVertexIndex, polygonIndex, vertexIndex, uv );\n\n\t\t\t\t\tif ( faceUVs[ i ] === undefined ) {\n\n\t\t\t\t\t\tfaceUVs[ i ] = [];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfaceUVs[ i ].push( data[ 0 ] );\n\t\t\t\t\tfaceUVs[ i ].push( data[ 1 ] );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tfaceLength ++;\n\n\t\t\tif ( endOfFace ) {\n\n\t\t\t\tscope.genFace( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength );\n\n\t\t\t\tpolygonIndex ++;\n\t\t\t\tfaceLength = 0;\n\n\t\t\t\t// reset arrays for the next face\n\t\t\t\tfacePositionIndexes = [];\n\t\t\t\tfaceNormals = [];\n\t\t\t\tfaceColors = [];\n\t\t\t\tfaceUVs = [];\n\t\t\t\tfaceWeights = [];\n\t\t\t\tfaceWeightIndices = [];\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn buffers;\n\n\t}\n\n\t// Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n\tgenFace( buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength ) {\n\n\t\tfor ( let i = 2; i < faceLength; i ++ ) {\n\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 0 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 1 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ 2 ] ] );\n\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 1 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ ( i - 1 ) * 3 + 2 ] ] );\n\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 1 ] ] );\n\t\t\tbuffers.vertex.push( geoInfo.vertexPositions[ facePositionIndexes[ i * 3 + 2 ] ] );\n\n\t\t\tif ( geoInfo.skeleton ) {\n\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 0 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 1 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 2 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ 3 ] );\n\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 1 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 2 ] );\n\t\t\t\tbuffers.vertexWeights.push( faceWeights[ i * 4 + 3 ] );\n\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 0 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 1 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 2 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ 3 ] );\n\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 1 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 2 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ ( i - 1 ) * 4 + 3 ] );\n\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 1 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 2 ] );\n\t\t\t\tbuffers.weightsIndices.push( faceWeightIndices[ i * 4 + 3 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.color ) {\n\n\t\t\t\tbuffers.colors.push( faceColors[ 0 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ 1 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ 2 ] );\n\n\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\tbuffers.colors.push( faceColors[ i * 3 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 1 ] );\n\t\t\t\tbuffers.colors.push( faceColors[ i * 3 + 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.material && geoInfo.material.mappingType !== 'AllSame' ) {\n\n\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\t\t\t\tbuffers.materialIndex.push( materialIndex );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.normal ) {\n\n\t\t\t\tbuffers.normal.push( faceNormals[ 0 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ 1 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ 2 ] );\n\n\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 1 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ ( i - 1 ) * 3 + 2 ] );\n\n\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 1 ] );\n\t\t\t\tbuffers.normal.push( faceNormals[ i * 3 + 2 ] );\n\n\t\t\t}\n\n\t\t\tif ( geoInfo.uv ) {\n\n\t\t\t\tgeoInfo.uv.forEach( function ( uv, j ) {\n\n\t\t\t\t\tif ( buffers.uvs[ j ] === undefined ) buffers.uvs[ j ] = [];\n\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 0 ] );\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ 1 ] );\n\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 ] );\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ ( i - 1 ) * 2 + 1 ] );\n\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 ] );\n\t\t\t\t\tbuffers.uvs[ j ].push( faceUVs[ j ][ i * 2 + 1 ] );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\taddMorphTargets( parentGeo, parentGeoNode, morphTargets, preTransform ) {\n\n\t\tif ( morphTargets.length === 0 ) return;\n\n\t\tparentGeo.morphTargetsRelative = true;\n\n\t\tparentGeo.morphAttributes.position = [];\n\t\t// parentGeo.morphAttributes.normal = []; // not implemented\n\n\t\tconst scope = this;\n\t\tmorphTargets.forEach( function ( morphTarget ) {\n\n\t\t\tmorphTarget.rawTargets.forEach( function ( rawTarget ) {\n\n\t\t\t\tconst morphGeoNode = fbxTree.Objects.Geometry[ rawTarget.geoID ];\n\n\t\t\t\tif ( morphGeoNode !== undefined ) {\n\n\t\t\t\t\tscope.genMorphGeometry( parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t// a morph geometry node is similar to a standard  node, and the node is also contained\n\t// in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n\t// and a special attribute Index defining which vertices of the original geometry are affected\n\t// Normal and position attributes only have data for the vertices that are affected by the morph\n\tgenMorphGeometry( parentGeo, parentGeoNode, morphGeoNode, preTransform, name ) {\n\n\t\tconst vertexIndices = ( parentGeoNode.PolygonVertexIndex !== undefined ) ? parentGeoNode.PolygonVertexIndex.a : [];\n\n\t\tconst morphPositionsSparse = ( morphGeoNode.Vertices !== undefined ) ? morphGeoNode.Vertices.a : [];\n\t\tconst indices = ( morphGeoNode.Indexes !== undefined ) ? morphGeoNode.Indexes.a : [];\n\n\t\tconst length = parentGeo.attributes.position.count * 3;\n\t\tconst morphPositions = new Float32Array( length );\n\n\t\tfor ( let i = 0; i < indices.length; i ++ ) {\n\n\t\t\tconst morphIndex = indices[ i ] * 3;\n\n\t\t\tmorphPositions[ morphIndex ] = morphPositionsSparse[ i * 3 ];\n\t\t\tmorphPositions[ morphIndex + 1 ] = morphPositionsSparse[ i * 3 + 1 ];\n\t\t\tmorphPositions[ morphIndex + 2 ] = morphPositionsSparse[ i * 3 + 2 ];\n\n\t\t}\n\n\t\t// TODO: add morph normal support\n\t\tconst morphGeoInfo = {\n\t\t\tvertexIndices: vertexIndices,\n\t\t\tvertexPositions: morphPositions,\n\n\t\t};\n\n\t\tconst morphBuffers = this.genBuffers( morphGeoInfo );\n\n\t\tconst positionAttribute = new Float32BufferAttribute( morphBuffers.vertex, 3 );\n\t\tpositionAttribute.name = name || morphGeoNode.attrName;\n\n\t\tpositionAttribute.applyMatrix4( preTransform );\n\n\t\tparentGeo.morphAttributes.position.push( positionAttribute );\n\n\t}\n\n\t// Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n\tparseNormals( NormalNode ) {\n\n\t\tconst mappingType = NormalNode.MappingInformationType;\n\t\tconst referenceType = NormalNode.ReferenceInformationType;\n\t\tconst buffer = NormalNode.Normals.a;\n\t\tlet indexBuffer = [];\n\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\tif ( 'NormalIndex' in NormalNode ) {\n\n\t\t\t\tindexBuffer = NormalNode.NormalIndex.a;\n\n\t\t\t} else if ( 'NormalsIndex' in NormalNode ) {\n\n\t\t\t\tindexBuffer = NormalNode.NormalsIndex.a;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 3,\n\t\t\tbuffer: buffer,\n\t\t\tindices: indexBuffer,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n\tparseUVs( UVNode ) {\n\n\t\tconst mappingType = UVNode.MappingInformationType;\n\t\tconst referenceType = UVNode.ReferenceInformationType;\n\t\tconst buffer = UVNode.UV.a;\n\t\tlet indexBuffer = [];\n\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\tindexBuffer = UVNode.UVIndex.a;\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 2,\n\t\t\tbuffer: buffer,\n\t\t\tindices: indexBuffer,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n\tparseVertexColors( ColorNode ) {\n\n\t\tconst mappingType = ColorNode.MappingInformationType;\n\t\tconst referenceType = ColorNode.ReferenceInformationType;\n\t\tconst buffer = ColorNode.Colors.a;\n\t\tlet indexBuffer = [];\n\t\tif ( referenceType === 'IndexToDirect' ) {\n\n\t\t\tindexBuffer = ColorNode.ColorIndex.a;\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 4,\n\t\t\tbuffer: buffer,\n\t\t\tindices: indexBuffer,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n\tparseMaterialIndices( MaterialNode ) {\n\n\t\tconst mappingType = MaterialNode.MappingInformationType;\n\t\tconst referenceType = MaterialNode.ReferenceInformationType;\n\n\t\tif ( mappingType === 'NoMappingInformation' ) {\n\n\t\t\treturn {\n\t\t\t\tdataSize: 1,\n\t\t\t\tbuffer: [ 0 ],\n\t\t\t\tindices: [ 0 ],\n\t\t\t\tmappingType: 'AllSame',\n\t\t\t\treferenceType: referenceType\n\t\t\t};\n\n\t\t}\n\n\t\tconst materialIndexBuffer = MaterialNode.Materials.a;\n\n\t\t// Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n\t\t// we expect.So we create an intermediate buffer that points to the index in the buffer,\n\t\t// for conforming with the other functions we've written for other data.\n\t\tconst materialIndices = [];\n\n\t\tfor ( let i = 0; i < materialIndexBuffer.length; ++ i ) {\n\n\t\t\tmaterialIndices.push( i );\n\n\t\t}\n\n\t\treturn {\n\t\t\tdataSize: 1,\n\t\t\tbuffer: materialIndexBuffer,\n\t\t\tindices: materialIndices,\n\t\t\tmappingType: mappingType,\n\t\t\treferenceType: referenceType\n\t\t};\n\n\t}\n\n\t// Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n\tparseNurbsGeometry( geoNode ) {\n\n\t\tif ( NURBSCurve === undefined ) {\n\n\t\t\tconsole.error( 'THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst order = parseInt( geoNode.Order );\n\n\t\tif ( isNaN( order ) ) {\n\n\t\t\tconsole.error( 'THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst degree = order - 1;\n\n\t\tconst knots = geoNode.KnotVector.a;\n\t\tconst controlPoints = [];\n\t\tconst pointsValues = geoNode.Points.a;\n\n\t\tfor ( let i = 0, l = pointsValues.length; i < l; i += 4 ) {\n\n\t\t\tcontrolPoints.push( new Vector4().fromArray( pointsValues, i ) );\n\n\t\t}\n\n\t\tlet startKnot, endKnot;\n\n\t\tif ( geoNode.Form === 'Closed' ) {\n\n\t\t\tcontrolPoints.push( controlPoints[ 0 ] );\n\n\t\t} else if ( geoNode.Form === 'Periodic' ) {\n\n\t\t\tstartKnot = degree;\n\t\t\tendKnot = knots.length - 1 - startKnot;\n\n\t\t\tfor ( let i = 0; i < degree; ++ i ) {\n\n\t\t\t\tcontrolPoints.push( controlPoints[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst curve = new NURBSCurve( degree, knots, controlPoints, startKnot, endKnot );\n\t\tconst points = curve.getPoints( controlPoints.length * 12 );\n\n\t\treturn new BufferGeometry().setFromPoints( points );\n\n\t}\n\n}\n\n// parse animation data from FBXTree\nclass AnimationParser {\n\n\t// take raw animation clips and turn them into three.js animation clips\n\tparse() {\n\n\t\tconst animationClips = [];\n\n\t\tconst rawClips = this.parseClips();\n\n\t\tif ( rawClips !== undefined ) {\n\n\t\t\tfor ( const key in rawClips ) {\n\n\t\t\t\tconst rawClip = rawClips[ key ];\n\n\t\t\t\tconst clip = this.addClip( rawClip );\n\n\t\t\t\tanimationClips.push( clip );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animationClips;\n\n\t}\n\n\tparseClips() {\n\n\t\t// since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n\t\t// if this is undefined we can safely assume there are no animations\n\t\tif ( fbxTree.Objects.AnimationCurve === undefined ) return undefined;\n\n\t\tconst curveNodesMap = this.parseAnimationCurveNodes();\n\n\t\tthis.parseAnimationCurves( curveNodesMap );\n\n\t\tconst layersMap = this.parseAnimationLayers( curveNodesMap );\n\t\tconst rawClips = this.parseAnimStacks( layersMap );\n\n\t\treturn rawClips;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationCurveNode\n\t// each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n\t// and is referenced by an AnimationLayer\n\tparseAnimationCurveNodes() {\n\n\t\tconst rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n\n\t\tconst curveNodesMap = new Map();\n\n\t\tfor ( const nodeID in rawCurveNodes ) {\n\n\t\t\tconst rawCurveNode = rawCurveNodes[ nodeID ];\n\n\t\t\tif ( rawCurveNode.attrName.match( /S|R|T|DeformPercent/ ) !== null ) {\n\n\t\t\t\tconst curveNode = {\n\n\t\t\t\t\tid: rawCurveNode.id,\n\t\t\t\t\tattr: rawCurveNode.attrName,\n\t\t\t\t\tcurves: {},\n\n\t\t\t\t};\n\n\t\t\t\tcurveNodesMap.set( curveNode.id, curveNode );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn curveNodesMap;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n\t// previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n\t// axis ( e.g. times and values of x rotation)\n\tparseAnimationCurves( curveNodesMap ) {\n\n\t\tconst rawCurves = fbxTree.Objects.AnimationCurve;\n\n\t\t// TODO: Many values are identical up to roundoff error, but won't be optimised\n\t\t// e.g. position times: [0, 0.4, 0. 8]\n\t\t// position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n\t\t// clearly, this should be optimised to\n\t\t// times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n\t\t// this shows up in nearly every FBX file, and generally time array is length > 100\n\n\t\tfor ( const nodeID in rawCurves ) {\n\n\t\t\tconst animationCurve = {\n\n\t\t\t\tid: rawCurves[ nodeID ].id,\n\t\t\t\ttimes: rawCurves[ nodeID ].KeyTime.a.map( convertFBXTimeToSeconds ),\n\t\t\t\tvalues: rawCurves[ nodeID ].KeyValueFloat.a,\n\n\t\t\t};\n\n\t\t\tconst relationships = connections.get( animationCurve.id );\n\n\t\t\tif ( relationships !== undefined ) {\n\n\t\t\t\tconst animationCurveID = relationships.parents[ 0 ].ID;\n\t\t\t\tconst animationCurveRelationship = relationships.parents[ 0 ].relationship;\n\n\t\t\t\tif ( animationCurveRelationship.match( /X/ ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'x' ] = animationCurve;\n\n\t\t\t\t} else if ( animationCurveRelationship.match( /Y/ ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'y' ] = animationCurve;\n\n\t\t\t\t} else if ( animationCurveRelationship.match( /Z/ ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'z' ] = animationCurve;\n\n\t\t\t\t} else if ( animationCurveRelationship.match( /d|DeformPercent/ ) && curveNodesMap.has( animationCurveID ) ) {\n\n\t\t\t\t\tcurveNodesMap.get( animationCurveID ).curves[ 'morph' ] = animationCurve;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n\t// to various AnimationCurveNodes and is referenced by an AnimationStack node\n\t// note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n\tparseAnimationLayers( curveNodesMap ) {\n\n\t\tconst rawLayers = fbxTree.Objects.AnimationLayer;\n\n\t\tconst layersMap = new Map();\n\n\t\tfor ( const nodeID in rawLayers ) {\n\n\t\t\tconst layerCurveNodes = [];\n\n\t\t\tconst connection = connections.get( parseInt( nodeID ) );\n\n\t\t\tif ( connection !== undefined ) {\n\n\t\t\t\t// all the animationCurveNodes used in the layer\n\t\t\t\tconst children = connection.children;\n\n\t\t\t\tchildren.forEach( function ( child, i ) {\n\n\t\t\t\t\tif ( curveNodesMap.has( child.ID ) ) {\n\n\t\t\t\t\t\tconst curveNode = curveNodesMap.get( child.ID );\n\n\t\t\t\t\t\t// check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\t\t\t\t\t\tif ( curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined ) {\n\n\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\tconst modelID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\tif ( modelID !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tconst rawModel = fbxTree.Objects.Model[ modelID.toString() ];\n\n\t\t\t\t\t\t\t\t\tif ( rawModel === undefined ) {\n\n\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered a unused curve.', child );\n\t\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tconst node = {\n\n\t\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName( rawModel.attrName ) : '',\n\t\t\t\t\t\t\t\t\t\tID: rawModel.id,\n\t\t\t\t\t\t\t\t\t\tinitialPosition: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\tinitialRotation: [ 0, 0, 0 ],\n\t\t\t\t\t\t\t\t\t\tinitialScale: [ 1, 1, 1 ],\n\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tsceneGraph.traverse( function ( child ) {\n\n\t\t\t\t\t\t\t\t\t\tif ( child.ID === rawModel.id ) {\n\n\t\t\t\t\t\t\t\t\t\t\tnode.transform = child.matrix;\n\n\t\t\t\t\t\t\t\t\t\t\tif ( child.userData.transformData ) node.eulerOrder = child.userData.transformData.eulerOrder;\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\tif ( ! node.transform ) node.transform = new Matrix4();\n\n\t\t\t\t\t\t\t\t\t// if the animated model is pre rotated, we'll have to apply the pre rotations to every\n\t\t\t\t\t\t\t\t\t// animation value as well\n\t\t\t\t\t\t\t\t\tif ( 'PreRotation' in rawModel ) node.preRotation = rawModel.PreRotation.value;\n\t\t\t\t\t\t\t\t\tif ( 'PostRotation' in rawModel ) node.postRotation = rawModel.PostRotation.value;\n\n\t\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] ) layerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t} else if ( curveNode.curves.morph !== undefined ) {\n\n\t\t\t\t\t\t\tif ( layerCurveNodes[ i ] === undefined ) {\n\n\t\t\t\t\t\t\t\tconst deformerID = connections.get( child.ID ).parents.filter( function ( parent ) {\n\n\t\t\t\t\t\t\t\t\treturn parent.relationship !== undefined;\n\n\t\t\t\t\t\t\t\t} )[ 0 ].ID;\n\n\t\t\t\t\t\t\t\tconst morpherID = connections.get( deformerID ).parents[ 0 ].ID;\n\t\t\t\t\t\t\t\tconst geoID = connections.get( morpherID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\t// assuming geometry is not used in more than one model\n\t\t\t\t\t\t\t\tconst modelID = connections.get( geoID ).parents[ 0 ].ID;\n\n\t\t\t\t\t\t\t\tconst rawModel = fbxTree.Objects.Model[ modelID ];\n\n\t\t\t\t\t\t\t\tconst node = {\n\n\t\t\t\t\t\t\t\t\tmodelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName( rawModel.attrName ) : '',\n\t\t\t\t\t\t\t\t\tmorphName: fbxTree.Objects.Deformer[ deformerID ].attrName,\n\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tlayerCurveNodes[ i ] = node;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlayerCurveNodes[ i ][ curveNode.attr ] = curveNode;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tlayersMap.set( parseInt( nodeID ), layerCurveNodes );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn layersMap;\n\n\t}\n\n\t// parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n\t// hierarchy. Each Stack node will be used to create a AnimationClip\n\tparseAnimStacks( layersMap ) {\n\n\t\tconst rawStacks = fbxTree.Objects.AnimationStack;\n\n\t\t// connect the stacks (clips) up to the layers\n\t\tconst rawClips = {};\n\n\t\tfor ( const nodeID in rawStacks ) {\n\n\t\t\tconst children = connections.get( parseInt( nodeID ) ).children;\n\n\t\t\tif ( children.length > 1 ) {\n\n\t\t\t\t// it seems like stacks will always be associated with a single layer. But just in case there are files\n\t\t\t\t// where there are multiple layers per stack, we'll display a warning\n\t\t\t\tconsole.warn( 'THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.' );\n\n\t\t\t}\n\n\t\t\tconst layer = layersMap.get( children[ 0 ].ID );\n\n\t\t\trawClips[ nodeID ] = {\n\n\t\t\t\tname: rawStacks[ nodeID ].attrName,\n\t\t\t\tlayer: layer,\n\n\t\t\t};\n\n\t\t}\n\n\t\treturn rawClips;\n\n\t}\n\n\taddClip( rawClip ) {\n\n\t\tlet tracks = [];\n\n\t\tconst scope = this;\n\t\trawClip.layer.forEach( function ( rawTracks ) {\n\n\t\t\ttracks = tracks.concat( scope.generateTracks( rawTracks ) );\n\n\t\t} );\n\n\t\treturn new AnimationClip( rawClip.name, - 1, tracks );\n\n\t}\n\n\tgenerateTracks( rawTracks ) {\n\n\t\tconst tracks = [];\n\n\t\tlet initialPosition = new Vector3();\n\t\tlet initialRotation = new Quaternion();\n\t\tlet initialScale = new Vector3();\n\n\t\tif ( rawTracks.transform ) rawTracks.transform.decompose( initialPosition, initialRotation, initialScale );\n\n\t\tinitialPosition = initialPosition.toArray();\n\t\tinitialRotation = new Euler().setFromQuaternion( initialRotation, rawTracks.eulerOrder ).toArray();\n\t\tinitialScale = initialScale.toArray();\n\n\t\tif ( rawTracks.T !== undefined && Object.keys( rawTracks.T.curves ).length > 0 ) {\n\n\t\t\tconst positionTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position' );\n\t\t\tif ( positionTrack !== undefined ) tracks.push( positionTrack );\n\n\t\t}\n\n\t\tif ( rawTracks.R !== undefined && Object.keys( rawTracks.R.curves ).length > 0 ) {\n\n\t\t\tconst rotationTrack = this.generateRotationTrack( rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder );\n\t\t\tif ( rotationTrack !== undefined ) tracks.push( rotationTrack );\n\n\t\t}\n\n\t\tif ( rawTracks.S !== undefined && Object.keys( rawTracks.S.curves ).length > 0 ) {\n\n\t\t\tconst scaleTrack = this.generateVectorTrack( rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale' );\n\t\t\tif ( scaleTrack !== undefined ) tracks.push( scaleTrack );\n\n\t\t}\n\n\t\tif ( rawTracks.DeformPercent !== undefined ) {\n\n\t\t\tconst morphTrack = this.generateMorphTrack( rawTracks );\n\t\t\tif ( morphTrack !== undefined ) tracks.push( morphTrack );\n\n\t\t}\n\n\t\treturn tracks;\n\n\t}\n\n\tgenerateVectorTrack( modelName, curves, initialValue, type ) {\n\n\t\tconst times = this.getTimesForAllAxes( curves );\n\t\tconst values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\treturn new VectorKeyframeTrack( modelName + '.' + type, times, values );\n\n\t}\n\n\tgenerateRotationTrack( modelName, curves, initialValue, preRotation, postRotation, eulerOrder ) {\n\n\t\tif ( curves.x !== undefined ) {\n\n\t\t\tthis.interpolateRotations( curves.x );\n\t\t\tcurves.x.values = curves.x.values.map( MathUtils.degToRad );\n\n\t\t}\n\n\t\tif ( curves.y !== undefined ) {\n\n\t\t\tthis.interpolateRotations( curves.y );\n\t\t\tcurves.y.values = curves.y.values.map( MathUtils.degToRad );\n\n\t\t}\n\n\t\tif ( curves.z !== undefined ) {\n\n\t\t\tthis.interpolateRotations( curves.z );\n\t\t\tcurves.z.values = curves.z.values.map( MathUtils.degToRad );\n\n\t\t}\n\n\t\tconst times = this.getTimesForAllAxes( curves );\n\t\tconst values = this.getKeyframeTrackValues( times, curves, initialValue );\n\n\t\tif ( preRotation !== undefined ) {\n\n\t\t\tpreRotation = preRotation.map( MathUtils.degToRad );\n\t\t\tpreRotation.push( eulerOrder );\n\n\t\t\tpreRotation = new Euler().fromArray( preRotation );\n\t\t\tpreRotation = new Quaternion().setFromEuler( preRotation );\n\n\t\t}\n\n\t\tif ( postRotation !== undefined ) {\n\n\t\t\tpostRotation = postRotation.map( MathUtils.degToRad );\n\t\t\tpostRotation.push( eulerOrder );\n\n\t\t\tpostRotation = new Euler().fromArray( postRotation );\n\t\t\tpostRotation = new Quaternion().setFromEuler( postRotation ).invert();\n\n\t\t}\n\n\t\tconst quaternion = new Quaternion();\n\t\tconst euler = new Euler();\n\n\t\tconst quaternionValues = [];\n\n\t\tfor ( let i = 0; i < values.length; i += 3 ) {\n\n\t\t\teuler.set( values[ i ], values[ i + 1 ], values[ i + 2 ], eulerOrder );\n\n\t\t\tquaternion.setFromEuler( euler );\n\n\t\t\tif ( preRotation !== undefined ) quaternion.premultiply( preRotation );\n\t\t\tif ( postRotation !== undefined ) quaternion.multiply( postRotation );\n\n\t\t\tquaternion.toArray( quaternionValues, ( i / 3 ) * 4 );\n\n\t\t}\n\n\t\treturn new QuaternionKeyframeTrack( modelName + '.quaternion', times, quaternionValues );\n\n\t}\n\n\tgenerateMorphTrack( rawTracks ) {\n\n\t\tconst curves = rawTracks.DeformPercent.curves.morph;\n\t\tconst values = curves.values.map( function ( val ) {\n\n\t\t\treturn val / 100;\n\n\t\t} );\n\n\t\tconst morphNum = sceneGraph.getObjectByName( rawTracks.modelName ).morphTargetDictionary[ rawTracks.morphName ];\n\n\t\treturn new NumberKeyframeTrack( rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values );\n\n\t}\n\n\t// For all animated objects, times are defined separately for each axis\n\t// Here we'll combine the times into one sorted array without duplicates\n\tgetTimesForAllAxes( curves ) {\n\n\t\tlet times = [];\n\n\t\t// first join together the times for each axis, if defined\n\t\tif ( curves.x !== undefined ) times = times.concat( curves.x.times );\n\t\tif ( curves.y !== undefined ) times = times.concat( curves.y.times );\n\t\tif ( curves.z !== undefined ) times = times.concat( curves.z.times );\n\n\t\t// then sort them\n\t\ttimes = times.sort( function ( a, b ) {\n\n\t\t\treturn a - b;\n\n\t\t} );\n\n\t\t// and remove duplicates\n\t\tif ( times.length > 1 ) {\n\n\t\t\tlet targetIndex = 1;\n\t\t\tlet lastValue = times[ 0 ];\n\t\t\tfor ( let i = 1; i < times.length; i ++ ) {\n\n\t\t\t\tconst currentValue = times[ i ];\n\t\t\t\tif ( currentValue !== lastValue ) {\n\n\t\t\t\t\ttimes[ targetIndex ] = currentValue;\n\t\t\t\t\tlastValue = currentValue;\n\t\t\t\t\ttargetIndex ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttimes = times.slice( 0, targetIndex );\n\n\t\t}\n\n\t\treturn times;\n\n\t}\n\n\tgetKeyframeTrackValues( times, curves, initialValue ) {\n\n\t\tconst prevValue = initialValue;\n\n\t\tconst values = [];\n\n\t\tlet xIndex = - 1;\n\t\tlet yIndex = - 1;\n\t\tlet zIndex = - 1;\n\n\t\ttimes.forEach( function ( time ) {\n\n\t\t\tif ( curves.x ) xIndex = curves.x.times.indexOf( time );\n\t\t\tif ( curves.y ) yIndex = curves.y.times.indexOf( time );\n\t\t\tif ( curves.z ) zIndex = curves.z.times.indexOf( time );\n\n\t\t\t// if there is an x value defined for this frame, use that\n\t\t\tif ( xIndex !== - 1 ) {\n\n\t\t\t\tconst xValue = curves.x.values[ xIndex ];\n\t\t\t\tvalues.push( xValue );\n\t\t\t\tprevValue[ 0 ] = xValue;\n\n\t\t\t} else {\n\n\t\t\t\t// otherwise use the x value from the previous frame\n\t\t\t\tvalues.push( prevValue[ 0 ] );\n\n\t\t\t}\n\n\t\t\tif ( yIndex !== - 1 ) {\n\n\t\t\t\tconst yValue = curves.y.values[ yIndex ];\n\t\t\t\tvalues.push( yValue );\n\t\t\t\tprevValue[ 1 ] = yValue;\n\n\t\t\t} else {\n\n\t\t\t\tvalues.push( prevValue[ 1 ] );\n\n\t\t\t}\n\n\t\t\tif ( zIndex !== - 1 ) {\n\n\t\t\t\tconst zValue = curves.z.values[ zIndex ];\n\t\t\t\tvalues.push( zValue );\n\t\t\t\tprevValue[ 2 ] = zValue;\n\n\t\t\t} else {\n\n\t\t\t\tvalues.push( prevValue[ 2 ] );\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn values;\n\n\t}\n\n\t// Rotations are defined as Euler angles which can have values  of any size\n\t// These will be converted to quaternions which don't support values greater than\n\t// PI, so we'll interpolate large rotations\n\tinterpolateRotations( curve ) {\n\n\t\tfor ( let i = 1; i < curve.values.length; i ++ ) {\n\n\t\t\tconst initialValue = curve.values[ i - 1 ];\n\t\t\tconst valuesSpan = curve.values[ i ] - initialValue;\n\n\t\t\tconst absoluteSpan = Math.abs( valuesSpan );\n\n\t\t\tif ( absoluteSpan >= 180 ) {\n\n\t\t\t\tconst numSubIntervals = absoluteSpan / 180;\n\n\t\t\t\tconst step = valuesSpan / numSubIntervals;\n\t\t\t\tlet nextValue = initialValue + step;\n\n\t\t\t\tconst initialTime = curve.times[ i - 1 ];\n\t\t\t\tconst timeSpan = curve.times[ i ] - initialTime;\n\t\t\t\tconst interval = timeSpan / numSubIntervals;\n\t\t\t\tlet nextTime = initialTime + interval;\n\n\t\t\t\tconst interpolatedTimes = [];\n\t\t\t\tconst interpolatedValues = [];\n\n\t\t\t\twhile ( nextTime < curve.times[ i ] ) {\n\n\t\t\t\t\tinterpolatedTimes.push( nextTime );\n\t\t\t\t\tnextTime += interval;\n\n\t\t\t\t\tinterpolatedValues.push( nextValue );\n\t\t\t\t\tnextValue += step;\n\n\t\t\t\t}\n\n\t\t\t\tcurve.times = inject( curve.times, i, interpolatedTimes );\n\t\t\t\tcurve.values = inject( curve.values, i, interpolatedValues );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\n// parse an FBX file in ASCII format\nclass TextParser {\n\n\tgetPrevNode() {\n\n\t\treturn this.nodeStack[ this.currentIndent - 2 ];\n\n\t}\n\n\tgetCurrentNode() {\n\n\t\treturn this.nodeStack[ this.currentIndent - 1 ];\n\n\t}\n\n\tgetCurrentProp() {\n\n\t\treturn this.currentProp;\n\n\t}\n\n\tpushStack( node ) {\n\n\t\tthis.nodeStack.push( node );\n\t\tthis.currentIndent += 1;\n\n\t}\n\n\tpopStack() {\n\n\t\tthis.nodeStack.pop();\n\t\tthis.currentIndent -= 1;\n\n\t}\n\n\tsetCurrentProp( val, name ) {\n\n\t\tthis.currentProp = val;\n\t\tthis.currentPropName = name;\n\n\t}\n\n\tparse( text ) {\n\n\t\tthis.currentIndent = 0;\n\n\t\tthis.allNodes = new FBXTree();\n\t\tthis.nodeStack = [];\n\t\tthis.currentProp = [];\n\t\tthis.currentPropName = '';\n\n\t\tconst scope = this;\n\n\t\tconst split = text.split( /[\\r\\n]+/ );\n\n\t\tsplit.forEach( function ( line, i ) {\n\n\t\t\tconst matchComment = line.match( /^[\\s\\t]*;/ );\n\t\t\tconst matchEmpty = line.match( /^[\\s\\t]*$/ );\n\n\t\t\tif ( matchComment || matchEmpty ) return;\n\n\t\t\tconst matchBeginning = line.match( '^\\\\t{' + scope.currentIndent + '}(\\\\w+):(.*){', '' );\n\t\t\tconst matchProperty = line.match( '^\\\\t{' + ( scope.currentIndent ) + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)' );\n\t\t\tconst matchEnd = line.match( '^\\\\t{' + ( scope.currentIndent - 1 ) + '}}' );\n\n\t\t\tif ( matchBeginning ) {\n\n\t\t\t\tscope.parseNodeBegin( line, matchBeginning );\n\n\t\t\t} else if ( matchProperty ) {\n\n\t\t\t\tscope.parseNodeProperty( line, matchProperty, split[ ++ i ] );\n\n\t\t\t} else if ( matchEnd ) {\n\n\t\t\t\tscope.popStack();\n\n\t\t\t} else if ( line.match( /^[^\\s\\t}]/ ) ) {\n\n\t\t\t\t// large arrays are split over multiple lines terminated with a ',' character\n\t\t\t\t// if this is encountered the line needs to be joined to the previous line\n\t\t\t\tscope.parseNodePropertyContinued( line );\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn this.allNodes;\n\n\t}\n\n\tparseNodeBegin( line, property ) {\n\n\t\tconst nodeName = property[ 1 ].trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\tconst nodeAttrs = property[ 2 ].split( ',' ).map( function ( attr ) {\n\n\t\t\treturn attr.trim().replace( /^\"/, '' ).replace( /\"$/, '' );\n\n\t\t} );\n\n\t\tconst node = { name: nodeName };\n\t\tconst attrs = this.parseNodeAttr( nodeAttrs );\n\n\t\tconst currentNode = this.getCurrentNode();\n\n\t\t// a top node\n\t\tif ( this.currentIndent === 0 ) {\n\n\t\t\tthis.allNodes.add( nodeName, node );\n\n\t\t} else { // a subnode\n\n\t\t\t// if the subnode already exists, append it\n\t\t\tif ( nodeName in currentNode ) {\n\n\t\t\t\t// special case Pose needs PoseNodes as an array\n\t\t\t\tif ( nodeName === 'PoseNode' ) {\n\n\t\t\t\t\tcurrentNode.PoseNode.push( node );\n\n\t\t\t\t} else if ( currentNode[ nodeName ].id !== undefined ) {\n\n\t\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\t\tcurrentNode[ nodeName ][ currentNode[ nodeName ].id ] = currentNode[ nodeName ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( attrs.id !== '' ) currentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t} else if ( typeof attrs.id === 'number' ) {\n\n\t\t\t\tcurrentNode[ nodeName ] = {};\n\t\t\t\tcurrentNode[ nodeName ][ attrs.id ] = node;\n\n\t\t\t} else if ( nodeName !== 'Properties70' ) {\n\n\t\t\t\tif ( nodeName === 'PoseNode' )\tcurrentNode[ nodeName ] = [ node ];\n\t\t\t\telse currentNode[ nodeName ] = node;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( typeof attrs.id === 'number' ) node.id = attrs.id;\n\t\tif ( attrs.name !== '' ) node.attrName = attrs.name;\n\t\tif ( attrs.type !== '' ) node.attrType = attrs.type;\n\n\t\tthis.pushStack( node );\n\n\t}\n\n\tparseNodeAttr( attrs ) {\n\n\t\tlet id = attrs[ 0 ];\n\n\t\tif ( attrs[ 0 ] !== '' ) {\n\n\t\t\tid = parseInt( attrs[ 0 ] );\n\n\t\t\tif ( isNaN( id ) ) {\n\n\t\t\t\tid = attrs[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet name = '', type = '';\n\n\t\tif ( attrs.length > 1 ) {\n\n\t\t\tname = attrs[ 1 ].replace( /^(\\w+)::/, '' );\n\t\t\ttype = attrs[ 2 ];\n\n\t\t}\n\n\t\treturn { id: id, name: name, type: type };\n\n\t}\n\n\tparseNodeProperty( line, property, contentLine ) {\n\n\t\tlet propName = property[ 1 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\t\tlet propValue = property[ 2 ].replace( /^\"/, '' ).replace( /\"$/, '' ).trim();\n\n\t\t// for special case: base64 image data follows \"Content: ,\" line\n\t\t//\tContent: ,\n\t\t//\t \"/9j/4RDaRXhpZgAATU0A...\"\n\t\tif ( propName === 'Content' && propValue === ',' ) {\n\n\t\t\tpropValue = contentLine.replace( /\"/g, '' ).replace( /,$/, '' ).trim();\n\n\t\t}\n\n\t\tconst currentNode = this.getCurrentNode();\n\t\tconst parentName = currentNode.name;\n\n\t\tif ( parentName === 'Properties70' ) {\n\n\t\t\tthis.parseNodeSpecialProperty( line, propName, propValue );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Connections\n\t\tif ( propName === 'C' ) {\n\n\t\t\tconst connProps = propValue.split( ',' ).slice( 1 );\n\t\t\tconst from = parseInt( connProps[ 0 ] );\n\t\t\tconst to = parseInt( connProps[ 1 ] );\n\n\t\t\tlet rest = propValue.split( ',' ).slice( 3 );\n\n\t\t\trest = rest.map( function ( elem ) {\n\n\t\t\t\treturn elem.trim().replace( /^\"/, '' );\n\n\t\t\t} );\n\n\t\t\tpropName = 'connections';\n\t\t\tpropValue = [ from, to ];\n\t\t\tappend( propValue, rest );\n\n\t\t\tif ( currentNode[ propName ] === undefined ) {\n\n\t\t\t\tcurrentNode[ propName ] = [];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Node\n\t\tif ( propName === 'Node' ) currentNode.id = propValue;\n\n\t\t// connections\n\t\tif ( propName in currentNode && Array.isArray( currentNode[ propName ] ) ) {\n\n\t\t\tcurrentNode[ propName ].push( propValue );\n\n\t\t} else {\n\n\t\t\tif ( propName !== 'a' ) currentNode[ propName ] = propValue;\n\t\t\telse currentNode.a = propValue;\n\n\t\t}\n\n\t\tthis.setCurrentProp( currentNode, propName );\n\n\t\t// convert string to array, unless it ends in ',' in which case more will be added to it\n\t\tif ( propName === 'a' && propValue.slice( - 1 ) !== ',' ) {\n\n\t\t\tcurrentNode.a = parseNumberArray( propValue );\n\n\t\t}\n\n\t}\n\n\tparseNodePropertyContinued( line ) {\n\n\t\tconst currentNode = this.getCurrentNode();\n\n\t\tcurrentNode.a += line;\n\n\t\t// if the line doesn't end in ',' we have reached the end of the property value\n\t\t// so convert the string to an array\n\t\tif ( line.slice( - 1 ) !== ',' ) {\n\n\t\t\tcurrentNode.a = parseNumberArray( currentNode.a );\n\n\t\t}\n\n\t}\n\n\t// parse \"Property70\"\n\tparseNodeSpecialProperty( line, propName, propValue ) {\n\n\t\t// split this\n\t\t// P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n\t\t// into array like below\n\t\t// [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n\t\tconst props = propValue.split( '\",' ).map( function ( prop ) {\n\n\t\t\treturn prop.trim().replace( /^\\\"/, '' ).replace( /\\s/, '_' );\n\n\t\t} );\n\n\t\tconst innerPropName = props[ 0 ];\n\t\tconst innerPropType1 = props[ 1 ];\n\t\tconst innerPropType2 = props[ 2 ];\n\t\tconst innerPropFlag = props[ 3 ];\n\t\tlet innerPropValue = props[ 4 ];\n\n\t\t// cast values where needed, otherwise leave as strings\n\t\tswitch ( innerPropType1 ) {\n\n\t\t\tcase 'int':\n\t\t\tcase 'enum':\n\t\t\tcase 'bool':\n\t\t\tcase 'ULongLong':\n\t\t\tcase 'double':\n\t\t\tcase 'Number':\n\t\t\tcase 'FieldOfView':\n\t\t\t\tinnerPropValue = parseFloat( innerPropValue );\n\t\t\t\tbreak;\n\n\t\t\tcase 'Color':\n\t\t\tcase 'ColorRGB':\n\t\t\tcase 'Vector3D':\n\t\t\tcase 'Lcl_Translation':\n\t\t\tcase 'Lcl_Rotation':\n\t\t\tcase 'Lcl_Scaling':\n\t\t\t\tinnerPropValue = parseNumberArray( innerPropValue );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t// CAUTION: these props must append to parent's parent\n\t\tthis.getPrevNode()[ innerPropName ] = {\n\n\t\t\t'type': innerPropType1,\n\t\t\t'type2': innerPropType2,\n\t\t\t'flag': innerPropFlag,\n\t\t\t'value': innerPropValue\n\n\t\t};\n\n\t\tthis.setCurrentProp( this.getPrevNode(), innerPropName );\n\n\t}\n\n}\n\n// Parse an FBX file in Binary format\nclass BinaryParser {\n\n\tparse( buffer ) {\n\n\t\tconst reader = new BinaryReader( buffer );\n\t\treader.skip( 23 ); // skip magic 23 bytes\n\n\t\tconst version = reader.getUint32();\n\n\t\tif ( version < 6400 ) {\n\n\t\t\tthrow new Error( 'THREE.FBXLoader: FBX version not supported, FileVersion: ' + version );\n\n\t\t}\n\n\t\tconst allNodes = new FBXTree();\n\n\t\twhile ( ! this.endOfContent( reader ) ) {\n\n\t\t\tconst node = this.parseNode( reader, version );\n\t\t\tif ( node !== null ) allNodes.add( node.name, node );\n\n\t\t}\n\n\t\treturn allNodes;\n\n\t}\n\n\t// Check if reader has reached the end of content.\n\tendOfContent( reader ) {\n\n\t\t// footer size: 160bytes + 16-byte alignment padding\n\t\t// - 16bytes: magic\n\t\t// - padding til 16-byte alignment (at least 1byte?)\n\t\t//\t(seems like some exporters embed fixed 15 or 16bytes?)\n\t\t// - 4bytes: magic\n\t\t// - 4bytes: version\n\t\t// - 120bytes: zero\n\t\t// - 16bytes: magic\n\t\tif ( reader.size() % 16 === 0 ) {\n\n\t\t\treturn ( ( reader.getOffset() + 160 + 16 ) & ~ 0xf ) >= reader.size();\n\n\t\t} else {\n\n\t\t\treturn reader.getOffset() + 160 + 16 >= reader.size();\n\n\t\t}\n\n\t}\n\n\t// recursively parse nodes until the end of the file is reached\n\tparseNode( reader, version ) {\n\n\t\tconst node = {};\n\n\t\t// The first three data sizes depends on version.\n\t\tconst endOffset = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\t\tconst numProperties = ( version >= 7500 ) ? reader.getUint64() : reader.getUint32();\n\n\t\t( version >= 7500 ) ? reader.getUint64() : reader.getUint32(); // the returned propertyListLen is not used\n\n\t\tconst nameLen = reader.getUint8();\n\t\tconst name = reader.getString( nameLen );\n\n\t\t// Regards this node as NULL-record if endOffset is zero\n\t\tif ( endOffset === 0 ) return null;\n\n\t\tconst propertyList = [];\n\n\t\tfor ( let i = 0; i < numProperties; i ++ ) {\n\n\t\t\tpropertyList.push( this.parseProperty( reader ) );\n\n\t\t}\n\n\t\t// Regards the first three elements in propertyList as id, attrName, and attrType\n\t\tconst id = propertyList.length > 0 ? propertyList[ 0 ] : '';\n\t\tconst attrName = propertyList.length > 1 ? propertyList[ 1 ] : '';\n\t\tconst attrType = propertyList.length > 2 ? propertyList[ 2 ] : '';\n\n\t\t// check if this node represents just a single property\n\t\t// like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\t\tnode.singleProperty = ( numProperties === 1 && reader.getOffset() === endOffset ) ? true : false;\n\n\t\twhile ( endOffset > reader.getOffset() ) {\n\n\t\t\tconst subNode = this.parseNode( reader, version );\n\n\t\t\tif ( subNode !== null ) this.parseSubNode( name, node, subNode );\n\n\t\t}\n\n\t\tnode.propertyList = propertyList; // raw property list used by parent\n\n\t\tif ( typeof id === 'number' ) node.id = id;\n\t\tif ( attrName !== '' ) node.attrName = attrName;\n\t\tif ( attrType !== '' ) node.attrType = attrType;\n\t\tif ( name !== '' ) node.name = name;\n\n\t\treturn node;\n\n\t}\n\n\tparseSubNode( name, node, subNode ) {\n\n\t\t// special case: child node is single property\n\t\tif ( subNode.singleProperty === true ) {\n\n\t\t\tconst value = subNode.propertyList[ 0 ];\n\n\t\t\tif ( Array.isArray( value ) ) {\n\n\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t\tsubNode.a = value;\n\n\t\t\t} else {\n\n\t\t\t\tnode[ subNode.name ] = value;\n\n\t\t\t}\n\n\t\t} else if ( name === 'Connections' && subNode.name === 'C' ) {\n\n\t\t\tconst array = [];\n\n\t\t\tsubNode.propertyList.forEach( function ( property, i ) {\n\n\t\t\t\t// first Connection is FBX type (OO, OP, etc.). We'll discard these\n\t\t\t\tif ( i !== 0 ) array.push( property );\n\n\t\t\t} );\n\n\t\t\tif ( node.connections === undefined ) {\n\n\t\t\t\tnode.connections = [];\n\n\t\t\t}\n\n\t\t\tnode.connections.push( array );\n\n\t\t} else if ( subNode.name === 'Properties70' ) {\n\n\t\t\tconst keys = Object.keys( subNode );\n\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tnode[ key ] = subNode[ key ];\n\n\t\t\t} );\n\n\t\t} else if ( name === 'Properties70' && subNode.name === 'P' ) {\n\n\t\t\tlet innerPropName = subNode.propertyList[ 0 ];\n\t\t\tlet innerPropType1 = subNode.propertyList[ 1 ];\n\t\t\tconst innerPropType2 = subNode.propertyList[ 2 ];\n\t\t\tconst innerPropFlag = subNode.propertyList[ 3 ];\n\t\t\tlet innerPropValue;\n\n\t\t\tif ( innerPropName.indexOf( 'Lcl ' ) === 0 ) innerPropName = innerPropName.replace( 'Lcl ', 'Lcl_' );\n\t\t\tif ( innerPropType1.indexOf( 'Lcl ' ) === 0 ) innerPropType1 = innerPropType1.replace( 'Lcl ', 'Lcl_' );\n\n\t\t\tif ( innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf( 'Lcl_' ) === 0 ) {\n\n\t\t\t\tinnerPropValue = [\n\t\t\t\t\tsubNode.propertyList[ 4 ],\n\t\t\t\t\tsubNode.propertyList[ 5 ],\n\t\t\t\t\tsubNode.propertyList[ 6 ]\n\t\t\t\t];\n\n\t\t\t} else {\n\n\t\t\t\tinnerPropValue = subNode.propertyList[ 4 ];\n\n\t\t\t}\n\n\t\t\t// this will be copied to parent, see above\n\t\t\tnode[ innerPropName ] = {\n\n\t\t\t\t'type': innerPropType1,\n\t\t\t\t'type2': innerPropType2,\n\t\t\t\t'flag': innerPropFlag,\n\t\t\t\t'value': innerPropValue\n\n\t\t\t};\n\n\t\t} else if ( node[ subNode.name ] === undefined ) {\n\n\t\t\tif ( typeof subNode.id === 'number' ) {\n\n\t\t\t\tnode[ subNode.name ] = {};\n\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t} else {\n\n\t\t\t\tnode[ subNode.name ] = subNode;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( subNode.name === 'PoseNode' ) {\n\n\t\t\t\tif ( ! Array.isArray( node[ subNode.name ] ) ) {\n\n\t\t\t\t\tnode[ subNode.name ] = [ node[ subNode.name ] ];\n\n\t\t\t\t}\n\n\t\t\t\tnode[ subNode.name ].push( subNode );\n\n\t\t\t} else if ( node[ subNode.name ][ subNode.id ] === undefined ) {\n\n\t\t\t\tnode[ subNode.name ][ subNode.id ] = subNode;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tparseProperty( reader ) {\n\n\t\tconst type = reader.getString( 1 );\n\t\tlet length;\n\n\t\tswitch ( type ) {\n\n\t\t\tcase 'C':\n\t\t\t\treturn reader.getBoolean();\n\n\t\t\tcase 'D':\n\t\t\t\treturn reader.getFloat64();\n\n\t\t\tcase 'F':\n\t\t\t\treturn reader.getFloat32();\n\n\t\t\tcase 'I':\n\t\t\t\treturn reader.getInt32();\n\n\t\t\tcase 'L':\n\t\t\t\treturn reader.getInt64();\n\n\t\t\tcase 'R':\n\t\t\t\tlength = reader.getUint32();\n\t\t\t\treturn reader.getArrayBuffer( length );\n\n\t\t\tcase 'S':\n\t\t\t\tlength = reader.getUint32();\n\t\t\t\treturn reader.getString( length );\n\n\t\t\tcase 'Y':\n\t\t\t\treturn reader.getInt16();\n\n\t\t\tcase 'b':\n\t\t\tcase 'c':\n\t\t\tcase 'd':\n\t\t\tcase 'f':\n\t\t\tcase 'i':\n\t\t\tcase 'l':\n\n\t\t\t\tconst arrayLength = reader.getUint32();\n\t\t\t\tconst encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\t\t\t\tconst compressedLength = reader.getUint32();\n\n\t\t\t\tif ( encoding === 0 ) {\n\n\t\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\treturn reader.getBooleanArray( arrayLength );\n\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn reader.getFloat64Array( arrayLength );\n\n\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\treturn reader.getFloat32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'i':\n\t\t\t\t\t\t\treturn reader.getInt32Array( arrayLength );\n\n\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\treturn reader.getInt64Array( arrayLength );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( typeof fflate === 'undefined' ) {\n\n\t\t\t\t\tconsole.error( 'THREE.FBXLoader: External library fflate.min.js required.' );\n\n\t\t\t\t}\n\n\t\t\t\tconst data = fflate.unzlibSync( new Uint8Array( reader.getArrayBuffer( compressedLength ) ) ); // eslint-disable-line no-undef\n\t\t\t\tconst reader2 = new BinaryReader( data.buffer );\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'b':\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\treturn reader2.getBooleanArray( arrayLength );\n\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\treturn reader2.getFloat64Array( arrayLength );\n\n\t\t\t\t\tcase 'f':\n\t\t\t\t\t\treturn reader2.getFloat32Array( arrayLength );\n\n\t\t\t\t\tcase 'i':\n\t\t\t\t\t\treturn reader2.getInt32Array( arrayLength );\n\n\t\t\t\t\tcase 'l':\n\t\t\t\t\t\treturn reader2.getInt64Array( arrayLength );\n\n\t\t\t\t}\n\n\t\t\t\tbreak; // cannot happen but is required by the DeepScan\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.FBXLoader: Unknown property type ' + type );\n\n\t\t}\n\n\t}\n\n}\n\nclass BinaryReader {\n\n\tconstructor( buffer, littleEndian ) {\n\n\t\tthis.dv = new DataView( buffer );\n\t\tthis.offset = 0;\n\t\tthis.littleEndian = ( littleEndian !== undefined ) ? littleEndian : true;\n\n\t}\n\n\tgetOffset() {\n\n\t\treturn this.offset;\n\n\t}\n\n\tsize() {\n\n\t\treturn this.dv.buffer.byteLength;\n\n\t}\n\n\tskip( length ) {\n\n\t\tthis.offset += length;\n\n\t}\n\n\t// seems like true/false representation depends on exporter.\n\t// true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n\t// then sees LSB.\n\tgetBoolean() {\n\n\t\treturn ( this.getUint8() & 1 ) === 1;\n\n\t}\n\n\tgetBooleanArray( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getBoolean() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetUint8() {\n\n\t\tconst value = this.dv.getUint8( this.offset );\n\t\tthis.offset += 1;\n\t\treturn value;\n\n\t}\n\n\tgetInt16() {\n\n\t\tconst value = this.dv.getInt16( this.offset, this.littleEndian );\n\t\tthis.offset += 2;\n\t\treturn value;\n\n\t}\n\n\tgetInt32() {\n\n\t\tconst value = this.dv.getInt32( this.offset, this.littleEndian );\n\t\tthis.offset += 4;\n\t\treturn value;\n\n\t}\n\n\tgetInt32Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getInt32() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetUint32() {\n\n\t\tconst value = this.dv.getUint32( this.offset, this.littleEndian );\n\t\tthis.offset += 4;\n\t\treturn value;\n\n\t}\n\n\t// JavaScript doesn't support 64-bit integer so calculate this here\n\t// 1 << 32 will return 1 so using multiply operation instead here.\n\t// There's a possibility that this method returns wrong value if the value\n\t// is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n\t// TODO: safely handle 64-bit integer\n\tgetInt64() {\n\n\t\tlet low, high;\n\n\t\tif ( this.littleEndian ) {\n\n\t\t\tlow = this.getUint32();\n\t\t\thigh = this.getUint32();\n\n\t\t} else {\n\n\t\t\thigh = this.getUint32();\n\t\t\tlow = this.getUint32();\n\n\t\t}\n\n\t\t// calculate negative value\n\t\tif ( high & 0x80000000 ) {\n\n\t\t\thigh = ~ high & 0xFFFFFFFF;\n\t\t\tlow = ~ low & 0xFFFFFFFF;\n\n\t\t\tif ( low === 0xFFFFFFFF ) high = ( high + 1 ) & 0xFFFFFFFF;\n\n\t\t\tlow = ( low + 1 ) & 0xFFFFFFFF;\n\n\t\t\treturn - ( high * 0x100000000 + low );\n\n\t\t}\n\n\t\treturn high * 0x100000000 + low;\n\n\t}\n\n\tgetInt64Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getInt64() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\t// Note: see getInt64() comment\n\tgetUint64() {\n\n\t\tlet low, high;\n\n\t\tif ( this.littleEndian ) {\n\n\t\t\tlow = this.getUint32();\n\t\t\thigh = this.getUint32();\n\n\t\t} else {\n\n\t\t\thigh = this.getUint32();\n\t\t\tlow = this.getUint32();\n\n\t\t}\n\n\t\treturn high * 0x100000000 + low;\n\n\t}\n\n\tgetFloat32() {\n\n\t\tconst value = this.dv.getFloat32( this.offset, this.littleEndian );\n\t\tthis.offset += 4;\n\t\treturn value;\n\n\t}\n\n\tgetFloat32Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getFloat32() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetFloat64() {\n\n\t\tconst value = this.dv.getFloat64( this.offset, this.littleEndian );\n\t\tthis.offset += 8;\n\t\treturn value;\n\n\t}\n\n\tgetFloat64Array( size ) {\n\n\t\tconst a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta.push( this.getFloat64() );\n\n\t\t}\n\n\t\treturn a;\n\n\t}\n\n\tgetArrayBuffer( size ) {\n\n\t\tconst value = this.dv.buffer.slice( this.offset, this.offset + size );\n\t\tthis.offset += size;\n\t\treturn value;\n\n\t}\n\n\tgetString( size ) {\n\n\t\t// note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n\t\tlet a = [];\n\n\t\tfor ( let i = 0; i < size; i ++ ) {\n\n\t\t\ta[ i ] = this.getUint8();\n\n\t\t}\n\n\t\tconst nullByte = a.indexOf( 0 );\n\t\tif ( nullByte >= 0 ) a = a.slice( 0, nullByte );\n\n\t\treturn LoaderUtils.decodeText( new Uint8Array( a ) );\n\n\t}\n\n}\n\n// FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n// and BinaryParser( FBX Binary format)\nclass FBXTree {\n\n\tadd( key, val ) {\n\n\t\tthis[ key ] = val;\n\n\t}\n\n}\n\n// ************** UTILITY FUNCTIONS **************\n\nfunction isFbxFormatBinary( buffer ) {\n\n\tconst CORRECT = 'Kaydara\\u0020FBX\\u0020Binary\\u0020\\u0020\\0';\n\n\treturn buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString( buffer, 0, CORRECT.length );\n\n}\n\nfunction isFbxFormatASCII( text ) {\n\n\tconst CORRECT = [ 'K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\' ];\n\n\tlet cursor = 0;\n\n\tfunction read( offset ) {\n\n\t\tconst result = text[ offset - 1 ];\n\t\ttext = text.slice( cursor + offset );\n\t\tcursor ++;\n\t\treturn result;\n\n\t}\n\n\tfor ( let i = 0; i < CORRECT.length; ++ i ) {\n\n\t\tconst num = read( 1 );\n\t\tif ( num === CORRECT[ i ] ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nfunction getFbxVersion( text ) {\n\n\tconst versionRegExp = /FBXVersion: (\\d+)/;\n\tconst match = text.match( versionRegExp );\n\n\tif ( match ) {\n\n\t\tconst version = parseInt( match[ 1 ] );\n\t\treturn version;\n\n\t}\n\n\tthrow new Error( 'THREE.FBXLoader: Cannot find the version number for the file given.' );\n\n}\n\n// Converts FBX ticks into real time seconds.\nfunction convertFBXTimeToSeconds( time ) {\n\n\treturn time / 46186158000;\n\n}\n\nconst dataArray = [];\n\n// extracts the data from the correct position in the FBX array based on indexing type\nfunction getData( polygonVertexIndex, polygonIndex, vertexIndex, infoObject ) {\n\n\tlet index;\n\n\tswitch ( infoObject.mappingType ) {\n\n\t\tcase 'ByPolygonVertex' :\n\t\t\tindex = polygonVertexIndex;\n\t\t\tbreak;\n\t\tcase 'ByPolygon' :\n\t\t\tindex = polygonIndex;\n\t\t\tbreak;\n\t\tcase 'ByVertice' :\n\t\t\tindex = vertexIndex;\n\t\t\tbreak;\n\t\tcase 'AllSame' :\n\t\t\tindex = infoObject.indices[ 0 ];\n\t\t\tbreak;\n\t\tdefault :\n\t\t\tconsole.warn( 'THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType );\n\n\t}\n\n\tif ( infoObject.referenceType === 'IndexToDirect' ) index = infoObject.indices[ index ];\n\n\tconst from = index * infoObject.dataSize;\n\tconst to = from + infoObject.dataSize;\n\n\treturn slice( dataArray, infoObject.buffer, from, to );\n\n}\n\nconst tempEuler = new Euler();\nconst tempVec = new Vector3();\n\n// generate transformation from FBX transform data\n// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\nfunction generateTransform( transformData ) {\n\n\tconst lTranslationM = new Matrix4();\n\tconst lPreRotationM = new Matrix4();\n\tconst lRotationM = new Matrix4();\n\tconst lPostRotationM = new Matrix4();\n\n\tconst lScalingM = new Matrix4();\n\tconst lScalingPivotM = new Matrix4();\n\tconst lScalingOffsetM = new Matrix4();\n\tconst lRotationOffsetM = new Matrix4();\n\tconst lRotationPivotM = new Matrix4();\n\n\tconst lParentGX = new Matrix4();\n\tconst lParentLX = new Matrix4();\n\tconst lGlobalT = new Matrix4();\n\n\tconst inheritType = ( transformData.inheritType ) ? transformData.inheritType : 0;\n\n\tif ( transformData.translation ) lTranslationM.setPosition( tempVec.fromArray( transformData.translation ) );\n\n\tif ( transformData.preRotation ) {\n\n\t\tconst array = transformData.preRotation.map( MathUtils.degToRad );\n\t\tarray.push( transformData.eulerOrder );\n\t\tlPreRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t}\n\n\tif ( transformData.rotation ) {\n\n\t\tconst array = transformData.rotation.map( MathUtils.degToRad );\n\t\tarray.push( transformData.eulerOrder );\n\t\tlRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\n\t}\n\n\tif ( transformData.postRotation ) {\n\n\t\tconst array = transformData.postRotation.map( MathUtils.degToRad );\n\t\tarray.push( transformData.eulerOrder );\n\t\tlPostRotationM.makeRotationFromEuler( tempEuler.fromArray( array ) );\n\t\tlPostRotationM.invert();\n\n\t}\n\n\tif ( transformData.scale ) lScalingM.scale( tempVec.fromArray( transformData.scale ) );\n\n\t// Pivots and offsets\n\tif ( transformData.scalingOffset ) lScalingOffsetM.setPosition( tempVec.fromArray( transformData.scalingOffset ) );\n\tif ( transformData.scalingPivot ) lScalingPivotM.setPosition( tempVec.fromArray( transformData.scalingPivot ) );\n\tif ( transformData.rotationOffset ) lRotationOffsetM.setPosition( tempVec.fromArray( transformData.rotationOffset ) );\n\tif ( transformData.rotationPivot ) lRotationPivotM.setPosition( tempVec.fromArray( transformData.rotationPivot ) );\n\n\t// parent transform\n\tif ( transformData.parentMatrixWorld ) {\n\n\t\tlParentLX.copy( transformData.parentMatrix );\n\t\tlParentGX.copy( transformData.parentMatrixWorld );\n\n\t}\n\n\tconst lLRM = lPreRotationM.clone().multiply( lRotationM ).multiply( lPostRotationM );\n\t// Global Rotation\n\tconst lParentGRM = new Matrix4();\n\tlParentGRM.extractRotation( lParentGX );\n\n\t// Global Shear*Scaling\n\tconst lParentTM = new Matrix4();\n\tlParentTM.copyPosition( lParentGX );\n\n\tconst lParentGRSM = lParentTM.clone().invert().multiply( lParentGX );\n\tconst lParentGSM = lParentGRM.clone().invert().multiply( lParentGRSM );\n\tconst lLSM = lScalingM;\n\n\tconst lGlobalRS = new Matrix4();\n\n\tif ( inheritType === 0 ) {\n\n\t\tlGlobalRS.copy( lParentGRM ).multiply( lLRM ).multiply( lParentGSM ).multiply( lLSM );\n\n\t} else if ( inheritType === 1 ) {\n\n\t\tlGlobalRS.copy( lParentGRM ).multiply( lParentGSM ).multiply( lLRM ).multiply( lLSM );\n\n\t} else {\n\n\t\tconst lParentLSM = new Matrix4().scale( new Vector3().setFromMatrixScale( lParentLX ) );\n\t\tconst lParentLSM_inv = lParentLSM.clone().invert();\n\t\tconst lParentGSM_noLocal = lParentGSM.clone().multiply( lParentLSM_inv );\n\n\t\tlGlobalRS.copy( lParentGRM ).multiply( lLRM ).multiply( lParentGSM_noLocal ).multiply( lLSM );\n\n\t}\n\n\tconst lRotationPivotM_inv = lRotationPivotM.clone().invert();\n\tconst lScalingPivotM_inv = lScalingPivotM.clone().invert();\n\t// Calculate the local transform matrix\n\tlet lTransform = lTranslationM.clone().multiply( lRotationOffsetM ).multiply( lRotationPivotM ).multiply( lPreRotationM ).multiply( lRotationM ).multiply( lPostRotationM ).multiply( lRotationPivotM_inv ).multiply( lScalingOffsetM ).multiply( lScalingPivotM ).multiply( lScalingM ).multiply( lScalingPivotM_inv );\n\n\tconst lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition( lTransform );\n\n\tconst lGlobalTranslation = lParentGX.clone().multiply( lLocalTWithAllPivotAndOffsetInfo );\n\tlGlobalT.copyPosition( lGlobalTranslation );\n\n\tlTransform = lGlobalT.clone().multiply( lGlobalRS );\n\n\t// from global to local\n\tlTransform.premultiply( lParentGX.invert() );\n\n\treturn lTransform;\n\n}\n\n// Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\nfunction getEulerOrder( order ) {\n\n\torder = order || 0;\n\n\tconst enums = [\n\t\t'ZYX', // -> XYZ extrinsic\n\t\t'YZX', // -> XZY extrinsic\n\t\t'XZY', // -> YZX extrinsic\n\t\t'ZXY', // -> YXZ extrinsic\n\t\t'YXZ', // -> ZXY extrinsic\n\t\t'XYZ', // -> ZYX extrinsic\n\t\t//'SphericXYZ', // not possible to support\n\t];\n\n\tif ( order === 6 ) {\n\n\t\tconsole.warn( 'THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.' );\n\t\treturn enums[ 0 ];\n\n\t}\n\n\treturn enums[ order ];\n\n}\n\n// Parses comma separated list of numbers and returns them an array.\n// Used internally by the TextParser\nfunction parseNumberArray( value ) {\n\n\tconst array = value.split( ',' ).map( function ( val ) {\n\n\t\treturn parseFloat( val );\n\n\t} );\n\n\treturn array;\n\n}\n\nfunction convertArrayBufferToString( buffer, from, to ) {\n\n\tif ( from === undefined ) from = 0;\n\tif ( to === undefined ) to = buffer.byteLength;\n\n\treturn LoaderUtils.decodeText( new Uint8Array( buffer, from, to ) );\n\n}\n\nfunction append( a, b ) {\n\n\tfor ( let i = 0, j = a.length, l = b.length; i < l; i ++, j ++ ) {\n\n\t\ta[ j ] = b[ i ];\n\n\t}\n\n}\n\nfunction slice( a, b, from, to ) {\n\n\tfor ( let i = from, j = 0; i < to; i ++, j ++ ) {\n\n\t\ta[ j ] = b[ i ];\n\n\t}\n\n\treturn a;\n\n}\n\n// inject array a2 into array a1 at index\nfunction inject( a1, index, a2 ) {\n\n\treturn a1.slice( 0, index ).concat( a2 ).concat( a1.slice( index ) );\n\n}\n\nexport { FBXLoader };\n","import {\n\tDataTextureLoader,\n\tLinearMipmapLinearFilter\n} from 'three';\n\nclass TGALoader extends DataTextureLoader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tparse( buffer ) {\n\n\t\t// reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\n\n\t\tfunction tgaCheckHeader( header ) {\n\n\t\t\tswitch ( header.image_type ) {\n\n\t\t\t\t// check indexed type\n\n\t\t\t\tcase TGA_TYPE_INDEXED:\n\t\t\t\tcase TGA_TYPE_RLE_INDEXED:\n\t\t\t\t\tif ( header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for indexed type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t\t// check colormap type\n\n\t\t\t\tcase TGA_TYPE_RGB:\n\t\t\t\tcase TGA_TYPE_GREY:\n\t\t\t\tcase TGA_TYPE_RLE_RGB:\n\t\t\t\tcase TGA_TYPE_RLE_GREY:\n\t\t\t\t\tif ( header.colormap_type ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type colormap data for colormap type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t\t// What the need of a file without data ?\n\n\t\t\t\tcase TGA_TYPE_NO_DATA:\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\n\n\t\t\t\t\t// Invalid type ?\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid type \"%s\".', header.image_type );\n\n\t\t\t}\n\n\t\t\t// check image width and height\n\n\t\t\tif ( header.width <= 0 || header.height <= 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid image size.' );\n\n\t\t\t}\n\n\t\t\t// check image pixel size\n\n\t\t\tif ( header.pixel_size !== 8 && header.pixel_size !== 16 &&\n\t\t\t\theader.pixel_size !== 24 && header.pixel_size !== 32 ) {\n\n\t\t\t\tconsole.error( 'THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// parse tga image buffer\n\n\t\tfunction tgaParse( use_rle, use_pal, header, offset, data ) {\n\n\t\t\tlet pixel_data,\n\t\t\t\tpalettes;\n\n\t\t\tconst pixel_size = header.pixel_size >> 3;\n\t\t\tconst pixel_total = header.width * header.height * pixel_size;\n\n\t\t\t // read palettes\n\n\t\t\t if ( use_pal ) {\n\n\t\t\t\t palettes = data.subarray( offset, offset += header.colormap_length * ( header.colormap_size >> 3 ) );\n\n\t\t\t }\n\n\t\t\t // read RLE\n\n\t\t\t if ( use_rle ) {\n\n\t\t\t\t pixel_data = new Uint8Array( pixel_total );\n\n\t\t\t\tlet c, count, i;\n\t\t\t\tlet shift = 0;\n\t\t\t\tconst pixels = new Uint8Array( pixel_size );\n\n\t\t\t\twhile ( shift < pixel_total ) {\n\n\t\t\t\t\tc = data[ offset ++ ];\n\t\t\t\t\tcount = ( c & 0x7f ) + 1;\n\n\t\t\t\t\t// RLE pixels\n\n\t\t\t\t\tif ( c & 0x80 ) {\n\n\t\t\t\t\t\t// bind pixel tmp array\n\n\t\t\t\t\t\tfor ( i = 0; i < pixel_size; ++ i ) {\n\n\t\t\t\t\t\t\tpixels[ i ] = data[ offset ++ ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// copy pixel array\n\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\n\n\t\t\t\t\t\t\tpixel_data.set( pixels, shift + i * pixel_size );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshift += pixel_size * count;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// raw pixels\n\n\t\t\t\t\t\tcount *= pixel_size;\n\n\t\t\t\t\t\tfor ( i = 0; i < count; ++ i ) {\n\n\t\t\t\t\t\t\tpixel_data[ shift + i ] = data[ offset ++ ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshift += count;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t } else {\n\n\t\t\t\t// raw pixels\n\n\t\t\t\tpixel_data = data.subarray(\n\t\t\t\t\t offset, offset += ( use_pal ? header.width * header.height : pixel_total )\n\t\t\t\t);\n\n\t\t\t }\n\n\t\t\t return {\n\t\t\t\tpixel_data: pixel_data,\n\t\t\t\tpalettes: palettes\n\t\t\t };\n\n\t\t}\n\n\t\tfunction tgaGetImageData8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes ) {\n\n\t\t\tconst colormap = palettes;\n\t\t\tlet color, i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\n\n\t\t\t\t\tcolor = image[ i ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = colormap[ ( color * 3 ) + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = colormap[ ( color * 3 ) + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = colormap[ ( color * 3 ) + 2 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet color, i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\n\n\t\t\t\t\tcolor = image[ i + 0 ] + ( image[ i + 1 ] << 8 );\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = ( color & 0x7C00 ) >> 7;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = ( color & 0x03E0 ) >> 2;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = ( color & 0x001F ) << 3;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = ( color & 0x8000 ) ? 0 : 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData24bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 3 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageData32bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 4 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 1 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 2 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 3 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageDataGrey8bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet color, i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i ++ ) {\n\n\t\t\t\t\tcolor = image[ i ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = color;\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction tgaGetImageDataGrey16bits( imageData, y_start, y_step, y_end, x_start, x_step, x_end, image ) {\n\n\t\t\tlet i = 0, x, y;\n\t\t\tconst width = header.width;\n\n\t\t\tfor ( y = y_start; y !== y_end; y += y_step ) {\n\n\t\t\t\tfor ( x = x_start; x !== x_end; x += x_step, i += 2 ) {\n\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 0 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 1 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 2 ] = image[ i + 0 ];\n\t\t\t\t\timageData[ ( x + width * y ) * 4 + 3 ] = image[ i + 1 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn imageData;\n\n\t\t}\n\n\t\tfunction getTgaRGBA( data, width, height, image, palette ) {\n\n\t\t\tlet x_start,\n\t\t\t\ty_start,\n\t\t\t\tx_step,\n\t\t\t\ty_step,\n\t\t\t\tx_end,\n\t\t\t\ty_end;\n\n\t\t\tswitch ( ( header.flags & TGA_ORIGIN_MASK ) >> TGA_ORIGIN_SHIFT ) {\n\n\t\t\t\tdefault:\n\t\t\t\tcase TGA_ORIGIN_UL:\n\t\t\t\t\tx_start = 0;\n\t\t\t\t\tx_step = 1;\n\t\t\t\t\tx_end = width;\n\t\t\t\t\ty_start = 0;\n\t\t\t\t\ty_step = 1;\n\t\t\t\t\ty_end = height;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_BL:\n\t\t\t\t\tx_start = 0;\n\t\t\t\t\tx_step = 1;\n\t\t\t\t\tx_end = width;\n\t\t\t\t\ty_start = height - 1;\n\t\t\t\t\ty_step = - 1;\n\t\t\t\t\ty_end = - 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_UR:\n\t\t\t\t\tx_start = width - 1;\n\t\t\t\t\tx_step = - 1;\n\t\t\t\t\tx_end = - 1;\n\t\t\t\t\ty_start = 0;\n\t\t\t\t\ty_step = 1;\n\t\t\t\t\ty_end = height;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TGA_ORIGIN_BR:\n\t\t\t\t\tx_start = width - 1;\n\t\t\t\t\tx_step = - 1;\n\t\t\t\t\tx_end = - 1;\n\t\t\t\t\ty_start = height - 1;\n\t\t\t\t\ty_step = - 1;\n\t\t\t\t\ty_end = - 1;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( use_grey ) {\n\n\t\t\t\tswitch ( header.pixel_size ) {\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\ttgaGetImageDataGrey8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\ttgaGetImageDataGrey16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( header.pixel_size ) {\n\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\ttgaGetImageData8bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\ttgaGetImageData16bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 24:\n\t\t\t\t\t\ttgaGetImageData24bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\ttgaGetImageData32bits( data, y_start, y_step, y_end, x_start, x_step, x_end, image );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.TGALoader: Format not supported.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Load image data according to specific method\n\t\t\t// let func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\n\t\t\t// func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// TGA constants\n\n\t\tconst TGA_TYPE_NO_DATA = 0,\n\t\t\tTGA_TYPE_INDEXED = 1,\n\t\t\tTGA_TYPE_RGB = 2,\n\t\t\tTGA_TYPE_GREY = 3,\n\t\t\tTGA_TYPE_RLE_INDEXED = 9,\n\t\t\tTGA_TYPE_RLE_RGB = 10,\n\t\t\tTGA_TYPE_RLE_GREY = 11,\n\n\t\t\tTGA_ORIGIN_MASK = 0x30,\n\t\t\tTGA_ORIGIN_SHIFT = 0x04,\n\t\t\tTGA_ORIGIN_BL = 0x00,\n\t\t\tTGA_ORIGIN_BR = 0x01,\n\t\t\tTGA_ORIGIN_UL = 0x02,\n\t\t\tTGA_ORIGIN_UR = 0x03;\n\n\t\tif ( buffer.length < 19 ) console.error( 'THREE.TGALoader: Not enough data to contain header.' );\n\n\t\tlet offset = 0;\n\n\t\tconst content = new Uint8Array( buffer ),\n\t\t\theader = {\n\t\t\t\tid_length: content[ offset ++ ],\n\t\t\t\tcolormap_type: content[ offset ++ ],\n\t\t\t\timage_type: content[ offset ++ ],\n\t\t\t\tcolormap_index: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tcolormap_length: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tcolormap_size: content[ offset ++ ],\n\t\t\t\torigin: [\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\t\tcontent[ offset ++ ] | content[ offset ++ ] << 8\n\t\t\t\t],\n\t\t\t\twidth: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\theight: content[ offset ++ ] | content[ offset ++ ] << 8,\n\t\t\t\tpixel_size: content[ offset ++ ],\n\t\t\t\tflags: content[ offset ++ ]\n\t\t\t};\n\n\t\t// check tga if it is valid format\n\n\t\ttgaCheckHeader( header );\n\n\t\tif ( header.id_length + offset > buffer.length ) {\n\n\t\t\tconsole.error( 'THREE.TGALoader: No data.' );\n\n\t\t}\n\n\t\t// skip the needn't data\n\n\t\toffset += header.id_length;\n\n\t\t// get targa information about RLE compression and palette\n\n\t\tlet use_rle = false,\n\t\t\tuse_pal = false,\n\t\t\tuse_grey = false;\n\n\t\tswitch ( header.image_type ) {\n\n\t\t\tcase TGA_TYPE_RLE_INDEXED:\n\t\t\t\tuse_rle = true;\n\t\t\t\tuse_pal = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_INDEXED:\n\t\t\t\tuse_pal = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RLE_RGB:\n\t\t\t\tuse_rle = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RGB:\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_RLE_GREY:\n\t\t\t\tuse_rle = true;\n\t\t\t\tuse_grey = true;\n\t\t\t\tbreak;\n\n\t\t\tcase TGA_TYPE_GREY:\n\t\t\t\tuse_grey = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//\n\n\t\tconst imageData = new Uint8Array( header.width * header.height * 4 );\n\t\tconst result = tgaParse( use_rle, use_pal, header, offset, content );\n\t\tgetTgaRGBA( imageData, header.width, header.height, result.pixel_data, result.palettes );\n\n\t\treturn {\n\n\t\t\tdata: imageData,\n\t\t\twidth: header.width,\n\t\t\theight: header.height,\n\t\t\tflipY: true,\n\t\t\tgenerateMipmaps: true,\n\t\t\tminFilter: LinearMipmapLinearFilter,\n\n\t\t};\n\n\t}\n\n}\n\nexport { TGALoader };\n","import {\n\tAmbientLight,\n\tAnimationClip,\n\tBone,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tEuler,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tFrontSide,\n\tGroup,\n\tLine,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tLoaderUtils,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshLambertMaterial,\n\tMeshPhongMaterial,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tScene,\n\tSkeleton,\n\tSkinnedMesh,\n\tSpotLight,\n\tTextureLoader,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\nimport { TGALoader } from '../loaders/TGALoader.js';\n\nclass ColladaLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( scope.path === '' ) ? LoaderUtils.extractUrlBase( url ) : scope.path;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( text, path ) {\n\n\t\tfunction getElementsByTagName( xml, name ) {\n\n\t\t\t// Non recursive xml.getElementsByTagName() ...\n\n\t\t\tconst array = [];\n\t\t\tconst childNodes = xml.childNodes;\n\n\t\t\tfor ( let i = 0, l = childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = childNodes[ i ];\n\n\t\t\t\tif ( child.nodeName === name ) {\n\n\t\t\t\t\tarray.push( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseStrings( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tconst parts = text.trim().split( /\\s+/ );\n\t\t\tconst array = new Array( parts.length );\n\n\t\t\tfor ( let i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parts[ i ];\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseFloats( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tconst parts = text.trim().split( /\\s+/ );\n\t\t\tconst array = new Array( parts.length );\n\n\t\t\tfor ( let i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parseFloat( parts[ i ] );\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseInts( text ) {\n\n\t\t\tif ( text.length === 0 ) return [];\n\n\t\t\tconst parts = text.trim().split( /\\s+/ );\n\t\t\tconst array = new Array( parts.length );\n\n\t\t\tfor ( let i = 0, l = parts.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ] = parseInt( parts[ i ] );\n\n\t\t\t}\n\n\t\t\treturn array;\n\n\t\t}\n\n\t\tfunction parseId( text ) {\n\n\t\t\treturn text.substring( 1 );\n\n\t\t}\n\n\t\tfunction generateId() {\n\n\t\t\treturn 'three_default_' + ( count ++ );\n\n\t\t}\n\n\t\tfunction isEmpty( object ) {\n\n\t\t\treturn Object.keys( object ).length === 0;\n\n\t\t}\n\n\t\t// asset\n\n\t\tfunction parseAsset( xml ) {\n\n\t\t\treturn {\n\t\t\t\tunit: parseAssetUnit( getElementsByTagName( xml, 'unit' )[ 0 ] ),\n\t\t\t\tupAxis: parseAssetUpAxis( getElementsByTagName( xml, 'up_axis' )[ 0 ] )\n\t\t\t};\n\n\t\t}\n\n\t\tfunction parseAssetUnit( xml ) {\n\n\t\t\tif ( ( xml !== undefined ) && ( xml.hasAttribute( 'meter' ) === true ) ) {\n\n\t\t\t\treturn parseFloat( xml.getAttribute( 'meter' ) );\n\n\t\t\t} else {\n\n\t\t\t\treturn 1; // default 1 meter\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAssetUpAxis( xml ) {\n\n\t\t\treturn xml !== undefined ? xml.textContent : 'Y_UP';\n\n\t\t}\n\n\t\t// library\n\n\t\tfunction parseLibrary( xml, libraryName, nodeName, parser ) {\n\n\t\t\tconst library = getElementsByTagName( xml, libraryName )[ 0 ];\n\n\t\t\tif ( library !== undefined ) {\n\n\t\t\t\tconst elements = getElementsByTagName( library, nodeName );\n\n\t\t\t\tfor ( let i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\t\tparser( elements[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildLibrary( data, builder ) {\n\n\t\t\tfor ( const name in data ) {\n\n\t\t\t\tconst object = data[ name ];\n\t\t\t\tobject.build = builder( data[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// get\n\n\t\tfunction getBuild( data, builder ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\tdata.build = builder( data );\n\n\t\t\treturn data.build;\n\n\t\t}\n\n\t\t// animation\n\n\t\tfunction parseAnimation( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsources: {},\n\t\t\t\tsamplers: {},\n\t\t\t\tchannels: {}\n\t\t\t};\n\n\t\t\tlet hasChildren = false;\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tlet id;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'sampler':\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.samplers[ id ] = parseAnimationSampler( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'channel':\n\t\t\t\t\t\tid = child.getAttribute( 'target' );\n\t\t\t\t\t\tdata.channels[ id ] = parseAnimationChannel( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'animation':\n\t\t\t\t\t\t// hierarchy of related animations\n\t\t\t\t\t\tparseAnimation( child );\n\t\t\t\t\t\thasChildren = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasChildren === false ) {\n\n\t\t\t\t// since 'id' attributes can be optional, it's necessary to generate a UUID for unqiue assignment\n\n\t\t\t\tlibrary.animations[ xml.getAttribute( 'id' ) || MathUtils.generateUUID() ] = data;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseAnimationSampler( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinputs: {},\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseAnimationChannel( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tconst target = xml.getAttribute( 'target' );\n\n\t\t\t// parsing SID Addressing Syntax\n\n\t\t\tlet parts = target.split( '/' );\n\n\t\t\tconst id = parts.shift();\n\t\t\tlet sid = parts.shift();\n\n\t\t\t// check selection syntax\n\n\t\t\tconst arraySyntax = ( sid.indexOf( '(' ) !== - 1 );\n\t\t\tconst memberSyntax = ( sid.indexOf( '.' ) !== - 1 );\n\n\t\t\tif ( memberSyntax ) {\n\n\t\t\t\t//  member selection access\n\n\t\t\t\tparts = sid.split( '.' );\n\t\t\t\tsid = parts.shift();\n\t\t\t\tdata.member = parts.shift();\n\n\t\t\t} else if ( arraySyntax ) {\n\n\t\t\t\t// array-access syntax. can be used to express fields in one-dimensional vectors or two-dimensional matrices.\n\n\t\t\t\tconst indices = sid.split( '(' );\n\t\t\t\tsid = indices.shift();\n\n\t\t\t\tfor ( let i = 0; i < indices.length; i ++ ) {\n\n\t\t\t\t\tindices[ i ] = parseInt( indices[ i ].replace( /\\)/, '' ) );\n\n\t\t\t\t}\n\n\t\t\t\tdata.indices = indices;\n\n\t\t\t}\n\n\t\t\tdata.id = id;\n\t\t\tdata.sid = sid;\n\n\t\t\tdata.arraySyntax = arraySyntax;\n\t\t\tdata.memberSyntax = memberSyntax;\n\n\t\t\tdata.sampler = parseId( xml.getAttribute( 'source' ) );\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildAnimation( data ) {\n\n\t\t\tconst tracks = [];\n\n\t\t\tconst channels = data.channels;\n\t\t\tconst samplers = data.samplers;\n\t\t\tconst sources = data.sources;\n\n\t\t\tfor ( const target in channels ) {\n\n\t\t\t\tif ( channels.hasOwnProperty( target ) ) {\n\n\t\t\t\t\tconst channel = channels[ target ];\n\t\t\t\t\tconst sampler = samplers[ channel.sampler ];\n\n\t\t\t\t\tconst inputId = sampler.inputs.INPUT;\n\t\t\t\t\tconst outputId = sampler.inputs.OUTPUT;\n\n\t\t\t\t\tconst inputSource = sources[ inputId ];\n\t\t\t\t\tconst outputSource = sources[ outputId ];\n\n\t\t\t\t\tconst animation = buildAnimationChannel( channel, inputSource, outputSource );\n\n\t\t\t\t\tcreateKeyframeTracks( animation, tracks );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn tracks;\n\n\t\t}\n\n\t\tfunction getAnimation( id ) {\n\n\t\t\treturn getBuild( library.animations[ id ], buildAnimation );\n\n\t\t}\n\n\t\tfunction buildAnimationChannel( channel, inputSource, outputSource ) {\n\n\t\t\tconst node = library.nodes[ channel.id ];\n\t\t\tconst object3D = getNode( node.id );\n\n\t\t\tconst transform = node.transforms[ channel.sid ];\n\t\t\tconst defaultMatrix = node.matrix.clone().transpose();\n\n\t\t\tlet time, stride;\n\t\t\tlet i, il, j, jl;\n\n\t\t\tconst data = {};\n\n\t\t\t// the collada spec allows the animation of data in various ways.\n\t\t\t// depending on the transform type (matrix, translate, rotate, scale), we execute different logic\n\n\t\t\tswitch ( transform ) {\n\n\t\t\t\tcase 'matrix':\n\n\t\t\t\t\tfor ( i = 0, il = inputSource.array.length; i < il; i ++ ) {\n\n\t\t\t\t\t\ttime = inputSource.array[ i ];\n\t\t\t\t\t\tstride = i * outputSource.stride;\n\n\t\t\t\t\t\tif ( data[ time ] === undefined ) data[ time ] = {};\n\n\t\t\t\t\t\tif ( channel.arraySyntax === true ) {\n\n\t\t\t\t\t\t\tconst value = outputSource.array[ stride ];\n\t\t\t\t\t\t\tconst index = channel.indices[ 0 ] + 4 * channel.indices[ 1 ];\n\n\t\t\t\t\t\t\tdata[ time ][ index ] = value;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( j = 0, jl = outputSource.stride; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\t\tdata[ time ][ j ] = outputSource.array[ stride + j ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'translate':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'scale':\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tconst keyframes = prepareAnimationData( data, defaultMatrix );\n\n\t\t\tconst animation = {\n\t\t\t\tname: object3D.uuid,\n\t\t\t\tkeyframes: keyframes\n\t\t\t};\n\n\t\t\treturn animation;\n\n\t\t}\n\n\t\tfunction prepareAnimationData( data, defaultMatrix ) {\n\n\t\t\tconst keyframes = [];\n\n\t\t\t// transfer data into a sortable array\n\n\t\t\tfor ( const time in data ) {\n\n\t\t\t\tkeyframes.push( { time: parseFloat( time ), value: data[ time ] } );\n\n\t\t\t}\n\n\t\t\t// ensure keyframes are sorted by time\n\n\t\t\tkeyframes.sort( ascending );\n\n\t\t\t// now we clean up all animation data, so we can use them for keyframe tracks\n\n\t\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\t\ttransformAnimationData( keyframes, i, defaultMatrix.elements[ i ] );\n\n\t\t\t}\n\n\t\t\treturn keyframes;\n\n\t\t\t// array sort function\n\n\t\t\tfunction ascending( a, b ) {\n\n\t\t\t\treturn a.time - b.time;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst position = new Vector3();\n\t\tconst scale = new Vector3();\n\t\tconst quaternion = new Quaternion();\n\n\t\tfunction createKeyframeTracks( animation, tracks ) {\n\n\t\t\tconst keyframes = animation.keyframes;\n\t\t\tconst name = animation.name;\n\n\t\t\tconst times = [];\n\t\t\tconst positionData = [];\n\t\t\tconst quaternionData = [];\n\t\t\tconst scaleData = [];\n\n\t\t\tfor ( let i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tconst time = keyframe.time;\n\t\t\t\tconst value = keyframe.value;\n\n\t\t\t\tmatrix.fromArray( value ).transpose();\n\t\t\t\tmatrix.decompose( position, quaternion, scale );\n\n\t\t\t\ttimes.push( time );\n\t\t\t\tpositionData.push( position.x, position.y, position.z );\n\t\t\t\tquaternionData.push( quaternion.x, quaternion.y, quaternion.z, quaternion.w );\n\t\t\t\tscaleData.push( scale.x, scale.y, scale.z );\n\n\t\t\t}\n\n\t\t\tif ( positionData.length > 0 ) tracks.push( new VectorKeyframeTrack( name + '.position', times, positionData ) );\n\t\t\tif ( quaternionData.length > 0 ) tracks.push( new QuaternionKeyframeTrack( name + '.quaternion', times, quaternionData ) );\n\t\t\tif ( scaleData.length > 0 ) tracks.push( new VectorKeyframeTrack( name + '.scale', times, scaleData ) );\n\n\t\t\treturn tracks;\n\n\t\t}\n\n\t\tfunction transformAnimationData( keyframes, property, defaultValue ) {\n\n\t\t\tlet keyframe;\n\n\t\t\tlet empty = true;\n\t\t\tlet i, l;\n\n\t\t\t// check, if values of a property are missing in our keyframes\n\n\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tkeyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] === undefined ) {\n\n\t\t\t\t\tkeyframe.value[ property ] = null; // mark as missing\n\n\t\t\t\t} else {\n\n\t\t\t\t\tempty = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( empty === true ) {\n\n\t\t\t\t// no values at all, so we set a default value\n\n\t\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\t\tkeyframe = keyframes[ i ];\n\n\t\t\t\t\tkeyframe.value[ property ] = defaultValue;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// filling gaps\n\n\t\t\t\tcreateMissingKeyframes( keyframes, property );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction createMissingKeyframes( keyframes, property ) {\n\n\t\t\tlet prev, next;\n\n\t\t\tfor ( let i = 0, l = keyframes.length; i < l; i ++ ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] === null ) {\n\n\t\t\t\t\tprev = getPrev( keyframes, i, property );\n\t\t\t\t\tnext = getNext( keyframes, i, property );\n\n\t\t\t\t\tif ( prev === null ) {\n\n\t\t\t\t\t\tkeyframe.value[ property ] = next.value[ property ];\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( next === null ) {\n\n\t\t\t\t\t\tkeyframe.value[ property ] = prev.value[ property ];\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tinterpolate( keyframe, prev, next, property );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getPrev( keyframes, i, property ) {\n\n\t\t\twhile ( i >= 0 ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\n\n\t\t\t\ti --;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction getNext( keyframes, i, property ) {\n\n\t\t\twhile ( i < keyframes.length ) {\n\n\t\t\t\tconst keyframe = keyframes[ i ];\n\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\n\n\t\t\t\ti ++;\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction interpolate( key, prev, next, property ) {\n\n\t\t\tif ( ( next.time - prev.time ) === 0 ) {\n\n\t\t\t\tkey.value[ property ] = prev.value[ property ];\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tkey.value[ property ] = ( ( key.time - prev.time ) * ( next.value[ property ] - prev.value[ property ] ) / ( next.time - prev.time ) ) + prev.value[ property ];\n\n\t\t}\n\n\t\t// animation clips\n\n\t\tfunction parseAnimationClip( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'id' ) || 'default',\n\t\t\t\tstart: parseFloat( xml.getAttribute( 'start' ) || 0 ),\n\t\t\t\tend: parseFloat( xml.getAttribute( 'end' ) || 0 ),\n\t\t\t\tanimations: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'instance_animation':\n\t\t\t\t\t\tdata.animations.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.clips[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildAnimationClip( data ) {\n\n\t\t\tconst tracks = [];\n\n\t\t\tconst name = data.name;\n\t\t\tconst duration = ( data.end - data.start ) || - 1;\n\t\t\tconst animations = data.animations;\n\n\t\t\tfor ( let i = 0, il = animations.length; i < il; i ++ ) {\n\n\t\t\t\tconst animationTracks = getAnimation( animations[ i ] );\n\n\t\t\t\tfor ( let j = 0, jl = animationTracks.length; j < jl; j ++ ) {\n\n\t\t\t\t\ttracks.push( animationTracks[ j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new AnimationClip( name, duration, tracks );\n\n\t\t}\n\n\t\tfunction getAnimationClip( id ) {\n\n\t\t\treturn getBuild( library.clips[ id ], buildAnimationClip );\n\n\t\t}\n\n\t\t// controller\n\n\t\tfunction parseController( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'skin':\n\t\t\t\t\t\t// there is exactly one skin per controller\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tdata.skin = parseSkin( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'morph':\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Morph target animation not supported yet.' );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.controllers[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseSkin( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsources: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_shape_matrix':\n\t\t\t\t\t\tdata.bindShapeMatrix = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tconst id = child.getAttribute( 'id' );\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'joints':\n\t\t\t\t\t\tdata.joints = parseJoints( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vertex_weights':\n\t\t\t\t\t\tdata.vertexWeights = parseVertexWeights( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseJoints( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinputs: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseVertexWeights( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinputs: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconst offset = parseInt( child.getAttribute( 'offset' ) );\n\t\t\t\t\t\tdata.inputs[ semantic ] = { id: id, offset: offset };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\tdata.vcount = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tdata.v = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildController( data ) {\n\n\t\t\tconst build = {\n\t\t\t\tid: data.id\n\t\t\t};\n\n\t\t\tconst geometry = library.geometries[ build.id ];\n\n\t\t\tif ( data.skin !== undefined ) {\n\n\t\t\t\tbuild.skin = buildSkin( data.skin );\n\n\t\t\t\t// we enhance the 'sources' property of the corresponding geometry with our skin data\n\n\t\t\t\tgeometry.sources.skinIndices = build.skin.indices;\n\t\t\t\tgeometry.sources.skinWeights = build.skin.weights;\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildSkin( data ) {\n\n\t\t\tconst BONE_LIMIT = 4;\n\n\t\t\tconst build = {\n\t\t\t\tjoints: [], // this must be an array to preserve the joint order\n\t\t\t\tindices: {\n\t\t\t\t\tarray: [],\n\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t},\n\t\t\t\tweights: {\n\t\t\t\t\tarray: [],\n\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst sources = data.sources;\n\t\t\tconst vertexWeights = data.vertexWeights;\n\n\t\t\tconst vcount = vertexWeights.vcount;\n\t\t\tconst v = vertexWeights.v;\n\t\t\tconst jointOffset = vertexWeights.inputs.JOINT.offset;\n\t\t\tconst weightOffset = vertexWeights.inputs.WEIGHT.offset;\n\n\t\t\tconst jointSource = data.sources[ data.joints.inputs.JOINT ];\n\t\t\tconst inverseSource = data.sources[ data.joints.inputs.INV_BIND_MATRIX ];\n\n\t\t\tconst weights = sources[ vertexWeights.inputs.WEIGHT.id ].array;\n\t\t\tlet stride = 0;\n\n\t\t\tlet i, j, l;\n\n\t\t\t// procces skin data for each vertex\n\n\t\t\tfor ( i = 0, l = vcount.length; i < l; i ++ ) {\n\n\t\t\t\tconst jointCount = vcount[ i ]; // this is the amount of joints that affect a single vertex\n\t\t\t\tconst vertexSkinData = [];\n\n\t\t\t\tfor ( j = 0; j < jointCount; j ++ ) {\n\n\t\t\t\t\tconst skinIndex = v[ stride + jointOffset ];\n\t\t\t\t\tconst weightId = v[ stride + weightOffset ];\n\t\t\t\t\tconst skinWeight = weights[ weightId ];\n\n\t\t\t\t\tvertexSkinData.push( { index: skinIndex, weight: skinWeight } );\n\n\t\t\t\t\tstride += 2;\n\n\t\t\t\t}\n\n\t\t\t\t// we sort the joints in descending order based on the weights.\n\t\t\t\t// this ensures, we only procced the most important joints of the vertex\n\n\t\t\t\tvertexSkinData.sort( descending );\n\n\t\t\t\t// now we provide for each vertex a set of four index and weight values.\n\t\t\t\t// the order of the skin data matches the order of vertices\n\n\t\t\t\tfor ( j = 0; j < BONE_LIMIT; j ++ ) {\n\n\t\t\t\t\tconst d = vertexSkinData[ j ];\n\n\t\t\t\t\tif ( d !== undefined ) {\n\n\t\t\t\t\t\tbuild.indices.array.push( d.index );\n\t\t\t\t\t\tbuild.weights.array.push( d.weight );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbuild.indices.array.push( 0 );\n\t\t\t\t\t\tbuild.weights.array.push( 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// setup bind matrix\n\n\t\t\tif ( data.bindShapeMatrix ) {\n\n\t\t\t\tbuild.bindMatrix = new Matrix4().fromArray( data.bindShapeMatrix ).transpose();\n\n\t\t\t} else {\n\n\t\t\t\tbuild.bindMatrix = new Matrix4().identity();\n\n\t\t\t}\n\n\t\t\t// process bones and inverse bind matrix data\n\n\t\t\tfor ( i = 0, l = jointSource.array.length; i < l; i ++ ) {\n\n\t\t\t\tconst name = jointSource.array[ i ];\n\t\t\t\tconst boneInverse = new Matrix4().fromArray( inverseSource.array, i * inverseSource.stride ).transpose();\n\n\t\t\t\tbuild.joints.push( { name: name, boneInverse: boneInverse } );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t\t// array sort function\n\n\t\t\tfunction descending( a, b ) {\n\n\t\t\t\treturn b.weight - a.weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getController( id ) {\n\n\t\t\treturn getBuild( library.controllers[ id ], buildController );\n\n\t\t}\n\n\t\t// image\n\n\t\tfunction parseImage( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tinit_from: getElementsByTagName( xml, 'init_from' )[ 0 ].textContent\n\t\t\t};\n\n\t\t\tlibrary.images[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildImage( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data.init_from;\n\n\t\t}\n\n\t\tfunction getImage( id ) {\n\n\t\t\tconst data = library.images[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildImage );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find image with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// effect\n\n\t\tfunction parseEffect( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'profile_COMMON':\n\t\t\t\t\t\tdata.profile = parseEffectProfileCOMMON( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.effects[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseEffectProfileCOMMON( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsurfaces: {},\n\t\t\t\tsamplers: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'newparam':\n\t\t\t\t\t\tparseEffectNewparam( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tdata.technique = parseEffectTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tdata.extra = parseEffectExtra( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectNewparam( xml, data ) {\n\n\t\t\tconst sid = xml.getAttribute( 'sid' );\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'surface':\n\t\t\t\t\t\tdata.surfaces[ sid ] = parseEffectSurface( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'sampler2D':\n\t\t\t\t\t\tdata.samplers[ sid ] = parseEffectSampler( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectSurface( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'init_from':\n\t\t\t\t\t\tdata.init_from = child.textContent;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectSampler( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tdata.source = child.textContent;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'constant':\n\t\t\t\t\tcase 'lambert':\n\t\t\t\t\tcase 'blinn':\n\t\t\t\t\tcase 'phong':\n\t\t\t\t\t\tdata.type = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseEffectParameters( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tdata.extra = parseEffectExtra( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameters( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'emission':\n\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\tcase 'specular':\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\tcase 'ambient':\n\t\t\t\t\tcase 'shininess':\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectParameter( child );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\t\tdata[ child.nodeName ] = {\n\t\t\t\t\t\t\topaque: child.hasAttribute( 'opaque' ) ? child.getAttribute( 'opaque' ) : 'A_ONE',\n\t\t\t\t\t\t\tdata: parseEffectParameter( child )\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameter( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'float':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'texture':\n\t\t\t\t\t\tdata[ child.nodeName ] = { id: child.getAttribute( 'texture' ), extra: parseEffectParameterTexture( child ) };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameterTexture( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\ttechnique: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tparseEffectParameterTextureExtra( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectParameterTextureExtra( xml, data ) {\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tparseEffectParameterTextureExtraTechnique( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectParameterTextureExtraTechnique( xml, data ) {\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'repeatU':\n\t\t\t\t\tcase 'repeatV':\n\t\t\t\t\tcase 'offsetU':\n\t\t\t\t\tcase 'offsetV':\n\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'wrapU':\n\t\t\t\t\tcase 'wrapV':\n\n\t\t\t\t\t\t// some files have values for wrapU/wrapV which become NaN via parseInt\n\n\t\t\t\t\t\tif ( child.textContent.toUpperCase() === 'TRUE' ) {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 1;\n\n\t\t\t\t\t\t} else if ( child.textContent.toUpperCase() === 'FALSE' ) {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 0;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseInt( child.textContent );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectExtraTechniqueBump( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseEffectExtra( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\tdata.technique = parseEffectExtraTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectExtraTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'double_sided':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseInt( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectExtraTechniqueBump( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseEffectExtraTechniqueBump( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'texture':\n\t\t\t\t\t\tdata[ child.nodeName ] = { id: child.getAttribute( 'texture' ), texcoord: child.getAttribute( 'texcoord' ), extra: parseEffectParameterTexture( child ) };\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildEffect( data ) {\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getEffect( id ) {\n\n\t\t\treturn getBuild( library.effects[ id ], buildEffect );\n\n\t\t}\n\n\t\t// material\n\n\t\tfunction parseMaterial( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' )\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'instance_effect':\n\t\t\t\t\t\tdata.url = parseId( child.getAttribute( 'url' ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.materials[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction getTextureLoader( image ) {\n\n\t\t\tlet loader;\n\n\t\t\tlet extension = image.slice( ( image.lastIndexOf( '.' ) - 1 >>> 0 ) + 2 ); // http://www.jstips.co/en/javascript/get-file-extension/\n\t\t\textension = extension.toLowerCase();\n\n\t\t\tswitch ( extension ) {\n\n\t\t\t\tcase 'tga':\n\t\t\t\t\tloader = tgaLoader;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tloader = textureLoader;\n\n\t\t\t}\n\n\t\t\treturn loader;\n\n\t\t}\n\n\t\tfunction buildMaterial( data ) {\n\n\t\t\tconst effect = getEffect( data.url );\n\t\t\tconst technique = effect.profile.technique;\n\n\t\t\tlet material;\n\n\t\t\tswitch ( technique.type ) {\n\n\t\t\t\tcase 'phong':\n\t\t\t\tcase 'blinn':\n\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'lambert':\n\t\t\t\t\tmaterial = new MeshLambertMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tmaterial = new MeshBasicMaterial();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tmaterial.name = data.name || '';\n\n\t\t\tfunction getTexture( textureObject, encoding = null ) {\n\n\t\t\t\tconst sampler = effect.profile.samplers[ textureObject.id ];\n\t\t\t\tlet image = null;\n\n\t\t\t\t// get image\n\n\t\t\t\tif ( sampler !== undefined ) {\n\n\t\t\t\t\tconst surface = effect.profile.surfaces[ sampler.source ];\n\t\t\t\t\timage = getImage( surface.init_from );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530).' );\n\t\t\t\t\timage = getImage( textureObject.id );\n\n\t\t\t\t}\n\n\t\t\t\t// create texture if image is avaiable\n\n\t\t\t\tif ( image !== null ) {\n\n\t\t\t\t\tconst loader = getTextureLoader( image );\n\n\t\t\t\t\tif ( loader !== undefined ) {\n\n\t\t\t\t\t\tconst texture = loader.load( image );\n\n\t\t\t\t\t\tconst extra = textureObject.extra;\n\n\t\t\t\t\t\tif ( extra !== undefined && extra.technique !== undefined && isEmpty( extra.technique ) === false ) {\n\n\t\t\t\t\t\t\tconst technique = extra.technique;\n\n\t\t\t\t\t\t\ttexture.wrapS = technique.wrapU ? RepeatWrapping : ClampToEdgeWrapping;\n\t\t\t\t\t\t\ttexture.wrapT = technique.wrapV ? RepeatWrapping : ClampToEdgeWrapping;\n\n\t\t\t\t\t\t\ttexture.offset.set( technique.offsetU || 0, technique.offsetV || 0 );\n\t\t\t\t\t\t\ttexture.repeat.set( technique.repeatU || 1, technique.repeatV || 1 );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttexture.wrapS = RepeatWrapping;\n\t\t\t\t\t\t\ttexture.wrapT = RepeatWrapping;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( encoding !== null ) {\n\n\t\t\t\t\t\t\ttexture.encoding = encoding;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Loader for texture %s not found.', image );\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t create texture with ID:', textureObject.id );\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst parameters = technique.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tconst parameter = parameters[ key ];\n\n\t\t\t\tswitch ( key ) {\n\n\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\t\tif ( parameter.color ) material.color.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.map = getTexture( parameter.texture, sRGBEncoding );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specular':\n\t\t\t\t\t\tif ( parameter.color && material.specular ) material.specular.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.specularMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\tif ( parameter.texture ) material.normalMap = getTexture( parameter.texture );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ambient':\n\t\t\t\t\t\tif ( parameter.texture ) material.lightMap = getTexture( parameter.texture, sRGBEncoding );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shininess':\n\t\t\t\t\t\tif ( parameter.float && material.shininess ) material.shininess = parameter.float;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'emission':\n\t\t\t\t\t\tif ( parameter.color && material.emissive ) material.emissive.fromArray( parameter.color );\n\t\t\t\t\t\tif ( parameter.texture ) material.emissiveMap = getTexture( parameter.texture, sRGBEncoding );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterial.color.convertSRGBToLinear();\n\t\t\tif ( material.specular ) material.specular.convertSRGBToLinear();\n\t\t\tif ( material.emissive ) material.emissive.convertSRGBToLinear();\n\n\t\t\t//\n\n\t\t\tlet transparent = parameters[ 'transparent' ];\n\t\t\tlet transparency = parameters[ 'transparency' ];\n\n\t\t\t// <transparency> does not exist but <transparent>\n\n\t\t\tif ( transparency === undefined && transparent ) {\n\n\t\t\t\ttransparency = {\n\t\t\t\t\tfloat: 1\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\t// <transparent> does not exist but <transparency>\n\n\t\t\tif ( transparent === undefined && transparency ) {\n\n\t\t\t\ttransparent = {\n\t\t\t\t\topaque: 'A_ONE',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcolor: [ 1, 1, 1, 1 ]\n\t\t\t\t\t} };\n\n\t\t\t}\n\n\t\t\tif ( transparent && transparency ) {\n\n\t\t\t\t// handle case if a texture exists but no color\n\n\t\t\t\tif ( transparent.data.texture ) {\n\n\t\t\t\t\t// we do not set an alpha map (see #13792)\n\n\t\t\t\t\tmaterial.transparent = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst color = transparent.data.color;\n\n\t\t\t\t\tswitch ( transparent.opaque ) {\n\n\t\t\t\t\t\tcase 'A_ONE':\n\t\t\t\t\t\t\tmaterial.opacity = color[ 3 ] * transparency.float;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'RGB_ZERO':\n\t\t\t\t\t\t\tmaterial.opacity = 1 - ( color[ 0 ] * transparency.float );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'A_ZERO':\n\t\t\t\t\t\t\tmaterial.opacity = 1 - ( color[ 3 ] * transparency.float );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'RGB_ONE':\n\t\t\t\t\t\t\tmaterial.opacity = color[ 0 ] * transparency.float;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Invalid opaque type \"%s\" of transparent tag.', transparent.opaque );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material.opacity < 1 ) material.transparent = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\n\t\t\tif ( technique.extra !== undefined && technique.extra.technique !== undefined ) {\n\n\t\t\t\tconst techniques = technique.extra.technique;\n\n\t\t\t\tfor ( const k in techniques ) {\n\n\t\t\t\t\tconst v = techniques[ k ];\n\n\t\t\t\t\tswitch ( k ) {\n\n\t\t\t\t\t\tcase 'double_sided':\n\t\t\t\t\t\t\tmaterial.side = ( v === 1 ? DoubleSide : FrontSide );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'bump':\n\t\t\t\t\t\t\tmaterial.normalMap = getTexture( v.texture );\n\t\t\t\t\t\t\tmaterial.normalScale = new Vector2( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn material;\n\n\t\t}\n\n\t\tfunction getMaterial( id ) {\n\n\t\t\treturn getBuild( library.materials[ id ], buildMaterial );\n\n\t\t}\n\n\t\t// camera\n\n\t\tfunction parseCamera( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' )\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'optics':\n\t\t\t\t\t\tdata.optics = parseCameraOptics( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.cameras[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseCameraOptics( xml ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\treturn parseCameraTechnique( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn {};\n\n\t\t}\n\n\t\tfunction parseCameraTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'perspective':\n\t\t\t\t\tcase 'orthographic':\n\n\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseCameraParameters( child );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseCameraParameters( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'xfov':\n\t\t\t\t\tcase 'yfov':\n\t\t\t\t\tcase 'xmag':\n\t\t\t\t\tcase 'ymag':\n\t\t\t\t\tcase 'znear':\n\t\t\t\t\tcase 'zfar':\n\t\t\t\t\tcase 'aspect_ratio':\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildCamera( data ) {\n\n\t\t\tlet camera;\n\n\t\t\tswitch ( data.optics.technique ) {\n\n\t\t\t\tcase 'perspective':\n\t\t\t\t\tcamera = new PerspectiveCamera(\n\t\t\t\t\t\tdata.optics.parameters.yfov,\n\t\t\t\t\t\tdata.optics.parameters.aspect_ratio,\n\t\t\t\t\t\tdata.optics.parameters.znear,\n\t\t\t\t\t\tdata.optics.parameters.zfar\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'orthographic':\n\t\t\t\t\tlet ymag = data.optics.parameters.ymag;\n\t\t\t\t\tlet xmag = data.optics.parameters.xmag;\n\t\t\t\t\tconst aspectRatio = data.optics.parameters.aspect_ratio;\n\n\t\t\t\t\txmag = ( xmag === undefined ) ? ( ymag * aspectRatio ) : xmag;\n\t\t\t\t\tymag = ( ymag === undefined ) ? ( xmag / aspectRatio ) : ymag;\n\n\t\t\t\t\txmag *= 0.5;\n\t\t\t\t\tymag *= 0.5;\n\n\t\t\t\t\tcamera = new OrthographicCamera(\n\t\t\t\t\t\t- xmag, xmag, ymag, - ymag, // left, right, top, bottom\n\t\t\t\t\t\tdata.optics.parameters.znear,\n\t\t\t\t\t\tdata.optics.parameters.zfar\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tcamera.name = data.name || '';\n\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tfunction getCamera( id ) {\n\n\t\t\tconst data = library.cameras[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildCamera );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find camera with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// light\n\n\t\tfunction parseLight( xml ) {\n\n\t\t\tlet data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tdata = parseLightTechnique( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.lights[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseLightTechnique( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'directional':\n\t\t\t\t\tcase 'point':\n\t\t\t\t\tcase 'spot':\n\t\t\t\t\tcase 'ambient':\n\n\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\tdata.parameters = parseLightParameters( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseLightParameters( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tconst array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.color = new Color().fromArray( array ).convertSRGBToLinear();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'falloff_angle':\n\t\t\t\t\t\tdata.falloffAngle = parseFloat( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'quadratic_attenuation':\n\t\t\t\t\t\tconst f = parseFloat( child.textContent );\n\t\t\t\t\t\tdata.distance = f ? Math.sqrt( 1 / f ) : 0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildLight( data ) {\n\n\t\t\tlet light;\n\n\t\t\tswitch ( data.technique ) {\n\n\t\t\t\tcase 'directional':\n\t\t\t\t\tlight = new DirectionalLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'point':\n\t\t\t\t\tlight = new PointLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'spot':\n\t\t\t\t\tlight = new SpotLight();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ambient':\n\t\t\t\t\tlight = new AmbientLight();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( data.parameters.color ) light.color.copy( data.parameters.color );\n\t\t\tif ( data.parameters.distance ) light.distance = data.parameters.distance;\n\n\t\t\treturn light;\n\n\t\t}\n\n\t\tfunction getLight( id ) {\n\n\t\t\tconst data = library.lights[ id ];\n\n\t\t\tif ( data !== undefined ) {\n\n\t\t\t\treturn getBuild( data, buildLight );\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.ColladaLoader: Couldn\\'t find light with ID:', id );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// geometry\n\n\t\tfunction parseGeometry( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ),\n\t\t\t\tsources: {},\n\t\t\t\tvertices: {},\n\t\t\t\tprimitives: []\n\t\t\t};\n\n\t\t\tconst mesh = getElementsByTagName( xml, 'mesh' )[ 0 ];\n\n\t\t\t// the following tags inside geometry are not supported yet (see https://github.com/mrdoob/three.js/pull/12606): convex_mesh, spline, brep\n\t\t\tif ( mesh === undefined ) return;\n\n\t\t\tfor ( let i = 0; i < mesh.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = mesh.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tconst id = child.getAttribute( 'id' );\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'source':\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vertices':\n\t\t\t\t\t\t// data.sources[ id ] = data.sources[ parseId( getElementsByTagName( child, 'input' )[ 0 ].getAttribute( 'source' ) ) ];\n\t\t\t\t\t\tdata.vertices = parseGeometryVertices( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'polygons':\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unsupported primitive type: ', child.nodeName );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\tcase 'polylist':\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\tdata.primitives.push( parseGeometryPrimitive( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.geometries[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parseSource( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tarray: [],\n\t\t\t\tstride: 3\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'float_array':\n\t\t\t\t\t\tdata.array = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Name_array':\n\t\t\t\t\t\tdata.array = parseStrings( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tconst accessor = getElementsByTagName( child, 'accessor' )[ 0 ];\n\n\t\t\t\t\t\tif ( accessor !== undefined ) {\n\n\t\t\t\t\t\t\tdata.stride = parseInt( accessor.getAttribute( 'stride' ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseGeometryVertices( xml ) {\n\n\t\t\tconst data = {};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tdata[ child.getAttribute( 'semantic' ) ] = parseId( child.getAttribute( 'source' ) );\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseGeometryPrimitive( xml ) {\n\n\t\t\tconst primitive = {\n\t\t\t\ttype: xml.nodeName,\n\t\t\t\tmaterial: xml.getAttribute( 'material' ),\n\t\t\t\tcount: parseInt( xml.getAttribute( 'count' ) ),\n\t\t\t\tinputs: {},\n\t\t\t\tstride: 0,\n\t\t\t\thasUV: false\n\t\t\t};\n\n\t\t\tfor ( let i = 0, l = xml.childNodes.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tconst id = parseId( child.getAttribute( 'source' ) );\n\t\t\t\t\t\tconst semantic = child.getAttribute( 'semantic' );\n\t\t\t\t\t\tconst offset = parseInt( child.getAttribute( 'offset' ) );\n\t\t\t\t\t\tconst set = parseInt( child.getAttribute( 'set' ) );\n\t\t\t\t\t\tconst inputname = ( set > 0 ? semantic + set : semantic );\n\t\t\t\t\t\tprimitive.inputs[ inputname ] = { id: id, offset: offset };\n\t\t\t\t\t\tprimitive.stride = Math.max( primitive.stride, offset + 1 );\n\t\t\t\t\t\tif ( semantic === 'TEXCOORD' ) primitive.hasUV = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\tprimitive.vcount = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'p':\n\t\t\t\t\t\tprimitive.p = parseInts( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn primitive;\n\n\t\t}\n\n\t\tfunction groupPrimitives( primitives ) {\n\n\t\t\tconst build = {};\n\n\t\t\tfor ( let i = 0; i < primitives.length; i ++ ) {\n\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\tif ( build[ primitive.type ] === undefined ) build[ primitive.type ] = [];\n\n\t\t\t\tbuild[ primitive.type ].push( primitive );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction checkUVCoordinates( primitives ) {\n\n\t\t\tlet count = 0;\n\n\t\t\tfor ( let i = 0, l = primitives.length; i < l; i ++ ) {\n\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\tif ( primitive.hasUV === true ) {\n\n\t\t\t\t\tcount ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( count > 0 && count < primitives.length ) {\n\n\t\t\t\tprimitives.uvsNeedsFix = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction buildGeometry( data ) {\n\n\t\t\tconst build = {};\n\n\t\t\tconst sources = data.sources;\n\t\t\tconst vertices = data.vertices;\n\t\t\tconst primitives = data.primitives;\n\n\t\t\tif ( primitives.length === 0 ) return {};\n\n\t\t\t// our goal is to create one buffer geometry for a single type of primitives\n\t\t\t// first, we group all primitives by their type\n\n\t\t\tconst groupedPrimitives = groupPrimitives( primitives );\n\n\t\t\tfor ( const type in groupedPrimitives ) {\n\n\t\t\t\tconst primitiveType = groupedPrimitives[ type ];\n\n\t\t\t\t// second, ensure consistent uv coordinates for each type of primitives (polylist,triangles or lines)\n\n\t\t\t\tcheckUVCoordinates( primitiveType );\n\n\t\t\t\t// third, create a buffer geometry for each type of primitives\n\n\t\t\t\tbuild[ type ] = buildGeometryType( primitiveType, sources, vertices );\n\n\t\t\t}\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildGeometryType( primitives, sources, vertices ) {\n\n\t\t\tconst build = {};\n\n\t\t\tconst position = { array: [], stride: 0 };\n\t\t\tconst normal = { array: [], stride: 0 };\n\t\t\tconst uv = { array: [], stride: 0 };\n\t\t\tconst uv2 = { array: [], stride: 0 };\n\t\t\tconst color = { array: [], stride: 0 };\n\n\t\t\tconst skinIndex = { array: [], stride: 4 };\n\t\t\tconst skinWeight = { array: [], stride: 4 };\n\n\t\t\tconst geometry = new BufferGeometry();\n\n\t\t\tconst materialKeys = [];\n\n\t\t\tlet start = 0;\n\n\t\t\tfor ( let p = 0; p < primitives.length; p ++ ) {\n\n\t\t\t\tconst primitive = primitives[ p ];\n\t\t\t\tconst inputs = primitive.inputs;\n\n\t\t\t\t// groups\n\n\t\t\t\tlet count = 0;\n\n\t\t\t\tswitch ( primitive.type ) {\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\tcount = primitive.count * 2;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\tcount = primitive.count * 3;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'polylist':\n\n\t\t\t\t\t\tfor ( let g = 0; g < primitive.count; g ++ ) {\n\n\t\t\t\t\t\t\tconst vc = primitive.vcount[ g ];\n\n\t\t\t\t\t\t\tswitch ( vc ) {\n\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tcount += 3; // single triangle\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tcount += 6; // quad, subdivided into two triangles\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tcount += ( vc - 2 ) * 3; // polylist with more than four vertices\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unknow primitive type:', primitive.type );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.addGroup( start, count, p );\n\t\t\t\tstart += count;\n\n\t\t\t\t// material\n\n\t\t\t\tif ( primitive.material ) {\n\n\t\t\t\t\tmaterialKeys.push( primitive.material );\n\n\t\t\t\t}\n\n\t\t\t\t// geometry data\n\n\t\t\t\tfor ( const name in inputs ) {\n\n\t\t\t\t\tconst input = inputs[ name ];\n\n\t\t\t\t\tswitch ( name )\t{\n\n\t\t\t\t\t\tcase 'VERTEX':\n\t\t\t\t\t\t\tfor ( const key in vertices ) {\n\n\t\t\t\t\t\t\t\tconst id = vertices[ key ];\n\n\t\t\t\t\t\t\t\tswitch ( key ) {\n\n\t\t\t\t\t\t\t\t\tcase 'POSITION':\n\t\t\t\t\t\t\t\t\t\tconst prevLength = position.array.length;\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, position.array );\n\t\t\t\t\t\t\t\t\t\tposition.stride = sources[ id ].stride;\n\n\t\t\t\t\t\t\t\t\t\tif ( sources.skinWeights && sources.skinIndices ) {\n\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinIndices, input.offset, skinIndex.array );\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinWeights, input.offset, skinWeight.array );\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// see #3803\n\n\t\t\t\t\t\t\t\t\t\tif ( primitive.hasUV === false && primitives.uvsNeedsFix === true ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconst count = ( position.array.length - prevLength ) / position.stride;\n\n\t\t\t\t\t\t\t\t\t\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// fill missing uv coordinates\n\n\t\t\t\t\t\t\t\t\t\t\t\tuv.array.push( 0, 0 );\n\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, normal.array );\n\t\t\t\t\t\t\t\t\t\tnormal.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, color.array );\n\t\t\t\t\t\t\t\t\t\tcolor.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, uv.array );\n\t\t\t\t\t\t\t\t\t\tuv.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tcase 'TEXCOORD1':\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, uv2.array );\n\t\t\t\t\t\t\t\t\t\tuv.stride = sources[ id ].stride;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, normal.array );\n\t\t\t\t\t\t\tnormal.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, color.array, true );\n\t\t\t\t\t\t\tcolor.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, uv.array );\n\t\t\t\t\t\t\tuv.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'TEXCOORD1':\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, uv2.array );\n\t\t\t\t\t\t\tuv2.stride = sources[ input.id ].stride;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tif ( position.array.length > 0 ) geometry.setAttribute( 'position', new Float32BufferAttribute( position.array, position.stride ) );\n\t\t\tif ( normal.array.length > 0 ) geometry.setAttribute( 'normal', new Float32BufferAttribute( normal.array, normal.stride ) );\n\t\t\tif ( color.array.length > 0 ) geometry.setAttribute( 'color', new Float32BufferAttribute( color.array, color.stride ) );\n\t\t\tif ( uv.array.length > 0 ) geometry.setAttribute( 'uv', new Float32BufferAttribute( uv.array, uv.stride ) );\n\t\t\tif ( uv2.array.length > 0 ) geometry.setAttribute( 'uv2', new Float32BufferAttribute( uv2.array, uv2.stride ) );\n\n\t\t\tif ( skinIndex.array.length > 0 ) geometry.setAttribute( 'skinIndex', new Float32BufferAttribute( skinIndex.array, skinIndex.stride ) );\n\t\t\tif ( skinWeight.array.length > 0 ) geometry.setAttribute( 'skinWeight', new Float32BufferAttribute( skinWeight.array, skinWeight.stride ) );\n\n\t\t\tbuild.data = geometry;\n\t\t\tbuild.type = primitives[ 0 ].type;\n\t\t\tbuild.materialKeys = materialKeys;\n\n\t\t\treturn build;\n\n\t\t}\n\n\t\tfunction buildGeometryData( primitive, source, offset, array, isColor = false ) {\n\n\t\t\tconst indices = primitive.p;\n\t\t\tconst stride = primitive.stride;\n\t\t\tconst vcount = primitive.vcount;\n\n\t\t\tfunction pushVector( i ) {\n\n\t\t\t\tlet index = indices[ i + offset ] * sourceStride;\n\t\t\t\tconst length = index + sourceStride;\n\n\t\t\t\tfor ( ; index < length; index ++ ) {\n\n\t\t\t\t\tarray.push( sourceArray[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( isColor ) {\n\n\t\t\t\t\t// convert the vertex colors from srgb to linear if present\n\t\t\t\t\tconst startIndex = array.length - sourceStride - 1;\n\t\t\t\t\ttempColor.setRGB(\n\t\t\t\t\t\tarray[ startIndex + 0 ],\n\t\t\t\t\t\tarray[ startIndex + 1 ],\n\t\t\t\t\t\tarray[ startIndex + 2 ]\n\t\t\t\t\t).convertSRGBToLinear();\n\n\t\t\t\t\tarray[ startIndex + 0 ] = tempColor.r;\n\t\t\t\t\tarray[ startIndex + 1 ] = tempColor.g;\n\t\t\t\t\tarray[ startIndex + 2 ] = tempColor.b;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst sourceArray = source.array;\n\t\t\tconst sourceStride = source.stride;\n\n\t\t\tif ( primitive.vcount !== undefined ) {\n\n\t\t\t\tlet index = 0;\n\n\t\t\t\tfor ( let i = 0, l = vcount.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst count = vcount[ i ];\n\n\t\t\t\t\tif ( count === 4 ) {\n\n\t\t\t\t\t\tconst a = index + stride * 0;\n\t\t\t\t\t\tconst b = index + stride * 1;\n\t\t\t\t\t\tconst c = index + stride * 2;\n\t\t\t\t\t\tconst d = index + stride * 3;\n\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( d );\n\t\t\t\t\t\tpushVector( b ); pushVector( c ); pushVector( d );\n\n\t\t\t\t\t} else if ( count === 3 ) {\n\n\t\t\t\t\t\tconst a = index + stride * 0;\n\t\t\t\t\t\tconst b = index + stride * 1;\n\t\t\t\t\t\tconst c = index + stride * 2;\n\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( c );\n\n\t\t\t\t\t} else if ( count > 4 ) {\n\n\t\t\t\t\t\tfor ( let k = 1, kl = ( count - 2 ); k <= kl; k ++ ) {\n\n\t\t\t\t\t\t\tconst a = index + stride * 0;\n\t\t\t\t\t\t\tconst b = index + stride * k;\n\t\t\t\t\t\t\tconst c = index + stride * ( k + 1 );\n\n\t\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( c );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tindex += stride * count;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = indices.length; i < l; i += stride ) {\n\n\t\t\t\t\tpushVector( i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction getGeometry( id ) {\n\n\t\t\treturn getBuild( library.geometries[ id ], buildGeometry );\n\n\t\t}\n\n\t\t// kinematics\n\n\t\tfunction parseKinematicsModel( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\tjoints: {},\n\t\t\t\tlinks: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tparseKinematicsTechniqueCommon( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.kinematicsModels[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildKinematicsModel( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getKinematicsModel( id ) {\n\n\t\t\treturn getBuild( library.kinematicsModels[ id ], buildKinematicsModel );\n\n\t\t}\n\n\t\tfunction parseKinematicsTechniqueCommon( xml, data ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'joint':\n\t\t\t\t\t\tdata.joints[ child.getAttribute( 'sid' ) ] = parseKinematicsJoint( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseKinematicsJoint( xml ) {\n\n\t\t\tlet data;\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\tdata = parseKinematicsJointParameter( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsJointParameter( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\taxis: new Vector3(),\n\t\t\t\tlimits: {\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 0\n\t\t\t\t},\n\t\t\t\ttype: xml.nodeName,\n\t\t\t\tstatic: false,\n\t\t\t\tzeroPosition: 0,\n\t\t\t\tmiddlePosition: 0\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\tconst array = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.axis.fromArray( array );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'limits':\n\t\t\t\t\t\tconst max = child.getElementsByTagName( 'max' )[ 0 ];\n\t\t\t\t\t\tconst min = child.getElementsByTagName( 'min' )[ 0 ];\n\n\t\t\t\t\t\tdata.limits.max = parseFloat( max.textContent );\n\t\t\t\t\t\tdata.limits.min = parseFloat( min.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// if min is equal to or greater than max, consider the joint static\n\n\t\t\tif ( data.limits.min >= data.limits.max ) {\n\n\t\t\t\tdata.static = true;\n\n\t\t\t}\n\n\t\t\t// calculate middle position\n\n\t\t\tdata.middlePosition = ( data.limits.min + data.limits.max ) / 2.0;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsLink( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\tattachments: [],\n\t\t\t\ttransforms: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'attachment_full':\n\t\t\t\t\t\tdata.attachments.push( parseKinematicsAttachment( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsAttachment( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tjoint: xml.getAttribute( 'joint' ).split( '/' ).pop(),\n\t\t\t\ttransforms: [],\n\t\t\t\tlinks: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseKinematicsTransform( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\ttype: xml.nodeName\n\t\t\t};\n\n\t\t\tconst array = parseFloats( xml.textContent );\n\n\t\t\tswitch ( data.type ) {\n\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tdata.obj = new Matrix4();\n\t\t\t\t\tdata.obj.fromArray( array ).transpose();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'translate':\n\t\t\t\t\tdata.obj = new Vector3();\n\t\t\t\t\tdata.obj.fromArray( array );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tdata.obj = new Vector3();\n\t\t\t\t\tdata.obj.fromArray( array );\n\t\t\t\t\tdata.angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// physics\n\n\t\tfunction parsePhysicsModel( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\trigidBodies: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'rigid_body':\n\t\t\t\t\t\tdata.rigidBodies[ child.getAttribute( 'name' ) ] = {};\n\t\t\t\t\t\tparsePhysicsRigidBody( child, data.rigidBodies[ child.getAttribute( 'name' ) ] );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.physicsModels[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction parsePhysicsRigidBody( xml, data ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\tparsePhysicsTechniqueCommon( child, data );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parsePhysicsTechniqueCommon( xml, data ) {\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'inertia':\n\t\t\t\t\t\tdata.inertia = parseFloats( child.textContent );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'mass':\n\t\t\t\t\t\tdata.mass = parseFloats( child.textContent )[ 0 ];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// scene\n\n\t\tfunction parseKinematicsScene( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tbindJointAxis: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_joint_axis':\n\t\t\t\t\t\tdata.bindJointAxis.push( parseKinematicsBindJointAxis( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlibrary.kinematicsScenes[ parseId( xml.getAttribute( 'url' ) ) ] = data;\n\n\t\t}\n\n\t\tfunction parseKinematicsBindJointAxis( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\ttarget: xml.getAttribute( 'target' ).split( '/' ).pop()\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\tconst param = child.getElementsByTagName( 'param' )[ 0 ];\n\t\t\t\t\t\tdata.axis = param.textContent;\n\t\t\t\t\t\tconst tmpJointIndex = data.axis.split( 'inst_' ).pop().split( 'axis' )[ 0 ];\n\t\t\t\t\t\tdata.jointIndex = tmpJointIndex.substring( 0, tmpJointIndex.length - 1 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildKinematicsScene( data ) {\n\n\t\t\tif ( data.build !== undefined ) return data.build;\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction getKinematicsScene( id ) {\n\n\t\t\treturn getBuild( library.kinematicsScenes[ id ], buildKinematicsScene );\n\n\t\t}\n\n\t\tfunction setupKinematics() {\n\n\t\t\tconst kinematicsModelId = Object.keys( library.kinematicsModels )[ 0 ];\n\t\t\tconst kinematicsSceneId = Object.keys( library.kinematicsScenes )[ 0 ];\n\t\t\tconst visualSceneId = Object.keys( library.visualScenes )[ 0 ];\n\n\t\t\tif ( kinematicsModelId === undefined || kinematicsSceneId === undefined ) return;\n\n\t\t\tconst kinematicsModel = getKinematicsModel( kinematicsModelId );\n\t\t\tconst kinematicsScene = getKinematicsScene( kinematicsSceneId );\n\t\t\tconst visualScene = getVisualScene( visualSceneId );\n\n\t\t\tconst bindJointAxis = kinematicsScene.bindJointAxis;\n\t\t\tconst jointMap = {};\n\n\t\t\tfor ( let i = 0, l = bindJointAxis.length; i < l; i ++ ) {\n\n\t\t\t\tconst axis = bindJointAxis[ i ];\n\n\t\t\t\t// the result of the following query is an element of type 'translate', 'rotate','scale' or 'matrix'\n\n\t\t\t\tconst targetElement = collada.querySelector( '[sid=\"' + axis.target + '\"]' );\n\n\t\t\t\tif ( targetElement ) {\n\n\t\t\t\t\t// get the parent of the transform element\n\n\t\t\t\t\tconst parentVisualElement = targetElement.parentElement;\n\n\t\t\t\t\t// connect the joint of the kinematics model with the element in the visual scene\n\n\t\t\t\t\tconnect( axis.jointIndex, parentVisualElement );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction connect( jointIndex, visualElement ) {\n\n\t\t\t\tconst visualElementName = visualElement.getAttribute( 'name' );\n\t\t\t\tconst joint = kinematicsModel.joints[ jointIndex ];\n\n\t\t\t\tvisualScene.traverse( function ( object ) {\n\n\t\t\t\t\tif ( object.name === visualElementName ) {\n\n\t\t\t\t\t\tjointMap[ jointIndex ] = {\n\t\t\t\t\t\t\tobject: object,\n\t\t\t\t\t\t\ttransforms: buildTransformList( visualElement ),\n\t\t\t\t\t\t\tjoint: joint,\n\t\t\t\t\t\t\tposition: joint.zeroPosition\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst m0 = new Matrix4();\n\n\t\t\tkinematics = {\n\n\t\t\t\tjoints: kinematicsModel && kinematicsModel.joints,\n\n\t\t\t\tgetJointValue: function ( jointIndex ) {\n\n\t\t\t\t\tconst jointData = jointMap[ jointIndex ];\n\n\t\t\t\t\tif ( jointData ) {\n\n\t\t\t\t\t\treturn jointData.position;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tsetJointValue: function ( jointIndex, value ) {\n\n\t\t\t\t\tconst jointData = jointMap[ jointIndex ];\n\n\t\t\t\t\tif ( jointData ) {\n\n\t\t\t\t\t\tconst joint = jointData.joint;\n\n\t\t\t\t\t\tif ( value > joint.limits.max || value < joint.limits.min ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').' );\n\n\t\t\t\t\t\t} else if ( joint.static ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Joint ' + jointIndex + ' is static.' );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconst object = jointData.object;\n\t\t\t\t\t\t\tconst axis = joint.axis;\n\t\t\t\t\t\t\tconst transforms = jointData.transforms;\n\n\t\t\t\t\t\t\tmatrix.identity();\n\n\t\t\t\t\t\t\t// each update, we have to apply all transforms in the correct order\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < transforms.length; i ++ ) {\n\n\t\t\t\t\t\t\t\tconst transform = transforms[ i ];\n\n\t\t\t\t\t\t\t\t// if there is a connection of the transform node with a joint, apply the joint value\n\n\t\t\t\t\t\t\t\tif ( transform.sid && transform.sid.indexOf( jointIndex ) !== - 1 ) {\n\n\t\t\t\t\t\t\t\t\tswitch ( joint.type ) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( axis, MathUtils.degToRad( value ) ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( axis.x * value, axis.y * value, axis.z * value ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Unknown joint type: ' + joint.type );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tswitch ( transform.type ) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( transform.obj );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( transform.obj.x, transform.obj.y, transform.obj.z ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.scale( transform.obj );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( transform.obj, transform.angle ) );\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobject.matrix.copy( matrix );\n\t\t\t\t\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\t\t\t\t\tjointMap[ jointIndex ].position = value;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.log( 'THREE.ColladaLoader: ' + jointIndex + ' does not exist.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t\tfunction buildTransformList( node ) {\n\n\t\t\tconst transforms = [];\n\n\t\t\tconst xml = collada.querySelector( '[id=\"' + node.id + '\"]' );\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tlet array, vector;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tconst matrix = new Matrix4().fromArray( array ).transpose();\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: matrix\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tvector = new Vector3().fromArray( array );\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: vector\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tvector = new Vector3().fromArray( array );\n\t\t\t\t\t\tconst angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\t\ttransforms.push( {\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\n\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\tobj: vector,\n\t\t\t\t\t\t\tangle: angle\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn transforms;\n\n\t\t}\n\n\t\t// nodes\n\n\t\tfunction prepareNodes( xml ) {\n\n\t\t\tconst elements = xml.getElementsByTagName( 'node' );\n\n\t\t\t// ensure all node elements have id attributes\n\n\t\t\tfor ( let i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\tconst element = elements[ i ];\n\n\t\t\t\tif ( element.hasAttribute( 'id' ) === false ) {\n\n\t\t\t\t\telement.setAttribute( 'id', generateId() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst matrix = new Matrix4();\n\t\tconst vector = new Vector3();\n\n\t\tfunction parseNode( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\n\t\t\t\ttype: xml.getAttribute( 'type' ),\n\t\t\t\tid: xml.getAttribute( 'id' ),\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\n\t\t\t\tmatrix: new Matrix4(),\n\t\t\t\tnodes: [],\n\t\t\t\tinstanceCameras: [],\n\t\t\t\tinstanceControllers: [],\n\t\t\t\tinstanceLights: [],\n\t\t\t\tinstanceGeometries: [],\n\t\t\t\tinstanceNodes: [],\n\t\t\t\ttransforms: {}\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\n\n\t\t\t\tlet array;\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'node':\n\t\t\t\t\t\tdata.nodes.push( child.getAttribute( 'id' ) );\n\t\t\t\t\t\tparseNode( child );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_camera':\n\t\t\t\t\t\tdata.instanceCameras.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_controller':\n\t\t\t\t\t\tdata.instanceControllers.push( parseNodeInstance( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_light':\n\t\t\t\t\t\tdata.instanceLights.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_geometry':\n\t\t\t\t\t\tdata.instanceGeometries.push( parseNodeInstance( child ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'instance_node':\n\t\t\t\t\t\tdata.instanceNodes.push( parseId( child.getAttribute( 'url' ) ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.fromArray( array ).transpose() );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tvector.fromArray( array );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeTranslation( vector.x, vector.y, vector.z ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tconst angle = MathUtils.degToRad( array[ 3 ] );\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeRotationAxis( vector.fromArray( array ), angle ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\tarray = parseFloats( child.textContent );\n\t\t\t\t\t\tdata.matrix.scale( vector.fromArray( array ) );\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.log( child );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasNode( data.id ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.', data.id );\n\n\t\t\t} else {\n\n\t\t\t\tlibrary.nodes[ data.id ] = data;\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction parseNodeInstance( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tid: parseId( xml.getAttribute( 'url' ) ),\n\t\t\t\tmaterials: {},\n\t\t\t\tskeletons: []\n\t\t\t};\n\n\t\t\tfor ( let i = 0; i < xml.childNodes.length; i ++ ) {\n\n\t\t\t\tconst child = xml.childNodes[ i ];\n\n\t\t\t\tswitch ( child.nodeName ) {\n\n\t\t\t\t\tcase 'bind_material':\n\t\t\t\t\t\tconst instances = child.getElementsByTagName( 'instance_material' );\n\n\t\t\t\t\t\tfor ( let j = 0; j < instances.length; j ++ ) {\n\n\t\t\t\t\t\t\tconst instance = instances[ j ];\n\t\t\t\t\t\t\tconst symbol = instance.getAttribute( 'symbol' );\n\t\t\t\t\t\t\tconst target = instance.getAttribute( 'target' );\n\n\t\t\t\t\t\t\tdata.materials[ symbol ] = parseId( target );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'skeleton':\n\t\t\t\t\t\tdata.skeletons.push( parseId( child.textContent ) );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tfunction buildSkeleton( skeletons, joints ) {\n\n\t\t\tconst boneData = [];\n\t\t\tconst sortedBoneData = [];\n\n\t\t\tlet i, j, data;\n\n\t\t\t// a skeleton can have multiple root bones. collada expresses this\n\t\t\t// situtation with multiple \"skeleton\" tags per controller instance\n\n\t\t\tfor ( i = 0; i < skeletons.length; i ++ ) {\n\n\t\t\t\tconst skeleton = skeletons[ i ];\n\n\t\t\t\tlet root;\n\n\t\t\t\tif ( hasNode( skeleton ) ) {\n\n\t\t\t\t\troot = getNode( skeleton );\n\t\t\t\t\tbuildBoneHierarchy( root, joints, boneData );\n\n\t\t\t\t} else if ( hasVisualScene( skeleton ) ) {\n\n\t\t\t\t\t// handle case where the skeleton refers to the visual scene (#13335)\n\n\t\t\t\t\tconst visualScene = library.visualScenes[ skeleton ];\n\t\t\t\t\tconst children = visualScene.children;\n\n\t\t\t\t\tfor ( let j = 0; j < children.length; j ++ ) {\n\n\t\t\t\t\t\tconst child = children[ j ];\n\n\t\t\t\t\t\tif ( child.type === 'JOINT' ) {\n\n\t\t\t\t\t\t\tconst root = getNode( child.id );\n\t\t\t\t\t\t\tbuildBoneHierarchy( root, joints, boneData );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.ColladaLoader: Unable to find root bone of skeleton with ID:', skeleton );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// sort bone data (the order is defined in the corresponding controller)\n\n\t\t\tfor ( i = 0; i < joints.length; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < boneData.length; j ++ ) {\n\n\t\t\t\t\tdata = boneData[ j ];\n\n\t\t\t\t\tif ( data.bone.name === joints[ i ].name ) {\n\n\t\t\t\t\t\tsortedBoneData[ i ] = data;\n\t\t\t\t\t\tdata.processed = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add unprocessed bone data at the end of the list\n\n\t\t\tfor ( i = 0; i < boneData.length; i ++ ) {\n\n\t\t\t\tdata = boneData[ i ];\n\n\t\t\t\tif ( data.processed === false ) {\n\n\t\t\t\t\tsortedBoneData.push( data );\n\t\t\t\t\tdata.processed = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// setup arrays for skeleton creation\n\n\t\t\tconst bones = [];\n\t\t\tconst boneInverses = [];\n\n\t\t\tfor ( i = 0; i < sortedBoneData.length; i ++ ) {\n\n\t\t\t\tdata = sortedBoneData[ i ];\n\n\t\t\t\tbones.push( data.bone );\n\t\t\t\tboneInverses.push( data.boneInverse );\n\n\t\t\t}\n\n\t\t\treturn new Skeleton( bones, boneInverses );\n\n\t\t}\n\n\t\tfunction buildBoneHierarchy( root, joints, boneData ) {\n\n\t\t\t// setup bone data from visual scene\n\n\t\t\troot.traverse( function ( object ) {\n\n\t\t\t\tif ( object.isBone === true ) {\n\n\t\t\t\t\tlet boneInverse;\n\n\t\t\t\t\t// retrieve the boneInverse from the controller data\n\n\t\t\t\t\tfor ( let i = 0; i < joints.length; i ++ ) {\n\n\t\t\t\t\t\tconst joint = joints[ i ];\n\n\t\t\t\t\t\tif ( joint.name === object.name ) {\n\n\t\t\t\t\t\t\tboneInverse = joint.boneInverse;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( boneInverse === undefined ) {\n\n\t\t\t\t\t\t// Unfortunately, there can be joints in the visual scene that are not part of the\n\t\t\t\t\t\t// corresponding controller. In this case, we have to create a dummy boneInverse matrix\n\t\t\t\t\t\t// for the respective bone. This bone won't affect any vertices, because there are no skin indices\n\t\t\t\t\t\t// and weights defined for it. But we still have to add the bone to the sorted bone list in order to\n\t\t\t\t\t\t// ensure a correct animation of the model.\n\n\t\t\t\t\t\tboneInverse = new Matrix4();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tboneData.push( { bone: object, boneInverse: boneInverse, processed: false } );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction buildNode( data ) {\n\n\t\t\tconst objects = [];\n\n\t\t\tconst matrix = data.matrix;\n\t\t\tconst nodes = data.nodes;\n\t\t\tconst type = data.type;\n\t\t\tconst instanceCameras = data.instanceCameras;\n\t\t\tconst instanceControllers = data.instanceControllers;\n\t\t\tconst instanceLights = data.instanceLights;\n\t\t\tconst instanceGeometries = data.instanceGeometries;\n\t\t\tconst instanceNodes = data.instanceNodes;\n\n\t\t\t// nodes\n\n\t\t\tfor ( let i = 0, l = nodes.length; i < l; i ++ ) {\n\n\t\t\t\tobjects.push( getNode( nodes[ i ] ) );\n\n\t\t\t}\n\n\t\t\t// instance cameras\n\n\t\t\tfor ( let i = 0, l = instanceCameras.length; i < l; i ++ ) {\n\n\t\t\t\tconst instanceCamera = getCamera( instanceCameras[ i ] );\n\n\t\t\t\tif ( instanceCamera !== null ) {\n\n\t\t\t\t\tobjects.push( instanceCamera.clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance controllers\n\n\t\t\tfor ( let i = 0, l = instanceControllers.length; i < l; i ++ ) {\n\n\t\t\t\tconst instance = instanceControllers[ i ];\n\t\t\t\tconst controller = getController( instance.id );\n\t\t\t\tconst geometries = getGeometry( controller.id );\n\t\t\t\tconst newObjects = buildObjects( geometries, instance.materials );\n\n\t\t\t\tconst skeletons = instance.skeletons;\n\t\t\t\tconst joints = controller.skin.joints;\n\n\t\t\t\tconst skeleton = buildSkeleton( skeletons, joints );\n\n\t\t\t\tfor ( let j = 0, jl = newObjects.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst object = newObjects[ j ];\n\n\t\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t\tobject.bind( skeleton, controller.skin.bindMatrix );\n\t\t\t\t\t\tobject.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects.push( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance lights\n\n\t\t\tfor ( let i = 0, l = instanceLights.length; i < l; i ++ ) {\n\n\t\t\t\tconst instanceLight = getLight( instanceLights[ i ] );\n\n\t\t\t\tif ( instanceLight !== null ) {\n\n\t\t\t\t\tobjects.push( instanceLight.clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance geometries\n\n\t\t\tfor ( let i = 0, l = instanceGeometries.length; i < l; i ++ ) {\n\n\t\t\t\tconst instance = instanceGeometries[ i ];\n\n\t\t\t\t// a single geometry instance in collada can lead to multiple object3Ds.\n\t\t\t\t// this is the case when primitives are combined like triangles and lines\n\n\t\t\t\tconst geometries = getGeometry( instance.id );\n\t\t\t\tconst newObjects = buildObjects( geometries, instance.materials );\n\n\t\t\t\tfor ( let j = 0, jl = newObjects.length; j < jl; j ++ ) {\n\n\t\t\t\t\tobjects.push( newObjects[ j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// instance nodes\n\n\t\t\tfor ( let i = 0, l = instanceNodes.length; i < l; i ++ ) {\n\n\t\t\t\tobjects.push( getNode( instanceNodes[ i ] ).clone() );\n\n\t\t\t}\n\n\t\t\tlet object;\n\n\t\t\tif ( nodes.length === 0 && objects.length === 1 ) {\n\n\t\t\t\tobject = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tobject = ( type === 'JOINT' ) ? new Bone() : new Group();\n\n\t\t\t\tfor ( let i = 0; i < objects.length; i ++ ) {\n\n\t\t\t\t\tobject.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tobject.name = ( type === 'JOINT' ) ? data.sid : data.name;\n\t\t\tobject.matrix.copy( matrix );\n\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t\treturn object;\n\n\t\t}\n\n\t\tconst fallbackMaterial = new MeshBasicMaterial( { color: 0xff00ff } );\n\n\t\tfunction resolveMaterialBinding( keys, instanceMaterials ) {\n\n\t\t\tconst materials = [];\n\n\t\t\tfor ( let i = 0, l = keys.length; i < l; i ++ ) {\n\n\t\t\t\tconst id = instanceMaterials[ keys[ i ] ];\n\n\t\t\t\tif ( id === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Material with key %s not found. Apply fallback material.', keys[ i ] );\n\t\t\t\t\tmaterials.push( fallbackMaterial );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tmaterials.push( getMaterial( id ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn materials;\n\n\t\t}\n\n\t\tfunction buildObjects( geometries, instanceMaterials ) {\n\n\t\t\tconst objects = [];\n\n\t\t\tfor ( const type in geometries ) {\n\n\t\t\t\tconst geometry = geometries[ type ];\n\n\t\t\t\tconst materials = resolveMaterialBinding( geometry.materialKeys, instanceMaterials );\n\n\t\t\t\t// handle case if no materials are defined\n\n\t\t\t\tif ( materials.length === 0 ) {\n\n\t\t\t\t\tif ( type === 'lines' || type === 'linestrips' ) {\n\n\t\t\t\t\t\tmaterials.push( new LineBasicMaterial() );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmaterials.push( new MeshPhongMaterial() );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// regard skinning\n\n\t\t\t\tconst skinning = ( geometry.data.attributes.skinIndex !== undefined );\n\n\t\t\t\t// choose between a single or multi materials (material array)\n\n\t\t\t\tconst material = ( materials.length === 1 ) ? materials[ 0 ] : materials;\n\n\t\t\t\t// now create a specific 3D object\n\n\t\t\t\tlet object;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'lines':\n\t\t\t\t\t\tobject = new LineSegments( geometry.data, material );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\tobject = new Line( geometry.data, material );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'triangles':\n\t\t\t\t\tcase 'polylist':\n\t\t\t\t\t\tif ( skinning ) {\n\n\t\t\t\t\t\t\tobject = new SkinnedMesh( geometry.data, material );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tobject = new Mesh( geometry.data, material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tobjects.push( object );\n\n\t\t\t}\n\n\t\t\treturn objects;\n\n\t\t}\n\n\t\tfunction hasNode( id ) {\n\n\t\t\treturn library.nodes[ id ] !== undefined;\n\n\t\t}\n\n\t\tfunction getNode( id ) {\n\n\t\t\treturn getBuild( library.nodes[ id ], buildNode );\n\n\t\t}\n\n\t\t// visual scenes\n\n\t\tfunction parseVisualScene( xml ) {\n\n\t\t\tconst data = {\n\t\t\t\tname: xml.getAttribute( 'name' ),\n\t\t\t\tchildren: []\n\t\t\t};\n\n\t\t\tprepareNodes( xml );\n\n\t\t\tconst elements = getElementsByTagName( xml, 'node' );\n\n\t\t\tfor ( let i = 0; i < elements.length; i ++ ) {\n\n\t\t\t\tdata.children.push( parseNode( elements[ i ] ) );\n\n\t\t\t}\n\n\t\t\tlibrary.visualScenes[ xml.getAttribute( 'id' ) ] = data;\n\n\t\t}\n\n\t\tfunction buildVisualScene( data ) {\n\n\t\t\tconst group = new Group();\n\t\t\tgroup.name = data.name;\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\n\t\t\t\tgroup.add( getNode( child.id ) );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t}\n\n\t\tfunction hasVisualScene( id ) {\n\n\t\t\treturn library.visualScenes[ id ] !== undefined;\n\n\t\t}\n\n\t\tfunction getVisualScene( id ) {\n\n\t\t\treturn getBuild( library.visualScenes[ id ], buildVisualScene );\n\n\t\t}\n\n\t\t// scenes\n\n\t\tfunction parseScene( xml ) {\n\n\t\t\tconst instance = getElementsByTagName( xml, 'instance_visual_scene' )[ 0 ];\n\t\t\treturn getVisualScene( parseId( instance.getAttribute( 'url' ) ) );\n\n\t\t}\n\n\t\tfunction setupAnimations() {\n\n\t\t\tconst clips = library.clips;\n\n\t\t\tif ( isEmpty( clips ) === true ) {\n\n\t\t\t\tif ( isEmpty( library.animations ) === false ) {\n\n\t\t\t\t\t// if there are animations but no clips, we create a default clip for playback\n\n\t\t\t\t\tconst tracks = [];\n\n\t\t\t\t\tfor ( const id in library.animations ) {\n\n\t\t\t\t\t\tconst animationTracks = getAnimation( id );\n\n\t\t\t\t\t\tfor ( let i = 0, l = animationTracks.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\ttracks.push( animationTracks[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tanimations.push( new AnimationClip( 'default', - 1, tracks ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( const id in clips ) {\n\n\t\t\t\t\tanimations.push( getAnimationClip( id ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// convert the parser error element into text with each child elements text\n\t\t// separated by new lines.\n\n\t\tfunction parserErrorToText( parserError ) {\n\n\t\t\tlet result = '';\n\t\t\tconst stack = [ parserError ];\n\n\t\t\twhile ( stack.length ) {\n\n\t\t\t\tconst node = stack.shift();\n\n\t\t\t\tif ( node.nodeType === Node.TEXT_NODE ) {\n\n\t\t\t\t\tresult += node.textContent;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tresult += '\\n';\n\t\t\t\t\tstack.push.apply( stack, node.childNodes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn result.trim();\n\n\t\t}\n\n\t\tif ( text.length === 0 ) {\n\n\t\t\treturn { scene: new Scene() };\n\n\t\t}\n\n\t\tconst xml = new DOMParser().parseFromString( text, 'application/xml' );\n\n\t\tconst collada = getElementsByTagName( xml, 'COLLADA' )[ 0 ];\n\n\t\tconst parserError = xml.getElementsByTagName( 'parsererror' )[ 0 ];\n\t\tif ( parserError !== undefined ) {\n\n\t\t\t// Chrome will return parser error with a div in it\n\n\t\t\tconst errorElement = getElementsByTagName( parserError, 'div' )[ 0 ];\n\t\t\tlet errorText;\n\n\t\t\tif ( errorElement ) {\n\n\t\t\t\terrorText = errorElement.textContent;\n\n\t\t\t} else {\n\n\t\t\t\terrorText = parserErrorToText( parserError );\n\n\t\t\t}\n\n\t\t\tconsole.error( 'THREE.ColladaLoader: Failed to parse collada file.\\n', errorText );\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// metadata\n\n\t\tconst version = collada.getAttribute( 'version' );\n\t\tconsole.log( 'THREE.ColladaLoader: File version', version );\n\n\t\tconst asset = parseAsset( getElementsByTagName( collada, 'asset' )[ 0 ] );\n\t\tconst textureLoader = new TextureLoader( this.manager );\n\t\ttextureLoader.setPath( this.resourcePath || path ).setCrossOrigin( this.crossOrigin );\n\n\t\tlet tgaLoader;\n\n\t\tif ( TGALoader ) {\n\n\t\t\ttgaLoader = new TGALoader( this.manager );\n\t\t\ttgaLoader.setPath( this.resourcePath || path );\n\n\t\t}\n\n\t\t//\n\n\t\tconst tempColor = new Color();\n\t\tconst animations = [];\n\t\tlet kinematics = {};\n\t\tlet count = 0;\n\n\t\t//\n\n\t\tconst library = {\n\t\t\tanimations: {},\n\t\t\tclips: {},\n\t\t\tcontrollers: {},\n\t\t\timages: {},\n\t\t\teffects: {},\n\t\t\tmaterials: {},\n\t\t\tcameras: {},\n\t\t\tlights: {},\n\t\t\tgeometries: {},\n\t\t\tnodes: {},\n\t\t\tvisualScenes: {},\n\t\t\tkinematicsModels: {},\n\t\t\tphysicsModels: {},\n\t\t\tkinematicsScenes: {}\n\t\t};\n\n\t\tparseLibrary( collada, 'library_animations', 'animation', parseAnimation );\n\t\tparseLibrary( collada, 'library_animation_clips', 'animation_clip', parseAnimationClip );\n\t\tparseLibrary( collada, 'library_controllers', 'controller', parseController );\n\t\tparseLibrary( collada, 'library_images', 'image', parseImage );\n\t\tparseLibrary( collada, 'library_effects', 'effect', parseEffect );\n\t\tparseLibrary( collada, 'library_materials', 'material', parseMaterial );\n\t\tparseLibrary( collada, 'library_cameras', 'camera', parseCamera );\n\t\tparseLibrary( collada, 'library_lights', 'light', parseLight );\n\t\tparseLibrary( collada, 'library_geometries', 'geometry', parseGeometry );\n\t\tparseLibrary( collada, 'library_nodes', 'node', parseNode );\n\t\tparseLibrary( collada, 'library_visual_scenes', 'visual_scene', parseVisualScene );\n\t\tparseLibrary( collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel );\n\t\tparseLibrary( collada, 'library_physics_models', 'physics_model', parsePhysicsModel );\n\t\tparseLibrary( collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene );\n\n\t\tbuildLibrary( library.animations, buildAnimation );\n\t\tbuildLibrary( library.clips, buildAnimationClip );\n\t\tbuildLibrary( library.controllers, buildController );\n\t\tbuildLibrary( library.images, buildImage );\n\t\tbuildLibrary( library.effects, buildEffect );\n\t\tbuildLibrary( library.materials, buildMaterial );\n\t\tbuildLibrary( library.cameras, buildCamera );\n\t\tbuildLibrary( library.lights, buildLight );\n\t\tbuildLibrary( library.geometries, buildGeometry );\n\t\tbuildLibrary( library.visualScenes, buildVisualScene );\n\n\t\tsetupAnimations();\n\t\tsetupKinematics();\n\n\t\tconst scene = parseScene( getElementsByTagName( collada, 'scene' )[ 0 ] );\n\t\tscene.animations = animations;\n\n\t\tif ( asset.upAxis === 'Z_UP' ) {\n\n\t\t\tscene.quaternion.setFromEuler( new Euler( - Math.PI / 2, 0, 0 ) );\n\n\t\t}\n\n\t\tscene.scale.multiplyScalar( asset.unit );\n\n\t\treturn {\n\t\t\tget animations() {\n\n\t\t\t\tconsole.warn( 'THREE.ColladaLoader: Please access animations over scene.animations now.' );\n\t\t\t\treturn animations;\n\n\t\t\t},\n\t\t\tkinematics: kinematics,\n\t\t\tlibrary: library,\n\t\t\tscene: scene\n\t\t};\n\n\t}\n\n}\n\nexport { ColladaLoader };\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSheenExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsVolumeExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIorExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsEmissiveStrengthExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSpecularExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIridescenceExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet content;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tconst magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n\tparseAsync( data, path ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.parse( data, path, resolve, reject );\n\n\t\t} );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tKHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\nclass GLTFMaterialsEmissiveStrengthExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst emissiveStrength = materialDef.extensions[ this.name ].emissiveStrength;\n\n\t\tif ( emissiveStrength !== undefined ) {\n\n\t\t\tmaterialParams.emissiveIntensity = emissiveStrength;\n\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\nclass GLTFMaterialsIridescenceExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.iridescenceFactor !== undefined ) {\n\n\t\t\tmaterialParams.iridescence = extension.iridescenceFactor;\n\n\t\t}\n\n\t\tif ( extension.iridescenceTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceMap', extension.iridescenceTexture ) );\n\n\t\t}\n\n\t\tif ( extension.iridescenceIor !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceIOR = extension.iridescenceIor;\n\n\t\t}\n\n\t\tif ( materialParams.iridescenceThicknessRange === undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange = [ 100, 400 ];\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMinimum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 0 ] = extension.iridescenceThicknessMinimum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMaximum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 1 ] = extension.iridescenceThicknessMaximum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.sheenColor = new Color( 0, 0, 0 );\n\t\tmaterialParams.sheenRoughness = 0;\n\t\tmaterialParams.sheen = 1;\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.sheenColorFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenColor.fromArray( extension.sheenColorFactor );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenRoughness = extension.sheenRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.sheenColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenColorMap', extension.sheenColorTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n\t\tif ( extension.thicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'thicknessMap', extension.thicknessTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || 0;\n\n\t\tconst colorArray = extension.attenuationColor || [ 1, 1, 1 ];\n\t\tmaterialParams.attenuationColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n\t\tif ( extension.specularTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularIntensityMap', extension.specularTexture ) );\n\n\t\t}\n\n\t\tconst colorArray = extension.specularColorFactor || [ 1, 1, 1 ];\n\t\tmaterialParams.specularColor = new Color( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ] );\n\n\t\tif ( extension.specularColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularColorMap', extension.specularColorTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\tconst source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\tif ( transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Archived/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n\n\tconstructor( params ) {\n\n\t\tsuper();\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tconst specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.roughness += geometryRoughness;',\n\t\t\t'material.roughness = min( material.roughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tconst uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( const uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n\n\t\tthis.specularGlossinessParams = [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'normalMapType',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity'\n\t\t];\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn GLTFMeshStandardSGMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst pending = [];\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\tcreateMaterial( materialParams ) {\n\n\t\tconst material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\tmaterial.fog = true;\n\n\t\tmaterial.color = materialParams.color;\n\n\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\tmaterial.lightMap = null;\n\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\tmaterial.emissive = materialParams.emissive;\n\t\tmaterial.emissiveIntensity = materialParams.emissiveIntensity === undefined ? 1.0 : materialParams.emissiveIntensity;\n\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\tmaterial.bumpScale = 1;\n\n\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\tmaterial.displacementMap = null;\n\t\tmaterial.displacementScale = 1;\n\t\tmaterial.displacementBias = 0;\n\n\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\tmaterial.specular = materialParams.specular;\n\n\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\tmaterial.alphaMap = null;\n\n\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\tmaterial.envMapIntensity = 1.0;\n\n\t\treturn material;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer;\n\t\tconst values = this.sampleValues;\n\t\tconst stride = this.valueSize;\n\n\t\tconst stride2 = stride * 2;\n\t\tconst stride3 = stride * 3;\n\n\t\tconst td = t1 - t0;\n\n\t\tconst p = ( t - t0 ) / td;\n\t\tconst pp = p * p;\n\t\tconst ppp = pp * p;\n\n\t\tconst offset1 = i1 * stride3;\n\t\tconst offset0 = offset1 - stride3;\n\n\t\tconst s2 = - 2 * ppp + 3 * pp;\n\t\tconst s3 = ppp - pp;\n\t\tconst s0 = 1 - s2;\n\t\tconst s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = super.interpolate_( i1, t0, t, t1 );\n\n\t\t_q.fromArray( result ).normalize().toArray( result );\n\n\t\treturn result;\n\n\t}\n\n}\n\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\tlet hasMorphColor = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\t\tif ( target.COLOR_0 !== undefined ) hasMorphColor = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal && hasMorphColor ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal && ! hasMorphColor ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\tconst pendingColorAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphColor ) {\n\n\t\t\tconst pendingAccessor = target.COLOR_0 !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.COLOR_0 )\n\t\t\t\t: geometry.attributes.color;\n\n\t\t\tpendingColorAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors ),\n\t\tPromise.all( pendingColorAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\t\tconst morphColors = accessors[ 2 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tif ( hasMorphColor ) geometry.morphAttributes.color = morphColors;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\nfunction getImageURIMimeType( uri ) {\n\n\tif ( uri.search( /\\.jpe?g($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/jpeg/ ) === 0 ) return 'image/jpeg';\n\tif ( uri.search( /\\.webp($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/webp/ ) === 0 ) return 'image/webp';\n\n\treturn 'image/png';\n\n}\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.sourceCache = {};\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\n\t\tconst isSafari = /^((?!chrome|android).)*safari/i.test( navigator.userAgent ) === true;\n\t\tconst isFirefox = navigator.userAgent.indexOf( 'Firefox' ) > - 1;\n\t\tconst firefoxVersion = isFirefox ? navigator.userAgent.match( /Firefox\\/([0-9]+)\\./ )[ 1 ] : - 1;\n\n\t\tif ( typeof createImageBitmap === 'undefined' || isSafari || ( isFirefox && firefoxVersion < 98 ) ) {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\t// Propagates mappings to the cloned object, prevents mappings on the\n\t\t// original object from being lost.\n\t\tconst updateMappings = ( original, clone ) => {\n\n\t\t\tconst mappings = this.associations.get( original );\n\t\t\tif ( mappings != null ) {\n\n\t\t\t\tthis.associations.set( clone, mappings );\n\n\t\t\t}\n\n\t\t\tfor ( const [ i, child ] of original.children.entries() ) {\n\n\t\t\t\tupdateMappings( child, clone.children[ i ] );\n\n\t\t\t}\n\n\t\t};\n\n\t\tupdateMappings( object, ref );\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadAnimation && ext.loadAnimation( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( LoaderUtils.resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceIndex = textureDef.source;\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( sourceDef.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( sourceDef.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, sourceIndex, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst cacheKey = ( sourceDef.uri || sourceDef.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst promise = this.loadImageSource( sourceIndex, loader ).then( function ( texture ) {\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, { textures: textureIndex } );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\tloadImageSource( sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tif ( this.sourceCache[ sourceIndex ] !== undefined ) {\n\n\t\t\treturn this.sourceCache[ sourceIndex ].then( ( texture ) => texture.clone() );\n\n\t\t}\n\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = sourceDef.uri || '';\n\t\tlet isObjectURL = false;\n\n\t\tif ( sourceDef.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', sourceDef.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: sourceDef.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( sourceDef.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( LoaderUtils.resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType( sourceDef.uri );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function ( error ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\tthrow error;\n\n\t\t} );\n\n\t\tthis.sourceCache[ sourceIndex ] = promise;\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise<Texture>}\n\t */\n\tassignTexture( materialParams, mapName, mapDef, encoding ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = encoding;\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useDerivativeTangents = geometry.attributes.tangent === undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useDerivativeTangents || useVertexColors || useFlatShading ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useDerivativeTangents ) cacheKey += 'derivative-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\n\t\t\t\tif ( useDerivativeTangents ) {\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tconst sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = materialDef.normalTexture.scale;\n\n\t\t\t\tmaterialParams.normalScale.set( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture, sRGBEncoding ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tlet material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { materials: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tparser.associations.set( meshes[ i ], {\n\t\t\t\t\tmeshes: meshIndex,\n\t\t\t\t\tprimitives: i\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tparser.associations.set( group, { meshes: meshIndex } );\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\tconst interpolantType = ( this instanceof QuaternionKeyframeTrack ) ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n\n\t\t\t\t\t\t\treturn new interpolantType( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tconst pending = [];\n\n\t\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t\t} );\n\n\t\t\tif ( meshPromise ) {\n\n\t\t\t\tpending.push( meshPromise );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ! parser.associations.has( node ) ) {\n\n\t\t\t\tparser.associations.set( node, {} );\n\n\t\t\t}\n\n\t\t\tparser.associations.get( node ).nodes = nodeIndex;\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierarchy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t// Removes dangling associations, associations that reference a node that\n\t\t\t// didn't make it into the scene.\n\t\t\tconst reduceAssociations = ( node ) => {\n\n\t\t\t\tconst reducedAssociations = new Map();\n\n\t\t\t\tfor ( const [ key, value ] of parser.associations ) {\n\n\t\t\t\t\tif ( key instanceof Material || key instanceof Texture ) {\n\n\t\t\t\t\t\treducedAssociations.set( key, value );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tnode.traverse( ( node ) => {\n\n\t\t\t\t\tconst mappings = parser.associations.get( node );\n\n\t\t\t\t\tif ( mappings != null ) {\n\n\t\t\t\t\t\treducedAssociations.set( node, mappings );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\treturn reducedAssociations;\n\n\t\t\t};\n\n\t\t\tparser.associations = reduceAssociations( scene );\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\nfunction buildNodeHierarchy( nodeId, parentObject, json, parser ) {\n\n\tconst nodeDef = json.nodes[ nodeId ];\n\n\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t// build skeleton here as well\n\n\t\tlet skinEntry;\n\n\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\tskinEntry = skin;\n\n\t\t\tconst pendingJoints = [];\n\n\t\t\tfor ( let i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingJoints );\n\n\t\t} ).then( function ( jointNodes ) {\n\n\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\tconst bones = [];\n\t\t\t\tconst boneInverses = [];\n\n\t\t\t\tfor ( let j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst jointNode = jointNodes[ j ];\n\n\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t} );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t} ).then( function ( node ) {\n\n\t\t// build node hierachy\n\n\t\tparentObject.add( node );\n\n\t\tconst pending = [];\n\n\t\tif ( nodeDef.children ) {\n\n\t\t\tconst children = nodeDef.children;\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tpending.push( buildNodeHierarchy( child, node, json, parser ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tlet index = geometry.getIndex();\n\n\t// generate index if not present\n\n\tif ( index === null ) {\n\n\t\tconst indices = [];\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\tindices.push( i );\n\n\t\t\t}\n\n\t\t\tgeometry.setIndex( indices );\n\t\t\tindex = geometry.getIndex();\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst numberOfTriangles = index.count - 2;\n\tconst newIndices = [];\n\n\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t// gl.TRIANGLE_FAN\n\n\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t}\n\n\t} else {\n\n\t\t// gl.TRIANGLE_STRIP\n\n\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t} else {\n\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t}\n\n\t// build final geometry\n\n\tconst newGeometry = geometry.clone();\n\tnewGeometry.setIndex( newIndices );\n\n\treturn newGeometry;\n\n}\n\nexport { GLTFLoader };\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tMaterial,\n\tMesh,\n\tMeshPhongMaterial,\n\tPoints,\n\tPointsMaterial,\n\tVector3,\n\tColor\n} from 'three';\n\n// o object_name | g group_name\nconst _object_pattern = /^[og]\\s*(.+)?/;\n// mtllib file_reference\nconst _material_library_pattern = /^mtllib /;\n// usemtl material_name\nconst _material_use_pattern = /^usemtl /;\n// usemap map_name\nconst _map_use_pattern = /^usemap /;\nconst _face_vertex_data_separator_pattern = /\\s+/;\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _ab = new Vector3();\nconst _cb = new Vector3();\n\nconst _color = new Color();\n\nfunction ParserState() {\n\n\tconst state = {\n\t\tobjects: [],\n\t\tobject: {},\n\n\t\tvertices: [],\n\t\tnormals: [],\n\t\tcolors: [],\n\t\tuvs: [],\n\n\t\tmaterials: {},\n\t\tmaterialLibraries: [],\n\n\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\tthis.object.name = name;\n\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t\tthis.object = {\n\t\t\t\tname: name || '',\n\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\tgeometry: {\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\tuvs: [],\n\t\t\t\t\thasUVIndices: false\n\t\t\t\t},\n\t\t\t\tmaterials: [],\n\t\t\t\tsmooth: true,\n\n\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\tconst previous = this._finalize( false );\n\n\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst material = {\n\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\tconst cloned = {\n\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\treturn material;\n\n\t\t\t\t},\n\n\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t},\n\n\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\tfor ( let mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Inherit previous objects material.\n\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\tconst declared = previousMaterial.clone( 0 );\n\t\t\t\tdeclared.inherited = true;\n\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t}\n\n\t\t\tthis.objects.push( this.object );\n\n\t\t},\n\n\t\tfinalize: function () {\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t},\n\n\t\taddVertex: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddVertexPoint: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddVertexLine: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.normals;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddFaceNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\t_vA.fromArray( src, a );\n\t\t\t_vB.fromArray( src, b );\n\t\t\t_vC.fromArray( src, c );\n\n\t\t\t_cb.subVectors( _vC, _vB );\n\t\t\t_ab.subVectors( _vA, _vB );\n\t\t\t_cb.cross( _ab );\n\n\t\t\t_cb.normalize();\n\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\n\t\t},\n\n\t\taddColor: function ( a, b, c ) {\n\n\t\t\tconst src = this.colors;\n\t\t\tconst dst = this.object.geometry.colors;\n\n\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddUV: function ( a, b, c ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t},\n\n\t\taddDefaultUV: function () {\n\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\n\t\t},\n\n\t\taddUVLine: function ( a ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t},\n\n\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tlet ia = this.parseVertexIndex( a, vLen );\n\t\t\tlet ib = this.parseVertexIndex( b, vLen );\n\t\t\tlet ic = this.parseVertexIndex( c, vLen );\n\n\t\t\tthis.addVertex( ia, ib, ic );\n\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t// normals\n\n\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\tconst nLen = this.normals.length;\n\n\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\t\t\t\tib = this.parseNormalIndex( nb, nLen );\n\t\t\t\tic = this.parseNormalIndex( nc, nLen );\n\n\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t} else {\n\n\t\t\t\tthis.addFaceNormal( ia, ib, ic );\n\n\t\t\t}\n\n\t\t\t// uvs\n\n\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\n\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\tthis.object.geometry.hasUVIndices = true;\n\n\t\t\t} else {\n\n\t\t\t\t// add placeholder values (for inconsistent face definitions)\n\n\t\t\t\tthis.addDefaultUV();\n\n\t\t\t}\n\n\t\t},\n\n\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tconst index = this.parseVertexIndex( vertices[ vi ], vLen );\n\n\t\t\t\tthis.addVertexPoint( index );\n\t\t\t\tthis.addColor( index );\n\n\t\t\t}\n\n\t\t},\n\n\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\tconst vLen = this.vertices.length;\n\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t}\n\n\t\t\tfor ( let uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tstate.startObject( '', false );\n\n\treturn state;\n\n}\n\n//\n\nclass OBJLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.materials = null;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterials( materials ) {\n\n\t\tthis.materials = materials;\n\n\t\treturn this;\n\n\t}\n\n\tparse( text ) {\n\n\t\tconst state = new ParserState();\n\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t}\n\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t}\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet result = [];\n\n\t\tfor ( let i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\tconst line = lines[ i ].trimStart();\n\n\t\t\tif ( line.length === 0 ) continue;\n\n\t\t\tconst lineFirstChar = line.charAt( 0 );\n\n\t\t\t// @todo invoke passed in handler if any\n\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\tconst data = line.split( _face_vertex_data_separator_pattern );\n\n\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( data.length >= 7 ) {\n\n\t\t\t\t\t\t\t_color.setRGB(\n\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\t\t\t\t\t\t\t).convertSRGBToLinear();\n\n\t\t\t\t\t\t\tstate.colors.push( _color.r, _color.g, _color.b );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\n\n\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst vertexData = lineData.split( _face_vertex_data_separator_pattern );\n\t\t\t\tconst faceVertices = [];\n\n\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\tfor ( let j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst vertex = vertexData[ j ];\n\n\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\tconst vertexParts = vertex.split( '/' );\n\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\tconst v1 = faceVertices[ 0 ];\n\n\t\t\t\tfor ( let j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\tconst v2 = faceVertices[ j ];\n\t\t\t\t\tconst v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\tconst lineParts = line.substring( 1 ).trim().split( ' ' );\n\t\t\t\tlet lineVertices = [];\n\t\t\t\tconst lineUVs = [];\n\n\t\t\t\tif ( line.indexOf( '/' ) === - 1 ) {\n\n\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\tconst parts = lineParts[ li ].split( '/' );\n\n\t\t\t\t\t\tif ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\tif ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst pointData = lineData.split( ' ' );\n\n\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t} else if ( ( result = _object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t// o object_name\n\t\t\t\t// or\n\t\t\t\t// g group_name\n\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t// let name = result[ 0 ].slice( 1 ).trim();\n\t\t\t\tconst name = ( ' ' + result[ 0 ].slice( 1 ).trim() ).slice( 1 );\n\n\t\t\t\tstate.startObject( name );\n\n\t\t\t} else if ( _material_use_pattern.test( line ) ) {\n\n\t\t\t\t// material\n\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t} else if ( _material_library_pattern.test( line ) ) {\n\n\t\t\t\t// mtl file\n\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t} else if ( _map_use_pattern.test( line ) ) {\n\n\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\n\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\n\n\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t// smooth shading\n\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\tconst value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst material = state.object.currentMaterial();\n\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t} else {\n\n\t\t\t\t// Handle null terminated files without exception\n\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.finalize();\n\n\t\tconst container = new Group();\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\tconst hasPrimitives = ! ( state.objects.length === 1 && state.objects[ 0 ].geometry.vertices.length === 0 );\n\n\t\tif ( hasPrimitives === true ) {\n\n\t\t\tfor ( let i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tconst object = state.objects[ i ];\n\t\t\t\tconst geometry = object.geometry;\n\t\t\t\tconst materials = object.materials;\n\t\t\t\tconst isLine = ( geometry.type === 'Line' );\n\t\t\t\tconst isPoints = ( geometry.type === 'Points' );\n\t\t\t\tlet hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tconst createdMaterials = [];\n\n\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n\t\t\t\t\tlet material = state.materials[ materialHash ];\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialLine = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\n\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud\n\n\t\t\tif ( state.vertices.length > 0 ) {\n\n\t\t\t\tconst material = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( state.vertices, 3 ) );\n\n\t\t\t\tif ( state.colors.length > 0 && state.colors[ 0 ] !== undefined ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( state.colors, 3 ) );\n\t\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst points = new Points( buffergeometry, material );\n\t\t\t\tcontainer.add( points );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn container;\n\n\t}\n\n}\n\nexport { OBJLoader };\n","import {\n\tCompressedTextureLoader,\n\tRGBAFormat,\n\tRGBA_S3TC_DXT3_Format,\n\tRGBA_S3TC_DXT5_Format,\n\tRGB_ETC1_Format,\n\tRGB_S3TC_DXT1_Format\n} from 'three';\n\nclass DDSLoader extends CompressedTextureLoader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tparse( buffer, loadMipmaps ) {\n\n\t\tconst dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\n\n\t\t// Adapted from @toji's DDS utils\n\t\t// https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\n\n\t\t// All values and structures referenced from:\n\t\t// http://msdn.microsoft.com/en-us/library/bb943991.aspx/\n\n\t\tconst DDS_MAGIC = 0x20534444;\n\n\t\t// const DDSD_CAPS = 0x1;\n\t\t// const DDSD_HEIGHT = 0x2;\n\t\t// const DDSD_WIDTH = 0x4;\n\t\t// const DDSD_PITCH = 0x8;\n\t\t// const DDSD_PIXELFORMAT = 0x1000;\n\t\tconst DDSD_MIPMAPCOUNT = 0x20000;\n\t\t// const DDSD_LINEARSIZE = 0x80000;\n\t\t// const DDSD_DEPTH = 0x800000;\n\n\t\t// const DDSCAPS_COMPLEX = 0x8;\n\t\t// const DDSCAPS_MIPMAP = 0x400000;\n\t\t// const DDSCAPS_TEXTURE = 0x1000;\n\n\t\tconst DDSCAPS2_CUBEMAP = 0x200;\n\t\tconst DDSCAPS2_CUBEMAP_POSITIVEX = 0x400;\n\t\tconst DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800;\n\t\tconst DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000;\n\t\tconst DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000;\n\t\tconst DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000;\n\t\tconst DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000;\n\t\t// const DDSCAPS2_VOLUME = 0x200000;\n\n\t\t// const DDPF_ALPHAPIXELS = 0x1;\n\t\t// const DDPF_ALPHA = 0x2;\n\t\t// const DDPF_FOURCC = 0x4;\n\t\t// const DDPF_RGB = 0x40;\n\t\t// const DDPF_YUV = 0x200;\n\t\t// const DDPF_LUMINANCE = 0x20000;\n\n\t\tfunction fourCCToInt32( value ) {\n\n\t\t\treturn value.charCodeAt( 0 ) +\n\t\t\t\t( value.charCodeAt( 1 ) << 8 ) +\n\t\t\t\t( value.charCodeAt( 2 ) << 16 ) +\n\t\t\t\t( value.charCodeAt( 3 ) << 24 );\n\n\t\t}\n\n\t\tfunction int32ToFourCC( value ) {\n\n\t\t\treturn String.fromCharCode(\n\t\t\t\tvalue & 0xff,\n\t\t\t\t( value >> 8 ) & 0xff,\n\t\t\t\t( value >> 16 ) & 0xff,\n\t\t\t\t( value >> 24 ) & 0xff\n\t\t\t);\n\n\t\t}\n\n\t\tfunction loadARGBMip( buffer, dataOffset, width, height ) {\n\n\t\t\tconst dataLength = width * height * 4;\n\t\t\tconst srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\n\t\t\tconst byteArray = new Uint8Array( dataLength );\n\t\t\tlet dst = 0;\n\t\t\tlet src = 0;\n\t\t\tfor ( let y = 0; y < height; y ++ ) {\n\n\t\t\t\tfor ( let x = 0; x < width; x ++ ) {\n\n\t\t\t\t\tconst b = srcBuffer[ src ]; src ++;\n\t\t\t\t\tconst g = srcBuffer[ src ]; src ++;\n\t\t\t\t\tconst r = srcBuffer[ src ]; src ++;\n\t\t\t\t\tconst a = srcBuffer[ src ]; src ++;\n\t\t\t\t\tbyteArray[ dst ] = r; dst ++;\t//r\n\t\t\t\t\tbyteArray[ dst ] = g; dst ++;\t//g\n\t\t\t\t\tbyteArray[ dst ] = b; dst ++;\t//b\n\t\t\t\t\tbyteArray[ dst ] = a; dst ++;\t//a\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn byteArray;\n\n\t\t}\n\n\t\tconst FOURCC_DXT1 = fourCCToInt32( 'DXT1' );\n\t\tconst FOURCC_DXT3 = fourCCToInt32( 'DXT3' );\n\t\tconst FOURCC_DXT5 = fourCCToInt32( 'DXT5' );\n\t\tconst FOURCC_ETC1 = fourCCToInt32( 'ETC1' );\n\n\t\tconst headerLengthInt = 31; // The header length in 32 bit ints\n\n\t\t// Offsets into the header array\n\n\t\tconst off_magic = 0;\n\n\t\tconst off_size = 1;\n\t\tconst off_flags = 2;\n\t\tconst off_height = 3;\n\t\tconst off_width = 4;\n\n\t\tconst off_mipmapCount = 7;\n\n\t\t// const off_pfFlags = 20;\n\t\tconst off_pfFourCC = 21;\n\t\tconst off_RGBBitCount = 22;\n\t\tconst off_RBitMask = 23;\n\t\tconst off_GBitMask = 24;\n\t\tconst off_BBitMask = 25;\n\t\tconst off_ABitMask = 26;\n\n\t\t// const off_caps = 27;\n\t\tconst off_caps2 = 28;\n\t\t// const off_caps3 = 29;\n\t\t// const off_caps4 = 30;\n\n\t\t// Parse header\n\n\t\tconst header = new Int32Array( buffer, 0, headerLengthInt );\n\n\t\tif ( header[ off_magic ] !== DDS_MAGIC ) {\n\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Invalid magic number in DDS header.' );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tlet blockBytes;\n\n\t\tconst fourCC = header[ off_pfFourCC ];\n\n\t\tlet isRGBAUncompressed = false;\n\n\t\tswitch ( fourCC ) {\n\n\t\t\tcase FOURCC_DXT1:\n\n\t\t\t\tblockBytes = 8;\n\t\t\t\tdds.format = RGB_S3TC_DXT1_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT3:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = RGBA_S3TC_DXT3_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_DXT5:\n\n\t\t\t\tblockBytes = 16;\n\t\t\t\tdds.format = RGBA_S3TC_DXT5_Format;\n\t\t\t\tbreak;\n\n\t\t\tcase FOURCC_ETC1:\n\n\t\t\t\tblockBytes = 8;\n\t\t\t\tdds.format = RGB_ETC1_Format;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tif ( header[ off_RGBBitCount ] === 32\n\t\t\t\t\t&& header[ off_RBitMask ] & 0xff0000\n\t\t\t\t\t&& header[ off_GBitMask ] & 0xff00\n\t\t\t\t\t&& header[ off_BBitMask ] & 0xff\n\t\t\t\t\t&& header[ off_ABitMask ] & 0xff000000 ) {\n\n\t\t\t\t\tisRGBAUncompressed = true;\n\t\t\t\t\tblockBytes = 64;\n\t\t\t\t\tdds.format = RGBAFormat;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC( fourCC ) );\n\t\t\t\t\treturn dds;\n\n\t\t\t\t}\n\n\t\t}\n\n\t\tdds.mipmapCount = 1;\n\n\t\tif ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\n\n\t\t\tdds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\n\n\t\t}\n\n\t\tconst caps2 = header[ off_caps2 ];\n\t\tdds.isCubemap = caps2 & DDSCAPS2_CUBEMAP ? true : false;\n\t\tif ( dds.isCubemap && (\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEX ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEY ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ ) ||\n\t\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ )\n\t\t) ) {\n\n\t\t\tconsole.error( 'THREE.DDSLoader.parse: Incomplete cubemap faces' );\n\t\t\treturn dds;\n\n\t\t}\n\n\t\tdds.width = header[ off_width ];\n\t\tdds.height = header[ off_height ];\n\n\t\tlet dataOffset = header[ off_size ] + 4;\n\n\t\t// Extract mipmaps buffers\n\n\t\tconst faces = dds.isCubemap ? 6 : 1;\n\n\t\tfor ( let face = 0; face < faces; face ++ ) {\n\n\t\t\tlet width = dds.width;\n\t\t\tlet height = dds.height;\n\n\t\t\tfor ( let i = 0; i < dds.mipmapCount; i ++ ) {\n\n\t\t\t\tlet byteArray, dataLength;\n\n\t\t\t\tif ( isRGBAUncompressed ) {\n\n\t\t\t\t\tbyteArray = loadARGBMip( buffer, dataOffset, width, height );\n\t\t\t\t\tdataLength = byteArray.length;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\n\t\t\t\t\tbyteArray = new Uint8Array( buffer, dataOffset, dataLength );\n\n\t\t\t\t}\n\n\t\t\t\tconst mipmap = { 'data': byteArray, 'width': width, 'height': height };\n\t\t\t\tdds.mipmaps.push( mipmap );\n\n\t\t\t\tdataOffset += dataLength;\n\n\t\t\t\twidth = Math.max( width >> 1, 1 );\n\t\t\t\theight = Math.max( height >> 1, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn dds;\n\n\t}\n\n}\n\nexport { DDSLoader };\n","class LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nexport { DefaultLoadingManager, LoadingManager };\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tLoader,\n\tLoaderUtils,\n\tColor\n} from 'three';\n\n/**\n * Description: A THREE loader for PLY ASCII files (known as the Polygon\n * File Format or the Stanford Triangle Format).\n *\n * Limitations: ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *\tconst loader = new PLYLoader();\n *\tloader.load('./models/ply/ascii/dolphins.ply', function (geometry) {\n *\n *\t\tscene.add( new THREE.Mesh( geometry ) );\n *\n *\t} );\n *\n * If the PLY file uses non standard property names, they can be mapped while\n * loading. For example, the following maps the properties\n * “diffuse_(red|green|blue)” in the file to standard color names.\n *\n * loader.setPropertyNameMapping( {\n *\tdiffuse_red: 'red',\n *\tdiffuse_green: 'green',\n *\tdiffuse_blue: 'blue'\n * } );\n *\n */\n\nconst _color = new Color();\n\nclass PLYLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.propertyNameMapping = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetPropertyNameMapping( mapping ) {\n\n\t\tthis.propertyNameMapping = mapping;\n\n\t}\n\n\tparse( data ) {\n\n\t\tfunction parseHeader( data ) {\n\n\t\t\tconst patternHeader = /^ply([\\s\\S]*)end_header(\\r\\n|\\r|\\n)/;\n\t\t\tlet headerText = '';\n\t\t\tlet headerLength = 0;\n\t\t\tconst result = patternHeader.exec( data );\n\n\t\t\tif ( result !== null ) {\n\n\t\t\t\theaderText = result[ 1 ];\n\t\t\t\theaderLength = new Blob( [ result[ 0 ] ] ).size;\n\n\t\t\t}\n\n\t\t\tconst header = {\n\t\t\t\tcomments: [],\n\t\t\t\telements: [],\n\t\t\t\theaderLength: headerLength,\n\t\t\t\tobjInfo: ''\n\t\t\t};\n\n\t\t\tconst lines = headerText.split( /\\r\\n|\\r|\\n/ );\n\t\t\tlet currentElement;\n\n\t\t\tfunction make_ply_element_property( propertValues, propertyNameMapping ) {\n\n\t\t\t\tconst property = { type: propertValues[ 0 ] };\n\n\t\t\t\tif ( property.type === 'list' ) {\n\n\t\t\t\t\tproperty.name = propertValues[ 3 ];\n\t\t\t\t\tproperty.countType = propertValues[ 1 ];\n\t\t\t\t\tproperty.itemType = propertValues[ 2 ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tproperty.name = propertValues[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( property.name in propertyNameMapping ) {\n\n\t\t\t\t\tproperty.name = propertyNameMapping[ property.name ];\n\n\t\t\t\t}\n\n\t\t\t\treturn property;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\t\t\tlet line = lines[ i ];\n\t\t\t\tline = line.trim();\n\n\t\t\t\tif ( line === '' ) continue;\n\n\t\t\t\tconst lineValues = line.split( /\\s+/ );\n\t\t\t\tconst lineType = lineValues.shift();\n\t\t\t\tline = lineValues.join( ' ' );\n\n\t\t\t\tswitch ( lineType ) {\n\n\t\t\t\t\tcase 'format':\n\n\t\t\t\t\t\theader.format = lineValues[ 0 ];\n\t\t\t\t\t\theader.version = lineValues[ 1 ];\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'comment':\n\n\t\t\t\t\t\theader.comments.push( line );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'element':\n\n\t\t\t\t\t\tif ( currentElement !== undefined ) {\n\n\t\t\t\t\t\t\theader.elements.push( currentElement );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentElement = {};\n\t\t\t\t\t\tcurrentElement.name = lineValues[ 0 ];\n\t\t\t\t\t\tcurrentElement.count = parseInt( lineValues[ 1 ] );\n\t\t\t\t\t\tcurrentElement.properties = [];\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'property':\n\n\t\t\t\t\t\tcurrentElement.properties.push( make_ply_element_property( lineValues, scope.propertyNameMapping ) );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'obj_info':\n\n\t\t\t\t\t\theader.objInfo = line;\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.log( 'unhandled', lineType, lineValues );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( currentElement !== undefined ) {\n\n\t\t\t\theader.elements.push( currentElement );\n\n\t\t\t}\n\n\t\t\treturn header;\n\n\t\t}\n\n\t\tfunction parseASCIINumber( n, type ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'char': case 'uchar': case 'short': case 'ushort': case 'int': case 'uint':\n\t\t\t\tcase 'int8': case 'uint8': case 'int16': case 'uint16': case 'int32': case 'uint32':\n\n\t\t\t\t\treturn parseInt( n );\n\n\t\t\t\tcase 'float': case 'double': case 'float32': case 'float64':\n\n\t\t\t\t\treturn parseFloat( n );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parseASCIIElement( properties, line ) {\n\n\t\t\tconst values = line.split( /\\s+/ );\n\n\t\t\tconst element = {};\n\n\t\t\tfor ( let i = 0; i < properties.length; i ++ ) {\n\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\n\n\t\t\t\t\tconst list = [];\n\t\t\t\t\tconst n = parseASCIINumber( values.shift(), properties[ i ].countType );\n\n\t\t\t\t\tfor ( let j = 0; j < n; j ++ ) {\n\n\t\t\t\t\t\tlist.push( parseASCIINumber( values.shift(), properties[ i ].itemType ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\telement[ properties[ i ].name ] = list;\n\n\t\t\t\t} else {\n\n\t\t\t\t\telement[ properties[ i ].name ] = parseASCIINumber( values.shift(), properties[ i ].type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn element;\n\n\t\t}\n\n\t\tfunction parseASCII( data, header ) {\n\n\t\t\t// PLY ascii format specification, as per http://en.wikipedia.org/wiki/PLY_(file_format)\n\n\t\t\tconst buffer = {\n\t\t\t\tindices: [],\n\t\t\t\tvertices: [],\n\t\t\t\tnormals: [],\n\t\t\t\tuvs: [],\n\t\t\t\tfaceVertexUvs: [],\n\t\t\t\tcolors: []\n\t\t\t};\n\n\t\t\tlet result;\n\n\t\t\tconst patternBody = /end_header\\s([\\s\\S]*)$/;\n\t\t\tlet body = '';\n\t\t\tif ( ( result = patternBody.exec( data ) ) !== null ) {\n\n\t\t\t\tbody = result[ 1 ];\n\n\t\t\t}\n\n\t\t\tconst lines = body.split( /\\r\\n|\\r|\\n/ );\n\t\t\tlet currentElement = 0;\n\t\t\tlet currentElementCount = 0;\n\n\t\t\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\t\t\tlet line = lines[ i ];\n\t\t\t\tline = line.trim();\n\t\t\t\tif ( line === '' ) {\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tif ( currentElementCount >= header.elements[ currentElement ].count ) {\n\n\t\t\t\t\tcurrentElement ++;\n\t\t\t\t\tcurrentElementCount = 0;\n\n\t\t\t\t}\n\n\t\t\t\tconst element = parseASCIIElement( header.elements[ currentElement ].properties, line );\n\n\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\n\n\t\t\t\tcurrentElementCount ++;\n\n\t\t\t}\n\n\t\t\treturn postProcess( buffer );\n\n\t\t}\n\n\t\tfunction postProcess( buffer ) {\n\n\t\t\tlet geometry = new BufferGeometry();\n\n\t\t\t// mandatory buffer data\n\n\t\t\tif ( buffer.indices.length > 0 ) {\n\n\t\t\t\tgeometry.setIndex( buffer.indices );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( buffer.vertices, 3 ) );\n\n\t\t\t// optional buffer data\n\n\t\t\tif ( buffer.normals.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( buffer.normals, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.uvs.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.uvs, 2 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.colors.length > 0 ) {\n\n\t\t\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( buffer.colors, 3 ) );\n\n\t\t\t}\n\n\t\t\tif ( buffer.faceVertexUvs.length > 0 ) {\n\n\t\t\t\tgeometry = geometry.toNonIndexed();\n\t\t\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( buffer.faceVertexUvs, 2 ) );\n\n\t\t\t}\n\n\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction handleElement( buffer, elementName, element ) {\n\n\t\t\tfunction findAttrName( names ) {\n\n\t\t\t\tfor ( let i = 0, l = names.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst name = names[ i ];\n\n\t\t\t\t\tif ( name in element ) return name;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tconst attrX = findAttrName( [ 'x', 'px', 'posx' ] ) || 'x';\n\t\t\tconst attrY = findAttrName( [ 'y', 'py', 'posy' ] ) || 'y';\n\t\t\tconst attrZ = findAttrName( [ 'z', 'pz', 'posz' ] ) || 'z';\n\t\t\tconst attrNX = findAttrName( [ 'nx', 'normalx' ] );\n\t\t\tconst attrNY = findAttrName( [ 'ny', 'normaly' ] );\n\t\t\tconst attrNZ = findAttrName( [ 'nz', 'normalz' ] );\n\t\t\tconst attrS = findAttrName( [ 's', 'u', 'texture_u', 'tx' ] );\n\t\t\tconst attrT = findAttrName( [ 't', 'v', 'texture_v', 'ty' ] );\n\t\t\tconst attrR = findAttrName( [ 'red', 'diffuse_red', 'r', 'diffuse_r' ] );\n\t\t\tconst attrG = findAttrName( [ 'green', 'diffuse_green', 'g', 'diffuse_g' ] );\n\t\t\tconst attrB = findAttrName( [ 'blue', 'diffuse_blue', 'b', 'diffuse_b' ] );\n\n\t\t\tif ( elementName === 'vertex' ) {\n\n\t\t\t\tbuffer.vertices.push( element[ attrX ], element[ attrY ], element[ attrZ ] );\n\n\t\t\t\tif ( attrNX !== null && attrNY !== null && attrNZ !== null ) {\n\n\t\t\t\t\tbuffer.normals.push( element[ attrNX ], element[ attrNY ], element[ attrNZ ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( attrS !== null && attrT !== null ) {\n\n\t\t\t\t\tbuffer.uvs.push( element[ attrS ], element[ attrT ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( attrR !== null && attrG !== null && attrB !== null ) {\n\n\t\t\t\t\t_color.setRGB(\n\t\t\t\t\t\telement[ attrR ] / 255.0,\n\t\t\t\t\t\telement[ attrG ] / 255.0,\n\t\t\t\t\t\telement[ attrB ] / 255.0\n\t\t\t\t\t).convertSRGBToLinear();\n\n\t\t\t\t\tbuffer.colors.push( _color.r, _color.g, _color.b );\n\n\t\t\t\t}\n\n\t\t\t} else if ( elementName === 'face' ) {\n\n\t\t\t\tconst vertex_indices = element.vertex_indices || element.vertex_index; // issue #9338\n\t\t\t\tconst texcoord = element.texcoord;\n\n\t\t\t\tif ( vertex_indices.length === 3 ) {\n\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 2 ] );\n\n\t\t\t\t\tif ( texcoord && texcoord.length === 6 ) {\n\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 0 ], texcoord[ 1 ] );\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 2 ], texcoord[ 3 ] );\n\t\t\t\t\t\tbuffer.faceVertexUvs.push( texcoord[ 4 ], texcoord[ 5 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( vertex_indices.length === 4 ) {\n\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 3 ] );\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 1 ], vertex_indices[ 2 ], vertex_indices[ 3 ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction binaryRead( dataview, at, type, little_endian ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\t// corespondences for non-specific length types here match rply:\n\t\t\t\tcase 'int8':\t\tcase 'char':\t return [ dataview.getInt8( at ), 1 ];\n\t\t\t\tcase 'uint8':\t\tcase 'uchar':\t return [ dataview.getUint8( at ), 1 ];\n\t\t\t\tcase 'int16':\t\tcase 'short':\t return [ dataview.getInt16( at, little_endian ), 2 ];\n\t\t\t\tcase 'uint16':\tcase 'ushort': return [ dataview.getUint16( at, little_endian ), 2 ];\n\t\t\t\tcase 'int32':\t\tcase 'int':\t\t return [ dataview.getInt32( at, little_endian ), 4 ];\n\t\t\t\tcase 'uint32':\tcase 'uint':\t return [ dataview.getUint32( at, little_endian ), 4 ];\n\t\t\t\tcase 'float32': case 'float':\t return [ dataview.getFloat32( at, little_endian ), 4 ];\n\t\t\t\tcase 'float64': case 'double': return [ dataview.getFloat64( at, little_endian ), 8 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction binaryReadElement( dataview, at, properties, little_endian ) {\n\n\t\t\tconst element = {};\n\t\t\tlet result, read = 0;\n\n\t\t\tfor ( let i = 0; i < properties.length; i ++ ) {\n\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\n\n\t\t\t\t\tconst list = [];\n\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].countType, little_endian );\n\t\t\t\t\tconst n = result[ 0 ];\n\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t\tfor ( let j = 0; j < n; j ++ ) {\n\n\t\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].itemType, little_endian );\n\t\t\t\t\t\tlist.push( result[ 0 ] );\n\t\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\telement[ properties[ i ].name ] = list;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].type, little_endian );\n\t\t\t\t\telement[ properties[ i ].name ] = result[ 0 ];\n\t\t\t\t\tread += result[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn [ element, read ];\n\n\t\t}\n\n\t\tfunction parseBinary( data, header ) {\n\n\t\t\tconst buffer = {\n\t\t\t\tindices: [],\n\t\t\t\tvertices: [],\n\t\t\t\tnormals: [],\n\t\t\t\tuvs: [],\n\t\t\t\tfaceVertexUvs: [],\n\t\t\t\tcolors: []\n\t\t\t};\n\n\t\t\tconst little_endian = ( header.format === 'binary_little_endian' );\n\t\t\tconst body = new DataView( data, header.headerLength );\n\t\t\tlet result, loc = 0;\n\n\t\t\tfor ( let currentElement = 0; currentElement < header.elements.length; currentElement ++ ) {\n\n\t\t\t\tfor ( let currentElementCount = 0; currentElementCount < header.elements[ currentElement ].count; currentElementCount ++ ) {\n\n\t\t\t\t\tresult = binaryReadElement( body, loc, header.elements[ currentElement ].properties, little_endian );\n\t\t\t\t\tloc += result[ 1 ];\n\t\t\t\t\tconst element = result[ 0 ];\n\n\t\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn postProcess( buffer );\n\n\t\t}\n\n\t\t//\n\n\t\tlet geometry;\n\t\tconst scope = this;\n\n\t\tif ( data instanceof ArrayBuffer ) {\n\n\t\t\tconst text = LoaderUtils.decodeText( new Uint8Array( data ) );\n\t\t\tconst header = parseHeader( text );\n\n\t\t\tgeometry = header.format === 'ascii' ? parseASCII( text, header ) : parseBinary( data, header );\n\n\t\t} else {\n\n\t\t\tgeometry = parseASCII( data, parseHeader( data ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nexport { PLYLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tLoader,\n\tLoaderUtils,\n\tVector3\n} from 'three';\n\n/**\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  const loader = new STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: true });\n *  } else { .... }\n *  const mesh = new THREE.Mesh( geometry, material );\n *\n * For ASCII STLs containing multiple solids, each solid is assigned to a different group.\n * Groups can be used to assign a different color by defining an array of materials with the same length of\n * geometry.groups and passing it to the Mesh constructor:\n *\n * const mesh = new THREE.Mesh( geometry, material );\n *\n * For example:\n *\n *  const materials = [];\n *  const nGeometryGroups = geometry.groups.length;\n *\n *  const colorMap = ...; // Some logic to index colors.\n *\n *  for (let i = 0; i < nGeometryGroups; i++) {\n *\n *\t\tconst material = new THREE.MeshPhongMaterial({\n *\t\t\tcolor: colorMap[i],\n *\t\t\twireframe: false\n *\t\t});\n *\n *  }\n *\n *  materials.push(material);\n *  const mesh = new THREE.Mesh(geometry, materials);\n */\n\n\nclass STLLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( data ) {\n\n\t\tfunction isBinary( data ) {\n\n\t\t\tconst reader = new DataView( data );\n\t\t\tconst face_size = ( 32 / 8 * 3 ) + ( ( 32 / 8 * 3 ) * 3 ) + ( 16 / 8 );\n\t\t\tconst n_faces = reader.getUint32( 80, true );\n\t\t\tconst expect = 80 + ( 32 / 8 ) + ( n_faces * face_size );\n\n\t\t\tif ( expect === reader.byteLength ) {\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\t// An ASCII STL data must begin with 'solid ' as the first six bytes.\n\t\t\t// However, ASCII STLs lacking the SPACE after the 'd' are known to be\n\t\t\t// plentiful.  So, check the first 5 bytes for 'solid'.\n\n\t\t\t// Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n\t\t\t// https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n\t\t\t// Search for \"solid\" to start anywhere after those prefixes.\n\n\t\t\t// US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n\t\t\tconst solid = [ 115, 111, 108, 105, 100 ];\n\n\t\t\tfor ( let off = 0; off < 5; off ++ ) {\n\n\t\t\t\t// If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n\n\t\t\t\tif ( matchDataViewAt( solid, reader, off ) ) return false;\n\n\t\t\t}\n\n\t\t\t// Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction matchDataViewAt( query, reader, offset ) {\n\n\t\t\t// Check if each byte in query matches the corresponding byte from the current offset\n\n\t\t\tfor ( let i = 0, il = query.length; i < il; i ++ ) {\n\n\t\t\t\tif ( query[ i ] !== reader.getUint8( offset + i ) ) return false;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction parseBinary( data ) {\n\n\t\t\tconst reader = new DataView( data );\n\t\t\tconst faces = reader.getUint32( 80, true );\n\n\t\t\tlet r, g, b, hasColors = false, colors;\n\t\t\tlet defaultR, defaultG, defaultB, alpha;\n\n\t\t\t// process STL header\n\t\t\t// check for default color in header (\"COLOR=rgba\" sequence).\n\n\t\t\tfor ( let index = 0; index < 80 - 10; index ++ ) {\n\n\t\t\t\tif ( ( reader.getUint32( index, false ) == 0x434F4C4F /*COLO*/ ) &&\n\t\t\t\t\t( reader.getUint8( index + 4 ) == 0x52 /*'R'*/ ) &&\n\t\t\t\t\t( reader.getUint8( index + 5 ) == 0x3D /*'='*/ ) ) {\n\n\t\t\t\t\thasColors = true;\n\t\t\t\t\tcolors = new Float32Array( faces * 3 * 3 );\n\n\t\t\t\t\tdefaultR = reader.getUint8( index + 6 ) / 255;\n\t\t\t\t\tdefaultG = reader.getUint8( index + 7 ) / 255;\n\t\t\t\t\tdefaultB = reader.getUint8( index + 8 ) / 255;\n\t\t\t\t\talpha = reader.getUint8( index + 9 ) / 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst dataOffset = 84;\n\t\t\tconst faceLength = 12 * 4 + 2;\n\n\t\t\tconst geometry = new BufferGeometry();\n\n\t\t\tconst vertices = new Float32Array( faces * 3 * 3 );\n\t\t\tconst normals = new Float32Array( faces * 3 * 3 );\n\n\t\t\tfor ( let face = 0; face < faces; face ++ ) {\n\n\t\t\t\tconst start = dataOffset + face * faceLength;\n\t\t\t\tconst normalX = reader.getFloat32( start, true );\n\t\t\t\tconst normalY = reader.getFloat32( start + 4, true );\n\t\t\t\tconst normalZ = reader.getFloat32( start + 8, true );\n\n\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\tconst packedColor = reader.getUint16( start + 48, true );\n\n\t\t\t\t\tif ( ( packedColor & 0x8000 ) === 0 ) {\n\n\t\t\t\t\t\t// facet has its own unique color\n\n\t\t\t\t\t\tr = ( packedColor & 0x1F ) / 31;\n\t\t\t\t\t\tg = ( ( packedColor >> 5 ) & 0x1F ) / 31;\n\t\t\t\t\t\tb = ( ( packedColor >> 10 ) & 0x1F ) / 31;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tr = defaultR;\n\t\t\t\t\t\tg = defaultG;\n\t\t\t\t\t\tb = defaultB;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 1; i <= 3; i ++ ) {\n\n\t\t\t\t\tconst vertexstart = start + i * 12;\n\t\t\t\t\tconst componentIdx = ( face * 3 * 3 ) + ( ( i - 1 ) * 3 );\n\n\t\t\t\t\tvertices[ componentIdx ] = reader.getFloat32( vertexstart, true );\n\t\t\t\t\tvertices[ componentIdx + 1 ] = reader.getFloat32( vertexstart + 4, true );\n\t\t\t\t\tvertices[ componentIdx + 2 ] = reader.getFloat32( vertexstart + 8, true );\n\n\t\t\t\t\tnormals[ componentIdx ] = normalX;\n\t\t\t\t\tnormals[ componentIdx + 1 ] = normalY;\n\t\t\t\t\tnormals[ componentIdx + 2 ] = normalZ;\n\n\t\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\t\tcolors[ componentIdx ] = r;\n\t\t\t\t\t\tcolors[ componentIdx + 1 ] = g;\n\t\t\t\t\t\tcolors[ componentIdx + 2 ] = b;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new BufferAttribute( normals, 3 ) );\n\n\t\t\tif ( hasColors ) {\n\n\t\t\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\t\t\t\tgeometry.hasColors = true;\n\t\t\t\tgeometry.alpha = alpha;\n\n\t\t\t}\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction parseASCII( data ) {\n\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst patternSolid = /solid([\\s\\S]*?)endsolid/g;\n\t\t\tconst patternFace = /facet([\\s\\S]*?)endfacet/g;\n\t\t\tlet faceCounter = 0;\n\n\t\t\tconst patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/.source;\n\t\t\tconst patternVertex = new RegExp( 'vertex' + patternFloat + patternFloat + patternFloat, 'g' );\n\t\t\tconst patternNormal = new RegExp( 'normal' + patternFloat + patternFloat + patternFloat, 'g' );\n\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\n\t\t\tconst normal = new Vector3();\n\n\t\t\tlet result;\n\n\t\t\tlet groupCount = 0;\n\t\t\tlet startVertex = 0;\n\t\t\tlet endVertex = 0;\n\n\t\t\twhile ( ( result = patternSolid.exec( data ) ) !== null ) {\n\n\t\t\t\tstartVertex = endVertex;\n\n\t\t\t\tconst solid = result[ 0 ];\n\n\t\t\t\twhile ( ( result = patternFace.exec( solid ) ) !== null ) {\n\n\t\t\t\t\tlet vertexCountPerFace = 0;\n\t\t\t\t\tlet normalCountPerFace = 0;\n\n\t\t\t\t\tconst text = result[ 0 ];\n\n\t\t\t\t\twhile ( ( result = patternNormal.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tnormal.x = parseFloat( result[ 1 ] );\n\t\t\t\t\t\tnormal.y = parseFloat( result[ 2 ] );\n\t\t\t\t\t\tnormal.z = parseFloat( result[ 3 ] );\n\t\t\t\t\t\tnormalCountPerFace ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t\twhile ( ( result = patternVertex.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tvertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 2 ] ), parseFloat( result[ 3 ] ) );\n\t\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\t\t\t\t\t\tvertexCountPerFace ++;\n\t\t\t\t\t\tendVertex ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// every face have to own ONE valid normal\n\n\t\t\t\t\tif ( normalCountPerFace !== 1 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the normal of face number ' + faceCounter );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// each face have to own THREE valid vertices\n\n\t\t\t\t\tif ( vertexCountPerFace !== 3 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the vertices of face number ' + faceCounter );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfaceCounter ++;\n\n\t\t\t\t}\n\n\t\t\t\tconst start = startVertex;\n\t\t\t\tconst count = endVertex - startVertex;\n\n\t\t\t\tgeometry.addGroup( start, count, groupCount );\n\t\t\t\tgroupCount ++;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction ensureString( buffer ) {\n\n\t\t\tif ( typeof buffer !== 'string' ) {\n\n\t\t\t\treturn LoaderUtils.decodeText( new Uint8Array( buffer ) );\n\n\t\t\t}\n\n\t\t\treturn buffer;\n\n\t\t}\n\n\t\tfunction ensureBinary( buffer ) {\n\n\t\t\tif ( typeof buffer === 'string' ) {\n\n\t\t\t\tconst array_buffer = new Uint8Array( buffer.length );\n\t\t\t\tfor ( let i = 0; i < buffer.length; i ++ ) {\n\n\t\t\t\t\tarray_buffer[ i ] = buffer.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\n\n\t\t\t\t}\n\n\t\t\t\treturn array_buffer.buffer || array_buffer;\n\n\t\t\t} else {\n\n\t\t\t\treturn buffer;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// start\n\n\t\tconst binData = ensureBinary( data );\n\n\t\treturn isBinary( binData ) ? parseBinary( binData ) : parseASCII( ensureString( data ) );\n\n\t}\n\n}\n\nexport { STLLoader };\n","import {\n\tColor,\n\tDefaultLoadingManager,\n\tFileLoader,\n\tFrontSide,\n\tLoader,\n\tLoaderUtils,\n\tMeshPhongMaterial,\n\tRepeatWrapping,\n\tTextureLoader,\n\tVector2,\n\tsRGBEncoding\n} from 'three';\n\n/**\n * Loads a Wavefront .mtl file specifying materials\n */\n\nclass MTLLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\t/**\n\t * Loads and parses a MTL asset from a URL.\n\t *\n\t * @param {String} url - URL to the MTL file.\n\t * @param {Function} [onLoad] - Callback invoked with the loaded object.\n\t * @param {Function} [onProgress] - Callback for download progress.\n\t * @param {Function} [onError] - Callback for download errors.\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to load.\n\t */\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterialOptions( value ) {\n\n\t\tthis.materialOptions = value;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Parses a MTL file.\n\t *\n\t * @param {String} text - Content of MTL file\n\t * @return {MaterialCreator}\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to parse.\n\t */\n\tparse( text, path ) {\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet info = {};\n\t\tconst delimiter_pattern = /\\s+/;\n\t\tconst materialsInfo = {};\n\n\t\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\t\tlet line = lines[ i ];\n\t\t\tline = line.trim();\n\n\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\n\n\t\t\t\t// Blank line or comment ignore\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst pos = line.indexOf( ' ' );\n\n\t\t\tlet key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\n\t\t\tkey = key.toLowerCase();\n\n\t\t\tlet value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\n\t\t\tvalue = value.trim();\n\n\t\t\tif ( key === 'newmtl' ) {\n\n\t\t\t\t// New material\n\n\t\t\t\tinfo = { name: value };\n\t\t\t\tmaterialsInfo[ value ] = info;\n\n\t\t\t} else {\n\n\t\t\t\tif ( key === 'ka' || key === 'kd' || key === 'ks' || key === 'ke' ) {\n\n\t\t\t\t\tconst ss = value.split( delimiter_pattern, 3 );\n\t\t\t\t\tinfo[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinfo[ key ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst materialCreator = new MaterialCreator( this.resourcePath || path, this.materialOptions );\n\t\tmaterialCreator.setCrossOrigin( this.crossOrigin );\n\t\tmaterialCreator.setManager( this.manager );\n\t\tmaterialCreator.setMaterials( materialsInfo );\n\t\treturn materialCreator;\n\n\t}\n\n}\n\n/**\n * Create a new MTLLoader.MaterialCreator\n * @param baseUrl - Url relative to which textures are loaded\n * @param options - Set of options on how to construct the materials\n *                  side: Which side to apply the material\n *                        FrontSide (default), THREE.BackSide, THREE.DoubleSide\n *                  wrap: What type of wrapping to apply for textures\n *                        RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\n *                                Default: false, assumed to be already normalized\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\n *                                  Default: false\n * @constructor\n */\n\nclass MaterialCreator {\n\n\tconstructor( baseUrl = '', options = {} ) {\n\n\t\tthis.baseUrl = baseUrl;\n\t\tthis.options = options;\n\t\tthis.materialsInfo = {};\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t\tthis.crossOrigin = 'anonymous';\n\n\t\tthis.side = ( this.options.side !== undefined ) ? this.options.side : FrontSide;\n\t\tthis.wrap = ( this.options.wrap !== undefined ) ? this.options.wrap : RepeatWrapping;\n\n\t}\n\n\tsetCrossOrigin( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t}\n\n\tsetManager( value ) {\n\n\t\tthis.manager = value;\n\n\t}\n\n\tsetMaterials( materialsInfo ) {\n\n\t\tthis.materialsInfo = this.convert( materialsInfo );\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t}\n\n\tconvert( materialsInfo ) {\n\n\t\tif ( ! this.options ) return materialsInfo;\n\n\t\tconst converted = {};\n\n\t\tfor ( const mn in materialsInfo ) {\n\n\t\t\t// Convert materials info into normalized form based on options\n\n\t\t\tconst mat = materialsInfo[ mn ];\n\n\t\t\tconst covmat = {};\n\n\t\t\tconverted[ mn ] = covmat;\n\n\t\t\tfor ( const prop in mat ) {\n\n\t\t\t\tlet save = true;\n\t\t\t\tlet value = mat[ prop ];\n\t\t\t\tconst lprop = prop.toLowerCase();\n\n\t\t\t\tswitch ( lprop ) {\n\n\t\t\t\t\tcase 'kd':\n\t\t\t\t\tcase 'ka':\n\t\t\t\t\tcase 'ks':\n\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\t\tif ( this.options && this.options.normalizeRGB ) {\n\n\t\t\t\t\t\t\tvalue = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.options && this.options.ignoreZeroRGBs ) {\n\n\t\t\t\t\t\t\tif ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\n\n\t\t\t\t\t\t\t\t// ignore\n\n\t\t\t\t\t\t\t\tsave = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( save ) {\n\n\t\t\t\t\tcovmat[ lprop ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn converted;\n\n\t}\n\n\tpreload() {\n\n\t\tfor ( const mn in this.materialsInfo ) {\n\n\t\t\tthis.create( mn );\n\n\t\t}\n\n\t}\n\n\tgetIndex( materialName ) {\n\n\t\treturn this.nameLookup[ materialName ];\n\n\t}\n\n\tgetAsArray() {\n\n\t\tlet index = 0;\n\n\t\tfor ( const mn in this.materialsInfo ) {\n\n\t\t\tthis.materialsArray[ index ] = this.create( mn );\n\t\t\tthis.nameLookup[ mn ] = index;\n\t\t\tindex ++;\n\n\t\t}\n\n\t\treturn this.materialsArray;\n\n\t}\n\n\tcreate( materialName ) {\n\n\t\tif ( this.materials[ materialName ] === undefined ) {\n\n\t\t\tthis.createMaterial_( materialName );\n\n\t\t}\n\n\t\treturn this.materials[ materialName ];\n\n\t}\n\n\tcreateMaterial_( materialName ) {\n\n\t\t// Create material\n\n\t\tconst scope = this;\n\t\tconst mat = this.materialsInfo[ materialName ];\n\t\tconst params = {\n\n\t\t\tname: materialName,\n\t\t\tside: this.side\n\n\t\t};\n\n\t\tfunction resolveURL( baseUrl, url ) {\n\n\t\t\tif ( typeof url !== 'string' || url === '' )\n\t\t\t\treturn '';\n\n\t\t\t// Absolute URL\n\t\t\tif ( /^https?:\\/\\//i.test( url ) ) return url;\n\n\t\t\treturn baseUrl + url;\n\n\t\t}\n\n\t\tfunction setMapForType( mapType, value ) {\n\n\t\t\tif ( params[ mapType ] ) return; // Keep the first encountered texture\n\n\t\t\tconst texParams = scope.getTextureParams( value, params );\n\t\t\tconst map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\n\n\t\t\tmap.repeat.copy( texParams.scale );\n\t\t\tmap.offset.copy( texParams.offset );\n\n\t\t\tmap.wrapS = scope.wrap;\n\t\t\tmap.wrapT = scope.wrap;\n\n\t\t\tif ( mapType === 'map' || mapType === 'emissiveMap' ) {\n\n\t\t\t\tmap.encoding = sRGBEncoding;\n\n\t\t\t}\n\n\t\t\tparams[ mapType ] = map;\n\n\t\t}\n\n\t\tfor ( const prop in mat ) {\n\n\t\t\tconst value = mat[ prop ];\n\t\t\tlet n;\n\n\t\t\tif ( value === '' ) continue;\n\n\t\t\tswitch ( prop.toLowerCase() ) {\n\n\t\t\t\t// Ns is material specular exponent\n\n\t\t\t\tcase 'kd':\n\n\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\tparams.color = new Color().fromArray( value ).convertSRGBToLinear();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ks':\n\n\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\n\t\t\t\t\tparams.specular = new Color().fromArray( value ).convertSRGBToLinear();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ke':\n\n\t\t\t\t\t// Emissive using RGB values\n\t\t\t\t\tparams.emissive = new Color().fromArray( value ).convertSRGBToLinear();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_kd':\n\n\t\t\t\t\t// Diffuse texture map\n\n\t\t\t\t\tsetMapForType( 'map', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ks':\n\n\t\t\t\t\t// Specular map\n\n\t\t\t\t\tsetMapForType( 'specularMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ke':\n\n\t\t\t\t\t// Emissive map\n\n\t\t\t\t\tsetMapForType( 'emissiveMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'norm':\n\n\t\t\t\t\tsetMapForType( 'normalMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_bump':\n\t\t\t\tcase 'bump':\n\n\t\t\t\t\t// Bump texture map\n\n\t\t\t\t\tsetMapForType( 'bumpMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_d':\n\n\t\t\t\t\t// Alpha map\n\n\t\t\t\t\tsetMapForType( 'alphaMap', value );\n\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ns':\n\n\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\n\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\n\n\t\t\t\t\tparams.shininess = parseFloat( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'd':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( n < 1 ) {\n\n\t\t\t\t\t\tparams.opacity = n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tr':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( this.options && this.options.invertTrProperty ) n = 1 - n;\n\n\t\t\t\t\tif ( n > 0 ) {\n\n\t\t\t\t\t\tparams.opacity = 1 - n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.materials[ materialName ] = new MeshPhongMaterial( params );\n\t\treturn this.materials[ materialName ];\n\n\t}\n\n\tgetTextureParams( value, matParams ) {\n\n\t\tconst texParams = {\n\n\t\t\tscale: new Vector2( 1, 1 ),\n\t\t\toffset: new Vector2( 0, 0 )\n\n\t\t };\n\n\t\tconst items = value.split( /\\s+/ );\n\t\tlet pos;\n\n\t\tpos = items.indexOf( '-bm' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\tmatParams.bumpScale = parseFloat( items[ pos + 1 ] );\n\t\t\titems.splice( pos, 2 );\n\n\t\t}\n\n\t\tpos = items.indexOf( '-s' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\tpos = items.indexOf( '-o' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\ttexParams.url = items.join( ' ' ).trim();\n\t\treturn texParams;\n\n\t}\n\n\tloadTexture( url, mapping, onLoad, onProgress, onError ) {\n\n\t\tconst manager = ( this.manager !== undefined ) ? this.manager : DefaultLoadingManager;\n\t\tlet loader = manager.getHandler( url );\n\n\t\tif ( loader === null ) {\n\n\t\t\tloader = new TextureLoader( manager );\n\n\t\t}\n\n\t\tif ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\n\n\t\tconst texture = loader.load( url, onLoad, onProgress, onError );\n\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t}\n\n}\n\nexport { MTLLoader };\n","import { Box3, Vector3, Mesh, MeshPhongMaterial, MeshStandardMaterial } from \"three\";\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\";\r\nimport { ColladaLoader } from \"three/examples/jsm/loaders/ColladaLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\nimport { DDSLoader } from \"three/examples/jsm/loaders/DDSLoader\";\r\nimport { LoadingManager } from \"three/src/loaders/LoadingManager\";\r\nimport { PLYLoader } from \"three/examples/jsm/loaders/PLYLoader\";\r\nimport { STLLoader } from \"three/examples/jsm/loaders/STLLoader\";\r\nimport { MTLLoader } from \"three/examples/jsm/loaders/MTLLoader\";\r\nimport { TGALoader } from \"three/examples/jsm/loaders/TGALoader\";\r\n\r\nconst box = new Box3();\r\nconst manager = new LoadingManager();\r\nmanager.addHandler(/\\.dds$/i, new DDSLoader());\r\nmanager.addHandler(/\\.tga$/i, new TGALoader());\r\n\r\n// get box size\r\nfunction getSize(obj) {\r\n  box.setFromObject(obj);\r\n  return box.getSize(new Vector3());\r\n}\r\n\r\n// get box center\r\nfunction getCenter(obj) {\r\n  box.setFromObject(obj);\r\n  return box.getCenter(new Vector3());\r\n}\r\n\r\nfunction getExtension(str) { \r\n  const pathSplit = str.split('.');\r\n  if (pathSplit.length <= 1){\r\n    return \"\";\r\n  } else {\r\n    let extension = pathSplit.pop();\r\n    extension = extension.toLowerCase();\r\n    return extension;\r\n  }\r\n}\r\n\r\n// auto select model loader\r\nfunction getLoader(filePath) {\r\n  // Get file extension\r\n  let fileExtension = getExtension(filePath);\r\n  // gltf type has two formats, .gltf and .glb, so make fileExtension glb to gltf\r\n  if (fileExtension === \"glb\") {\r\n    fileExtension = \"gltf\";\r\n  }\r\n  let obj = {\r\n    loader: null,\r\n    getObject: null\r\n  }; // obj {loader, getObject}\r\n  switch (fileExtension) {\r\n    case \"dae\":\r\n      obj = {\r\n        loader: new ColladaLoader(manager),\r\n        getObject: (collada) => {\r\n          return collada.scene;\r\n        }\r\n      };\r\n      break;\r\n    case \"fbx\":\r\n      obj = {\r\n        loader: new FBXLoader(manager)\r\n      };\r\n      break;\r\n    case \"gltf\":\r\n      obj = {\r\n        loader: new GLTFLoader(manager),\r\n        getObject: (collada) => {\r\n          return collada.scene;\r\n        }\r\n      };\r\n      break;\r\n    case \"obj\":\r\n      obj = {\r\n        loader: new OBJLoader(manager)\r\n      };\r\n      break;\r\n    case \"ply\":\r\n      obj = {\r\n        loader: new PLYLoader(manager),\r\n        getObject: (geometry) => { // geometry\r\n          geometry.computeVertexNormals();\r\n          return new Mesh(geometry, new MeshStandardMaterial());\r\n        }\r\n      };\r\n      break;\r\n    case \"stl\":\r\n      obj = {\r\n        loader: new STLLoader(manager),\r\n        getObject: (geometry) => { // geometry\r\n          return new Mesh(geometry, new MeshPhongMaterial());\r\n        }\r\n      };\r\n      break;\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction getMTLLoader() {\r\n  const mtlLoader = new MTLLoader(manager);\r\n  return mtlLoader;\r\n}\r\n\r\n// function getTAGLoader() {\r\n//   const tagLoader = new TGALoader(manager);\r\n//   return tagLoader;\r\n// }\r\n\r\nexport {\r\n  getSize,\r\n  getCenter,\r\n  getLoader,\r\n  getMTLLoader\r\n}","<template>\r\n  <div class=\"viewer-container\" ref=\"container\">\r\n    <canvas ref=\"canvas\" class=\"viewer-canvas\"></canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  Object3D,\r\n  Vector2,\r\n  Vector3,\r\n  Color,\r\n  Scene,\r\n  Raycaster,\r\n  WebGLRenderer,\r\n  PerspectiveCamera,\r\n  AmbientLight,\r\n  PointLight,\r\n  HemisphereLight,\r\n  DirectionalLight,\r\n  LinearEncoding,\r\n  TextureLoader,\r\n  AnimationMixer,\r\n  Clock\r\n} from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport Stats from \"three/examples/jsm/libs/stats.module\";\r\nimport { getSize, getCenter, getLoader, getMTLLoader } from \"./loadModel\";\r\nexport default {\r\n  name: \"vue3dLoader\",\r\n  props: {\r\n    filePath: { type: [String, Array] }, // supports one or more filePath\r\n    width: Number,\r\n    height: Number,\r\n    position: Object,\r\n    rotation: Object,\r\n    scale: {\r\n      type: Object,\r\n      default: ()=>{\r\n        return {x:1, y:1, z:1}\r\n      }\r\n    },\r\n    lights: {\r\n      type: Array,\r\n      default: () => {\r\n        return [\r\n          {\r\n            type: \"AmbientLight\",\r\n            color: 0xaaaaaa,\r\n          },\r\n          {\r\n            type: \"DirectionalLight\",\r\n            position: { x: 1, y: 1, z: 1 },\r\n            color: 0xffffff,\r\n            intensity: 0.8,\r\n          },\r\n        ];\r\n      },\r\n    },\r\n    cameraPosition: {\r\n      type: Object,\r\n      default: () => {\r\n        return { x: 0, y: 0, z: 0 };\r\n      },\r\n    },\r\n    cameraRotation: Object,\r\n    cameraUp: Object,\r\n    cameraLookAt: Object,\r\n    backgroundColor: {\r\n      typeof: [Number, String],\r\n      default: () => {\r\n        return 0xffffff;\r\n      },\r\n    },\r\n    backgroundAlpha: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    controlsOptions: Object,\r\n    crossOrigin: {\r\n      type: String,\r\n      default: \"anonymous\",\r\n    },\r\n    requestHeader: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    outputEncoding: {\r\n      type: Number,\r\n      default: LinearEncoding,\r\n    },\r\n    webGLRendererOptions: Object,\r\n    mtlPath: {\r\n      type: [String, Array],\r\n    },\r\n    showFps: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    textureImage: {\r\n      type: [String, Array],\r\n    },\r\n  },\r\n  data() {\r\n    // 非响应式对象，防止threeJS多次渲染\r\n    const result = {\r\n      size: {\r\n        width: this.width,\r\n        height: this.height,\r\n      },\r\n      object: null,\r\n      raycaster: new Raycaster(),\r\n      mouse: new Vector2(),\r\n      camera: new PerspectiveCamera(45, 1, 1, 100000),\r\n      scene: new Scene(),\r\n      wrapper: new Object3D(),\r\n      renderer: null,\r\n      controls: null,\r\n      allLights: [],\r\n      clock: new Clock(),\r\n      loader: null,\r\n      requestAnimationId: null,\r\n      stats: null,\r\n      mixer: null,\r\n    };\r\n    Object.assign(this, result);\r\n    // 响应式对象\r\n    return {\r\n      loaderIndex: 0,\r\n      timer: null,\r\n      objectPositionHasSet: false\r\n    };\r\n  },\r\n  mounted() {\r\n    const el = this.$refs.container;\r\n    // init canvas width and height\r\n    this.onResize();\r\n    const WEB_GL_OPTIONS = { antialias: true, alpha: true };\r\n    const options = Object.assign(\r\n      {},\r\n      WEB_GL_OPTIONS,\r\n      this.webGLRendererOptions,\r\n      {\r\n        canvas: this.$refs.canvas,\r\n      }\r\n    );\r\n\r\n    this.renderer = new WebGLRenderer(options);\r\n    this.renderer.shadowMap.enabled = true;\r\n    this.renderer.outputEncoding = this.outputEncoding;\r\n\r\n    this.controls = new OrbitControls(this.camera, el);\r\n\r\n    this.scene.add(this.wrapper);\r\n    \r\n    this.load();\r\n    this.update();\r\n\r\n    el.addEventListener(\"mousedown\", this.onMouseDown, false);\r\n    el.addEventListener(\"mousemove\", this.onMouseMove, false);\r\n    el.addEventListener(\"mouseup\", this.onMouseUp, false);\r\n    el.addEventListener(\"click\", this.onClick, false);\r\n    el.addEventListener(\"dblclick\", this.onDblclick, false);\r\n    window.addEventListener(\"resize\", this.onResize, false);\r\n    // stats\r\n    if (this.showFps) {\r\n      this.stats = new Stats();\r\n      el.appendChild(this.stats.dom);\r\n    }\r\n    this.animate();\r\n  },\r\n  beforeDestroy() {\r\n    cancelAnimationFrame(this.requestAnimationId);\r\n    this.renderer.dispose();\r\n    if (this.controls) {\r\n      this.controls.dispose();\r\n    }\r\n    const el = this.$refs.container;\r\n    el.removeEventListener(\"mousedown\", this.onMouseDown, false);\r\n    el.removeEventListener(\"mousemove\", this.onMouseMove, false);\r\n    el.removeEventListener(\"mouseup\", this.onMouseUp, false);\r\n    el.removeEventListener(\"click\", this.onClick, false);\r\n    el.removeEventListener(\"dblclick\", this.onDblclick, false);\r\n\r\n    window.removeEventListener(\"resize\", this.onResize, false);\r\n  },\r\n  watch: {\r\n    filePath() {\r\n      this.load();\r\n    },\r\n    rotation: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (!this.object) return;\r\n        this.object.rotation.set(val.x, val.y, val.z);\r\n      },\r\n    },\r\n    position: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (!this.object) return;\r\n        this.object.position.set(val.x, val.y, val.z);\r\n      },\r\n    },\r\n    scale: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (!this.object) return;\r\n        this.object.scale.set(val.x, val.y, val.z);\r\n      },\r\n    },\r\n    lights: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateLights();\r\n      },\r\n    },\r\n    size: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateCamera();\r\n        this.updateRenderer();\r\n      },\r\n    },\r\n    controlsOptions: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateControls();\r\n      },\r\n    },\r\n    backgroundAlpha() {\r\n      this.updateRenderer();\r\n    },\r\n    backgroundColor() {\r\n      this.updateRenderer();\r\n    },\r\n    cameraRotation: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateCamera();\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    onResize() {\r\n      if (!this.width || !this.height) {\r\n        this.$nextTick(() => {\r\n          let el = this.$refs.container;\r\n          this.size = {\r\n            width: this.width ? this.width : el.offsetWidth,\r\n            height: this.height ? this.height : el.offsetHeight,\r\n          };\r\n          this.update(true);\r\n        });\r\n      }\r\n    },\r\n    onMouseDown(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"mousedown\", event, intersected);\r\n    },\r\n    onMouseMove(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"mousemove\", event, intersected);\r\n    },\r\n    onMouseUp(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"mouseup\", event, intersected);\r\n    },\r\n    onClick(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"click\", event, intersected);\r\n    },\r\n    onDblclick(event) {\r\n      const intersected = this.pick(event.clientX, event.clientY);\r\n      this.$emit(\"dblclick\", event, intersected);\r\n    },\r\n    pick(x, y) {\r\n      if (!this.object) return null;\r\n      if (!this.$refs.container) return;\r\n      const rect = this.$refs.container.getBoundingClientRect();\r\n      x -= rect.left;\r\n      y -= rect.top;\r\n      this.mouse.x = (x / this.size.width) * 2 - 1;\r\n      this.mouse.y = -(y / this.size.height) * 2 + 1;\r\n      this.raycaster.setFromCamera(this.mouse, this.camera);\r\n      const intersects = this.raycaster.intersectObject(this.object, true);\r\n      return (intersects && intersects.length) > 0 ? intersects[0] : null;\r\n    },\r\n    update(isResize=false) {\r\n      this.updateRenderer();\r\n      this.updateCamera(isResize);\r\n      this.updateLights();\r\n      this.updateControls();\r\n    },\r\n    updateModel() {\r\n      const { object, position, rotation, scale } = this;\r\n      if (!object) return;\r\n      if(position) {\r\n        object.position.set(position.x, position.y, position.z);\r\n      }\r\n      if(rotation) {\r\n        object.rotation.set(rotation.x, rotation.y, rotation.z);\r\n      }\r\n      if(scale) {\r\n        object.scale.set(scale.x, scale.y, scale.z);\r\n      }\r\n    },\r\n    updateRenderer() {\r\n      const { renderer, size, backgroundAlpha, backgroundColor } = this;\r\n      renderer.setSize(size.width, size.height);\r\n      renderer.setPixelRatio(window.devicePixelRatio || 1);\r\n      renderer.setClearColor(new Color(backgroundColor).getHex());\r\n      renderer.setClearAlpha(backgroundAlpha);\r\n    },\r\n    updateCamera(isResize=false) {\r\n      const {\r\n        size,\r\n        camera,\r\n        object,\r\n        cameraLookAt,\r\n        cameraUp,\r\n        cameraPosition,\r\n        cameraRotation,\r\n      } = this;\r\n      camera.aspect = size.width / size.height;\r\n      camera.updateProjectionMatrix();\r\n      if (isResize) return\r\n      if (!cameraLookAt || !cameraUp) {\r\n        if (!object) return;\r\n        const distance = getSize(object).length();\r\n        camera.position.set(\r\n          cameraPosition.x,\r\n          cameraPosition.y,\r\n          cameraPosition.z\r\n        );\r\n        if(cameraRotation) {\r\n          camera.rotation.set(\r\n            cameraRotation.x,\r\n            cameraRotation.y,\r\n            cameraRotation.z\r\n          );\r\n        }\r\n        if (\r\n          cameraPosition.x === 0 &&\r\n          cameraPosition.y === 0 &&\r\n          cameraPosition.z === 0\r\n        ) {\r\n          camera.position.z = distance;\r\n        }\r\n        camera.lookAt(new Vector3());\r\n      } else {\r\n        camera.position.set(\r\n          cameraPosition.x,\r\n          cameraPosition.y,\r\n          cameraPosition.z\r\n        );\r\n        if(cameraRotation) {\r\n          camera.rotation.set(\r\n            cameraRotation.x,\r\n            cameraRotation.y,\r\n            cameraRotation.z\r\n          );\r\n        }\r\n\r\n        camera.up.set(cameraUp.x, cameraUp.y, cameraUp.z);\r\n        camera.lookAt(\r\n          new Vector3(cameraLookAt.x, cameraLookAt.y, cameraLookAt.z)\r\n        );\r\n      }\r\n    },\r\n    updateLights() {\r\n      this.scene.remove(...this.allLights);\r\n      this.allLights = [];\r\n      this.lights.forEach((item) => {\r\n        if (!item.type) return;\r\n        const type = item.type.toLowerCase();\r\n        let light = null;\r\n        if (type === \"ambient\" || type === \"ambientlight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0x404040;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n          light = new AmbientLight(color, intensity);\r\n        } else if (type === \"point\" || type === \"pointlight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n          const distance = item.distance || 0;\r\n          const decay = item.decay === 0 ? item.decay : item.decay || 1;\r\n          light = new PointLight(color, intensity, distance, decay);\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n        } else if (type === \"directional\" || type === \"directionallight\") {\r\n          const color =\r\n            item.color === 0x000000 ? item.color : item.color || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n\r\n          light = new DirectionalLight(color, intensity);\r\n\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n\r\n          if (item.target) {\r\n            light.target.copy(item.target);\r\n          }\r\n        } else if (type === \"hemisphere\" || type === \"hemispherelight\") {\r\n          const skyColor =\r\n            item.skyColor === 0x000000\r\n              ? item.skyColor\r\n              : item.skyColor || 0xffffff;\r\n          const groundColor =\r\n            item.groundColor === 0x000000\r\n              ? item.groundColor\r\n              : item.groundColor || 0xffffff;\r\n          const intensity =\r\n            item.intensity === 0 ? item.intensity : item.intensity || 1;\r\n\r\n          light = new HemisphereLight(skyColor, groundColor, intensity);\r\n\r\n          if (item.position) {\r\n            light.position.copy(item.position);\r\n          }\r\n        }\r\n        if (light) {\r\n          this.allLights.push(light);\r\n          this.scene.add(light);\r\n        }\r\n      });\r\n    },\r\n    updateControls() {\r\n      if (this.controlsOptions) {\r\n        Object.assign(this.controls, this.controlsOptions);\r\n      }\r\n    },\r\n    load() {\r\n      if (!this.filePath) return;\r\n      // if multiple files\r\n      const _filePath =\r\n        typeof this.filePath === \"string\"\r\n          ? this.filePath\r\n          : this.filePath[this.loaderIndex];\r\n      const loaderObj = getLoader(_filePath); // {loader, getObject, mtlLoader}\r\n      this.loader = loaderObj.loader;\r\n      const _getObject = loaderObj.getObject\r\n        ? loaderObj.getObject\r\n        : this.getObject;\r\n      if (this.object && this.loaderIndex === 0) {\r\n        this.wrapper.remove(this.object);\r\n      }\r\n      if (this.requestHeader) {\r\n        this.loader.setRequestHeader(this.requestHeader);\r\n      }\r\n      if (this.crossOrigin) {\r\n        this.loader.setCrossOrigin(this.crossOrigin);\r\n      }\r\n      if (this.mtlPath) {\r\n        // load materials\r\n        const isMultipleMTL = typeof this.mtlPath === \"string\";\r\n        if (isMultipleMTL) {\r\n          // single material\r\n          this.loadMtl(_filePath, _getObject);\r\n        } else {\r\n          // load materials and model\r\n          if (!this.mtlPath[this.loaderIndex]) {\r\n            this.loadFilePath(_filePath, _getObject);\r\n            return;\r\n          }\r\n          this.loadMtl(_filePath, _getObject);\r\n        }\r\n      } else {\r\n        // don't load materials\r\n        this.loadFilePath(_filePath, _getObject);\r\n      }\r\n    },\r\n    loadFilePath(filePath, getObject) {\r\n      this.loader.load(\r\n        filePath,\r\n        (...args) => {\r\n          const object = getObject(...args);\r\n          this.addObject(object);\r\n          this.mixer = new AnimationMixer(object);\r\n          if (object.animations[0]) {\r\n            const action = this.mixer.clipAction(object.animations[0]);\r\n            action.play();\r\n          }\r\n          // set texture\r\n          if (this.textureImage) {\r\n            let _texture =\r\n              typeof this.textureImage === \"string\"\r\n                ? this.textureImage\r\n                : this.textureImage[this.loaderIndex];\r\n            if (_texture) {\r\n              this.addTexture(object, _texture);\r\n            }\r\n          }\r\n          this.$emit(\"load\");\r\n        },\r\n        (event) => {\r\n          this.onProcess(event);\r\n          let modelIndex = this.loaderIndex + 1;\r\n          this.$emit(\"process\", event, modelIndex);\r\n        },\r\n        (event) => {\r\n          this.$emit(\"error\", event);\r\n        }\r\n      );\r\n    },\r\n    loadMtl(filePath, getObject) {\r\n      const mtlLoader = getMTLLoader();\r\n      if (this.crossOrigin) {\r\n        mtlLoader.setCrossOrigin(this.crossOrigin);\r\n      }\r\n      if (this.requestHeader) {\r\n        mtlLoader.setRequestHeader(this.requestHeader);\r\n      }\r\n      const _mtl =\r\n        typeof this.mtlPath === \"string\"\r\n          ? this.mtlPath\r\n          : this.mtlPath[this.loaderIndex];\r\n      const returnPathArray = /^(.*\\/)([^/]*)$/.exec(_mtl);\r\n      const path = returnPathArray[1];\r\n      const file = returnPathArray[2];\r\n      mtlLoader.setPath(path).load(file, (materials) => {\r\n        materials.preload();\r\n        this.loader.setMaterials(materials);\r\n        this.loadFilePath(filePath, getObject);\r\n      });\r\n    },\r\n    getObject(object) {\r\n      return object;\r\n    },\r\n    addObject(object) {\r\n      const center = getCenter(object);\r\n      // Multiple models set object position only once, prevent the position from changing every time multiple models objects is loaded\r\n      if(!this.objectPositionHasSet) {\r\n        this.wrapper.position.copy(center.negate());\r\n        this.objectPositionHasSet = true\r\n      }\r\n      this.object = object;\r\n      this.wrapper.add(object);\r\n      this.updateCamera();\r\n      this.updateModel();\r\n    },\r\n    animate() {\r\n      this.requestAnimationId = requestAnimationFrame(this.animate);\r\n      this.updateStats();\r\n      const delta = this.clock.getDelta();\r\n      if (this.mixer) this.mixer.update(delta);\r\n      this.render();\r\n    },\r\n    render() {\r\n      this.renderer.render(this.scene, this.camera);\r\n    },\r\n    updateStats() {\r\n      if (this.showFps) {\r\n        this.stats.update();\r\n      }\r\n    },\r\n    onProcess(xhr) {\r\n      let process = Math.floor((xhr.loaded / xhr.total) * 100);\r\n      const next = () => {\r\n        if (process === 100) {\r\n          if (\r\n            typeof this.filePath === \"object\" &&\r\n            this.filePath.length > this.loaderIndex\r\n          ) {\r\n            // Load completed\r\n            this.$nextTick(() => {\r\n              this.loaderIndex++;\r\n              if (this.loaderIndex === this.filePath.length) {\r\n                this.loaderIndex = 0;\r\n                return;\r\n              }\r\n              this.load();\r\n            });\r\n          } else {\r\n            this.loaderIndex = 0;\r\n          }\r\n        }\r\n      }\r\n      // local webpack environment http response headers no content-length, the xhr.total is 0, so process === Infinity\r\n      if (process === Infinity) {\r\n        clearTimeout(this.timer);\r\n        this.timer = setTimeout(() => {\r\n          process = 100;\r\n          next()\r\n        }, 200);\r\n      }\r\n      next()\r\n    },\r\n    addTexture(object, texture) {\r\n      const textureLoader = new TextureLoader();\r\n      object.traverse((child) => {\r\n        if (child.isMesh) {\r\n          textureLoader.load(\r\n            texture,\r\n            (_texture) => {\r\n              child.material.map = _texture;\r\n              child.material.needsUpdate = true;\r\n            },\r\n            () => {},\r\n            (err) => {\r\n              this.$emit(\"error\", err)\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.viewer-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0;\r\n  border: 0;\r\n  padding: 0;\r\n}\r\n.viewer-container div {\r\n  position: absolute !important;\r\n  left: 0px !important;\r\n  opacity: 1 !important;\r\n}\r\n.viewer-canvas {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue3dLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue3dLoader.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-12[0].rules[0].use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-12[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./vue3dLoader.vue?vue&type=style&index=0&lang=css&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./vue3dLoader.vue?vue&type=template&id=a5fd51ea&\"\nimport script from \"./vue3dLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./vue3dLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vue3dLoader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nimport vue3dLoader from './3dLoader/vue3dLoader.vue'\r\nconst components = [vue3dLoader]\r\n\r\n// vue install function\r\nconst install = function (Vue) {\r\n  // Register components\r\n  components.map(component =>{\r\n    Vue.component(component.name, component)\r\n  })\r\n}\r\n\r\nif(typeof window !== 'undefined' && window.Vue){\r\n  install(window.Vue)\r\n}\r\n\r\nexport default {\r\n  install,\r\n  ...components\r\n}","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","NoColorSpace","SRGBColorSpace","LinearSRGBColorSpace","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","_SRGBAFormat","EventDispatcher","addEventListener","type","listener","_listeners","undefined","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","index","splice","dispatchEvent","event","target","array","slice","i","l","length","call","_lut","_seed","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toLowerCase","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","imul","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","denormalize$1","constructor","Float32Array","Uint16Array","Uint8Array","Int16Array","Int8Array","Error","normalize","round","MathUtils","Object","freeze","__proto__","denormalize","Vector2","prototype","isVector2","width","height","setScalar","scalar","setX","setY","setComponent","getComponent","clone","copy","v","add","w","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","e","elements","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","Symbol","iterator","Matrix3","isMatrix3","arguments","error","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","f","g","h","invert","t11","t12","t13","det","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","r","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","scale","rotate","theta","translate","matrix","arrayNeedsUint32","TYPED_ARRAYS","Uint8ClampedArray","Int32Array","Uint32Array","Float64Array","getTypedArray","buffer","createElementNS","name","document","SRGBToLinear","LinearToSRGB","FN","ColorManagement","legacyMode","workingColorSpace","colorSpace","convert","color","sourceColorSpace","targetColorSpace","fn","fromWorkingColorSpace","toWorkingColorSpace","_colorKeywords","_rgb","_hslA","_hslB","hue2rgb","p","toComponents","source","Color","isColor","setRGB","setHex","setStyle","hex","setHSL","style","handleAlpha","string","parseFloat","exec","components","parseInt","size","charAt","setColorName","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","toString","getHSL","hue","saturation","lightness","delta","getRGB","getStyle","offsetHSL","addColors","color1","color2","lerpColors","lerpHSL","getZ","normalized","toJSON","NAMES","_canvas","ImageUtils","getDataURL","image","test","src","HTMLCanvasElement","canvas","context","getContext","ImageData","putImageData","drawImage","toDataURL","sRGBToLinear","HTMLImageElement","ImageBitmap","imageData","getImageData","data","Source","isSource","version","needsUpdate","meta","isRootObject","images","output","url","Array","isArray","isDataTexture","serializeImage","from","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","isTexture","defineProperty","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","userData","onUpdate","isRenderTargetTexture","needsPMREMUpdate","updateMatrix","JSON","parse","stringify","textures","metadata","generator","wrap","dispose","transformUv","uv","Vector4","z","isVector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getW","WebGLRenderTarget","options","isWebGLRenderTarget","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","samples","setSize","assign","DataArrayTexture","isDataArrayTexture","wrapR","WebGLArrayRenderTarget","isWebGLArrayRenderTarget","Data3DTexture","isData3DTexture","WebGL3DRenderTarget","isWebGL3DRenderTarget","WebGLMultipleRenderTargets","count","isWebGLMultipleRenderTargets","il","Quaternion","isQuaternion","_x","_y","_z","_w","slerp","qa","qb","qm","slerpQuaternions","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","Number","EPSILON","len","tDir","multiplyQuaternionsFlat","_onChangeCallback","quaternion","setFromEuler","euler","update","isEuler","_order","c1","c3","s1","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","angleTo","rotateTowards","step","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","u1","sqrt1u1","sqrtu1","u2","u3","_onChange","callback","Vector3","isVector3","multiplyVectors","applyEuler","applyQuaternion","_quaternion$4","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","_vector$c","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","randomDirection","u","Box3","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","expandByPoint","setFromCenterAndSize","halfSize","_vector$b","setFromObject","object","precise","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","vector","expandByScalar","updateWorldMatrix","geometry","attributes","position","boundingBox","computeBoundingBox","_box$3","union","children","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","distanceToPoint","clampedPoint","getBoundingSphere","intersect","_points","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","radiusSum","deltaLengthSq","getBoundingBox","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","lookAt","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","QdN","Matrix4","isMatrix4","n14","n24","n34","n41","n42","n43","n44","copyPosition","setFromMatrix3","makeBasis","extractRotation","scaleX","_v1$5","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","yx","zx","zy","x2","y2","z2","wx","wy","wz","decompose","_m1$2","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","RotationOrders","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","layers","isEnabled","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","isObject3D","parent","DefaultUp","onRotationChange","onQuaternionChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","isCamera","isLight","remove","removeFromParent","clear","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrixWorld","force","updateParents","updateChildren","geometries","materials","shapes","skeletons","nodes","isInstancedMesh","instanceMatrix","instanceColor","serialize","library","element","isScene","background","environment","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","key","recursive","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","setFromAttributeAndIndices","getArea","getMidpoint","getPlane","setFromCoplanarPoints","d4","vc","d5","d6","vb","va","materialId","Material","isMaterial","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaToCoverage","premultipliedAlpha","toneMapped","_alphaTest","alphaTest","onBuild","onBeforeCompile","customProgramCacheKey","setValues","newValue","flatShading","currentValue","roughness","metalness","sheen","sheenColor","sheenRoughness","emissive","emissiveIntensity","specular","specularIntensity","specularColor","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","iridescence","iridescenceIOR","iridescenceThicknessRange","iridescenceMap","iridescenceThicknessMap","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularColorMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationColor","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","fog","srcPlanes","dstPlanes","MeshBasicMaterial","isMeshBasicMaterial","_vector$9","_vector2$1","BufferAttribute","itemSize","TypeError","isBufferAttribute","usage","updateRange","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZ","setXYZW","onUpload","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","_id$1","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","isBufferGeometry","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","start","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","hasAttribute","addGroup","materialIndex","clearGroups","setDrawRange","tangent","computeBoundingSphere","morphAttributesPosition","isGLBufferAttribute","morphAttribute","isNaN","jl","computeTangents","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","isInterleavedBufferAttribute","stride","geometry2","newAttribute","morphArray","keys","hasMorphAttributes","attributeArray","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","end","checkBufferGeometryIntersection","faceIndex","face","checkIntersection","morphInfluences","influence","boneTransform","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","fromJSON","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","isShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","Camera","PerspectiveCamera","fov","aspect","isPerspectiveCamera","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","enabled","offsetX","offsetY","clearViewOffset","skew","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentRenderTarget","getRenderTarget","currentToneMapping","toneMapping","currentXrEnabled","xr","setRenderTarget","render","CubeTexture","isCubeTexture","WebGLCubeRenderTarget","fromEquirectangularTexture","shader","tEquirect","mesh","currentMinFilter","stencil","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","deleteBuffer","delete","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","alphatest_pars_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","iridescence_fragment","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphcolor_vertex","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normal_pars_fragment","normal_pars_vertex","normal_vertex","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","iridescence_pars_fragment","output_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmission_fragment","transmission_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","vertex$g","fragment$g","vertex$f","fragment$f","vertex$e","fragment$e","vertex$d","fragment$d","vertex$c","fragment$c","vertex$b","fragment$b","vertex$a","fragment$a","vertex$9","fragment$9","vertex$8","fragment$8","vertex$7","fragment$7","vertex$6","fragment$6","vertex$5","fragment$5","vertex$4","fragment$4","vertex$3","fragment$3","vertex$2","fragment$2","vertex$1","fragment$1","ShaderChunk","background_vert","background_frag","cube_vert","cube_frag","depth_vert","depth_frag","distanceRGBA_vert","distanceRGBA_frag","equirect_vert","equirect_frag","linedashed_vert","linedashed_frag","meshbasic_vert","meshbasic_frag","meshlambert_vert","meshlambert_frag","meshmatcap_vert","meshmatcap_frag","meshnormal_vert","meshnormal_frag","meshphong_vert","meshphong_frag","meshphysical_vert","meshphysical_frag","meshtoon_vert","meshtoon_frag","points_vert","points_frag","shadow_vert","shadow_frag","sprite_vert","sprite_frag","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","ior","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","iridescenceThicknessMinimum","iridescenceThicknessMaximum","sheenColorMap","sheenRoughnessMap","transmissionSamplerSize","transmissionSamplerMap","WebGLBackground","cubemaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","forceUpdate","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","programAttributes","getAttributes","programAttribute","location","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","vertexAttribIPointer","isInstancedBufferGeometry","materialDefaultAttributeValues","isInstancedInterleavedBuffer","locationSize","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","onTextureDispose","OrthographicCamera","isOrthographicCamera","scaleW","scaleH","LOD_MIN","EXTRA_LOD_SIGMA","MAX_SAMPLES","_flatCamera","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_renderer","_pingPongRenderTarget","_lodMax","_cubeSize","_lodPlanes","_sizeLods","_sigmas","_blurMaterial","_cubemapMaterial","_equirectMaterial","_compileMaterial","fromScene","sigma","_setSize","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","_fromTexture","fromCubemap","compileCubemapShader","_getCubemapMaterial","compileEquirectangularShader","_getEquirectMaterial","_dispose","cubeSize","log2","outputTarget","_setViewport","_textureToCubeUV","params","_createRenderTarget","sizeLods","lodPlanes","sigmas","_createPlanes","_getBlurShader","tmpMesh","compile","cubeCamera","upSign","forwardSign","originalAutoClear","backgroundMaterial","backgroundBox","useSolidColor","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","sum","weight","outputSize","lodMax","lod","totalLods","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","WebGLCubeUVMaps","cubeUVmaps","pmremGenerator","isEquirectMap","isCubeMap","isCubeTextureComplete","cubemapUV","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","morph","WebGLMorphtargets","influencesList","morphTextures","workInfluences","objectInfluences","morphTargetsCount","entry","hasMorphPosition","hasMorphNormals","hasMorphColors","morphTargets","morphNormals","morphColors","vertexDataCount","vertexDataStride","morphTarget","morphNormal","morphColor","disposeTexture","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","influences","sort","MAX_SAFE_INTEGER","WebGLObjects","updateMap","buffergeometry","onInstancedMeshDispose","instancedMesh","emptyTexture","emptyArrayTexture","empty3dTexture","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT3DArray","setValueT6Array","setValueT2DArrayArray","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","handleSource","errorLine","split","lines2","to","join","getEncodingComponents","getShaderErrors","status","getShaderParameter","errors","getShaderInfoLog","trim","errorMatches","toUpperCase","getShaderSource","getTexelEncodingFunction","functionName","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUVHeight","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","generateCubeUVSize","imageHeight","maxMip","texelHeight","texelWidth","WebGLProgram","cacheKey","envMapCubeUVSize","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","skinning","morphTextureStride","doubleSided","flipSided","shadowMapEnabled","decodeVideoTexture","physicallyCorrectLights","opaque","outputEncoding","useDepthPacking","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","_id","WebGLShaderCache","shaderCache","Map","materialCache","vertexShaderStage","_getShaderStage","fragmentShaderStage","materialShaders","_getShaderCacheForMaterial","shaderStage","code","getVertexShaderID","getFragmentShaderID","Set","stage","WebGLShaderStage","WebGLPrograms","cubeuvmaps","_programLayers","_customShaders","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","getParameters","shadows","isMeshStandardMaterial","customVertexShaderID","customFragmentShaderID","useAlphaTest","useClearcoat","useIridescence","isXRRenderTarget","isVideoTexture","isFogExp2","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","getProgramCacheKeyParameters","getProgramCacheKeyBooleans","morphAttributeCount","acquireProgram","pl","preexistingProgram","releaseProgram","pop","releaseShaderCache","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","transmissive","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","scaleFactor","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vertex","fragment","WebGLShadowMap","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterial","_distanceMaterial","_materialCache","_maxTextureSize","shadowMaterialVertical","VSM_SAMPLES","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","isPointLightShadow","VSMPass","blurSamples","mapPass","renderBufferDirect","getDepthMaterial","result","customMaterial","customDistanceMaterial","customDepthMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentBoundFramebuffers","currentDrawbuffers","defaultDrawbuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","scissorParam","viewportParam","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","bindFramebuffer","framebuffer","drawBuffersWEBGL","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texSubImage2D","texSubImage3D","compressedTexSubImage2D","texStorage2D","texStorage3D","texImage3D","WebGLTextures","_gl","utils","multisampledRTTExt","supportsInvalidateFramebuffer","navigator","userAgent","_videoTextures","_sources","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","getInternalFormat","internalFormatName","glFormat","glType","getMipLevels","isFramebufferTexture","isCompressedTexture","filterFallback","deallocateTexture","onRenderTargetDispose","deallocateRenderTarget","textureProperties","__webglInit","webglTextures","__cacheKey","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","attachmentProperties","textureUnits","resetTextureUnits","textureUnit","getTextureCacheKey","slot","updateVideoTexture","__version","complete","uploadTexture","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","forceUpload","textureCacheKey","__currentVersion","pixelStorei","verifyColorSpace","glInternalFormat","mipmap","useTexStorage","allocateMemory","levels","isDepthTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","__hasExternalTextures","useMultisampledRTT","framebufferTexture2DMultisampleEXT","getRenderTargetSamples","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","renderbufferStorageMultisampleEXT","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","__autoAllocateDepthBuffer","createRenderbuffer","rebindTextures","colorTexture","setupRenderTarget","isMultipleRenderTargets","createFramebuffer","glTextureType","updateRenderTargetMipmap","updateMultisampleRenderTarget","invalidationArray","depthStyle","ignoreDepthValues","__ignoreDepthValues","invalidateFramebuffer","blitFramebuffer","__useRenderToTexture","WebGLUtils","HALF_FLOAT_OES","SRGB_ALPHA_EXT","COMPRESSED_SRGB_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR","COMPRESSED_RGBA_ASTC_5x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR","COMPRESSED_RGBA_ASTC_5x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR","COMPRESSED_RGBA_ASTC_6x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR","COMPRESSED_RGBA_ASTC_6x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR","COMPRESSED_RGBA_ASTC_8x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR","COMPRESSED_RGBA_ASTC_8x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR","COMPRESSED_RGBA_ASTC_8x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR","COMPRESSED_RGBA_ASTC_10x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR","COMPRESSED_RGBA_ASTC_10x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR","COMPRESSED_RGBA_ASTC_10x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR","COMPRESSED_RGBA_ASTC_10x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR","COMPRESSED_RGBA_ASTC_12x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR","COMPRESSED_RGBA_ASTC_12x12_KHR","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_RGBA_BPTC_UNORM_EXT","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","cameras","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","getHandSpace","joints","inputState","pinching","getTargetRaySpace","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","getGripSpace","disconnect","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","inputjoint","jointPose","getJointPose","jointName","joint","transform","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","getPose","targetRaySpace","DepthTexture","WebXRManager","framebufferScaleFactor","referenceSpaceType","customReferenceSpace","pose","glBinding","glProjLayer","glBaseLayer","xrFrame","getContextAttributes","initialRenderTarget","newRenderTarget","controllers","controllerInputSources","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","cameraAutoUpdate","isPresenting","getController","controller","getControllerGrip","getHand","onSessionEvent","controllerIndex","onSessionEnd","onInputSourcesChange","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setReferenceSpace","space","getBaseLayer","getBinding","getFrame","setSession","xrCompatible","makeXRCompatible","layerInit","antialias","XRWebGLLayer","updateRenderState","baseLayer","framebufferWidth","framebufferHeight","depthFormat","depthType","glDepthFormat","projectionlayerInit","colorFormat","XRWebGLBinding","createProjectionLayer","textureWidth","textureHeight","setFoveation","requestReferenceSpace","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","depthNear","depthFar","getCamera","getFoveation","fixedFoveation","foveation","onAnimationFrameCallback","getViewerPose","views","setRenderTargetFramebuffer","cameraVRNeedsUpdate","glSubImage","getViewSubImage","setRenderTargetTextures","depthStencilTexture","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","transmissionRenderTarget","refreshUniformsCommon","isMeshLambertMaterial","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","refreshUniformsStandard","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDistance","isMeshNormalMaterial","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","isWebGLRenderer","_context","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","_alpha","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","gammaFactor","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_transmissionRenderTarget","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","onContextCreationError","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","statusMessage","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","forEach","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","material2","getProgram","self","projectObject","camera2","renderScene","isLOD","opaqueObjects","transmissiveObjects","transparentObjects","renderTransmissionPass","renderObjects","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","boneTexture","computeBoneTexture","boneTextureSize","markUniformsLightsNeedsUpdate","defaultFramebuffer","__useDefaultFramebuffer","useDefaultFramebuffer","isRenderTarget3D","framebufferBound","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","readPixels","copyFramebufferToTexture","level","levelScale","copyTexSubImage2D","copyTextureToTexture","srcTexture","dstTexture","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","compressedTexSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","addLevel","getCurrentLevel","getObjectForDistance","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","skinIndex","boneIndex","bones","boneInverses","Bone","isBone","DataTexture","_offsetMatrix","_identityMatrix","Skeleton","boneMatrices","inverse","bone","getBoneByName","json","boneInverse","InstancedBufferAttribute","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getColorAt","getMatrixAt","raycastTimes","instanceId","setColorAt","setMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","computeLineDistances","lineDistances","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","FramebufferTexture","CompressedTexture","CanvasTexture","isCanvasTexture","Curve","arcLengthDivisions","getPoint","getPointAt","optionalTarget","getUtoTmapping","getPoints","divisions","getSpacedPoints","getLength","lengths","getLengths","cacheArcLengths","current","last","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","computeFrenetFrames","segments","closed","binormals","vec","mat","MAX_VALUE","tz","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","px","py","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","pts","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","concat","arc","absarc","absellipse","ellipse","firstPoint","lastPoint","LatheGeometry","phiStart","phiLength","initNormals","inverseSegments","curNormal","prevNormal","base","CapsuleGeometry","capSegments","radialSegments","CircleGeometry","thetaStart","thetaLength","segment","CylinderGeometry","radiusTop","radiusBottom","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","details","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Shape","holes","getPointsHoles","holesPts","extractPoints","hole","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","ShapeUtils","contour","isClockWise","triangulateShape","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","uvArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","shapePoints","reverse","hl","ahole","scalePt2","pt","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","geometryShapes","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","OctahedronGeometry","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TorusGeometry","tube","tubularSegments","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","frames","P","generateBufferData","generateSegment","generateIndices","WireframeGeometry","edges","o","ol","isUniqueEdge","hash1","hash2","Geometries","BoxBufferGeometry","CapsuleBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","_sheen","_clearcoat","_iridescence","_transmission","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","copySampleValue_","t1global","mid","intervalChanged_","interpolate_","getSettings_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","getInterpolation","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loadAsync","Promise","resolve","reject","setCrossOrigin","setWithCredentials","setPath","setResourcePath","setRequestHeader","loading","FileLoader","setTimeout","req","Request","headers","Headers","credentials","mimeType","responseType","fetch","then","response","ReadableStream","body","getReader","callbacks","reader","contentLength","total","lengthComputable","loaded","stream","readData","read","done","close","byteLength","ProgressEvent","enqueue","Response","statusText","arrayBuffer","blob","text","parser","DOMParser","parseFromString","re","label","decoder","TextDecoder","decode","catch","finally","setResponseType","setMimeType","AnimationLoader","CompressedTextureLoader","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","removeEventListeners","onImageError","CubeTextureLoader","urls","DataTextureLoader","texData","TextureLoader","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","getIrradianceAt","addScaledSH","getBasisAt","shBasis","LightProbe","MaterialLoader","getTexture","createMaterialFromType","shading","setTextures","materialLib","LoaderUtils","decodeText","fromCharCode","decodeURIComponent","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","parseAsync","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","parseImagesAsync","bufferGeometryLoader","loadImage","deserializeImage","imageArray","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","isInteger","objectAnimations","setTexturePath","ImageBitmapLoader","isImageBitmapLoader","createImageBitmap","setOptions","fetchOptions","res","colorSpaceConversion","imageBitmap","AudioContext","window","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","isHemisphereLightProbe","sky","ground","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","_projectionMatrix","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","accumulateAdditive","weightAdditive","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","create","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","substring","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","_getValue_direct","targetObject","_getValue_array","resolvedProperty","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","dest","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","targetArray","sourceArray","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","indicesByUUID","paths","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","action","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_controlInterpolantsResultBuffer","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","setType","setItemSize","setCount","Raycaster","setFromCamera","coords","intersectObject","ascSort","intersectObjects","Spherical","other","makeSafe","EPS","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","addLine","addPoint","colorFrustum","colorCone","colorUp","colorTarget","colorCross","setColors","colorAttribute","setPoint","_box","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","xAxisColor","yAxisColor","zAxisColor","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","tmpHoles","floatView","_floatView","uint32View","_uint32View","baseTable","_baseTable","shiftTable","_shiftTable","mantissaTable","_mantissaTable","exponentTable","_exponentTable","offsetTable","_offsetTable","_generateTables","toHalfFloat","val","fromHalfFloat","DataUtils","ParametricGeometry","TextGeometry","FontLoader","Font","ImmediateRenderObject","WebGLMultisampleRenderTarget","DataTexture2DArray","DataTexture3D","revision","__THREE__","_changeEvent","_startEvent","_endEvent","OrbitControls","touchAction","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","getDistance","listenToKeyEvents","onKeyDown","saveState","STATE","NONE","quat","quatInverse","lastPosition","lastQuaternion","twoPI","rotateLeft","getAutoRotationAngle","sphericalDelta","panOffset","zoomChanged","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","getSecondPointerPosition","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","setPointerCapture","pointerId","addPointer","pointerType","onTouchStart","onMouseDown","onTouchMove","onMouseMove","removePointer","releasePointerCapture","mouseAction","button","ctrlKey","metaKey","shiftKey","trackPointer","pointer","passive","MapControls","Stats","createElement","cssText","showPanel","addPanel","panel","appendChild","dom","beginTime","fpsPanel","Panel","msPanel","memPanel","begin","usedJSHeapSize","jsHeapSizeLimit","fg","bg","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","maxValue","ch2","durl","URL","createObjectURL","Blob","cwk","Worker","revokeObjectURL","encodeURI","wk","msg","transfer","onerror","onmessage","postMessage","u8","u16","u32","fleb","fdeb","clim","freb","eb","_a","fl","revfl","_b","fd","revfd","rev","hMap","cd","mb","le","co","rvb","sv","r_1","flt","fdt","flm","flrm","fdm","fdrm","bits16","shft","slc","inflt","dat","buf","st","noBuf","noSt","cbuf","bl","nbuf","final","pos","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","lms","dms","lpos","sym","dsym","wbits","wbits16","hTree","et","maxSym","tr","mbt","ln","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","wfblk","out","wblk","syms","lf","li","dlt","mlb","ddt","mdb","_c","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ftlen","dtlen","ll","dl","llm","lcts","it","clct","deo","dflt","lvl","plvl","pre","post","lst","opt","msk_1","head","bs1_1","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","nl","mmd","md","ti","pti","lin","din","crct","crc","cr","adler","dopt","mem","mrg","wcln","fnStr","td","ks","st_1","spInd","ch","cbfs","wrkr","fns","td_1","bInflt","inflateSync","pbf","gu8","bDflt","deflateSync","gze","gzh","gzhl","wbytes","guze","gzs","gzl","zle","zlh","zule","zlv","cbify","opts","terminate","consume","astrm","strm","ondata","ev","astrmify","b4","b8","filename","mtime","charCodeAt","flg","zs","lv","AsyncCmpStrm","Deflate","chunk","AsyncDeflate","deflate","Inflate","bts","AsyncInflate","inflate","Gzip","raw","AsyncGzip","gzip","gzipSync","Gunzip","AsyncGunzip","gunzip","gunzipSync","Zlib","AsyncZlib","zlib","zlibSync","Unzlib","AsyncUnzlib","unzlib","unzlibSync","compress","AsyncCompress","compressSync","Compress","Decompress","G","I","Z","_this_1","AsyncDecompress","decompress","decompressSync","fltn","TextEncoder","tds","dutf8","DecodeUTF8","np","EncodeUTF8","strToU8","str","latin1","ar_1","encode","ar","ai","strFromU8","ext","dbf","slzh","zh","fnl","es","z64e","sc","off","exfl","ex","wzh","extra","exl","os","flag","compression","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","attrs","exf","wzf","ZipPassThrough","process","ZipDeflate","AsyncZipDeflate","Zip","com","comment","header","chks","pAll","_i","chks_1","chk","ind","uf","nxt","dd","zip","tot","slft","term","tAll","cbf","oe","cdl","badd","loc","_loop_1","ms","cbl","zipSync","UnzipPassThrough","UnzipInflate","AsyncUnzipInflate","_","Unzip","onfile","toAdd","is","oc","_loop_2","sig","this_1","cmp_1","chks_2","sc_1","su_1","fn_1","d_1","file_1","ctr","chks_3","originalSize","state_1","register","unzip","_loop_3","c_1","no","infl","unzipSync","c_2","findSpan","U","calcBasisFunctions","span","saved","rv","temp","calcBSplinePoint","C","Nj","wNj","calcBasisFunctionDerivatives","zeroArr","ders","ndu","rk","pk","j1","j2","calcBSplineDerivatives","nd","du","CK","nders","Pw","calcKoverI","nom","calcRationalCurveDerivatives","Pders","Aders","wders","calcNURBSDerivatives","calcSurfacePoint","V","uspan","vspan","Nu","Nv","Sw","NURBSUtils","NURBSCurve","degree","knots","controlPoints","startKnot","endKnot","hpoint","fflate","fbxTree","connections","sceneGraph","FBXLoader","FBXBuffer","isFbxFormatBinary","BinaryParser","FBXText","convertArrayBufferToString","isFbxFormatASCII","getFbxVersion","TextParser","textureLoader","FBXTreeParser","parseConnections","deformers","parseDeformers","geometryMap","GeometryParser","parseScene","connectionMap","rawConnections","Connections","rawConnection","fromID","toID","relationship","parents","parentRelationship","ID","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","RelativeFilename","Filename","arrayBufferContent","Content","base64Content","parseImage","content","fileName","textureMap","textureNodes","parseTexture","textureNode","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","Scaling","Translation","FileName","materialMap","materialNodes","parseMaterial","materialNode","ShadingModel","parseParameters","BumpFactor","Diffuse","DiffuseColor","DisplacementFactor","Emissive","EmissiveColor","EmissiveFactor","Opacity","ReflectionFactor","Shininess","Specular","SpecularColor","LayeredTexture","DeformerNodes","Deformer","deformerNode","relationships","attrType","parseSkeleton","geometryID","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","transformLink","TransformLink","Indexes","Weights","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","modelMap","parseModels","modelNodes","Model","model","modelNode","setLookAtProperties","parentConnections","connection","bindSkeleton","createAmbientLight","transformData","parentMatrix","parentMatrixWorld","generateTransform","AnimationParser","buildSkeleton","createCamera","createLight","createMesh","createCurve","getTransformData","subBone","cameraAttribute","attr","NodeAttribute","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","innerWidth","innerHeight","AspectWidth","AspectHeight","FieldOfView","FocalLength","lightAttribute","LightType","Intensity","CastLightOnObject","FarAttenuationEnd","EnableFarAttenuation","InnerAngle","OuterAngle","CastShadows","FBX_Deformer","reduce","geo","inheritType","InheritType","eulerOrder","getEulerOrder","RotationOrder","translation","Lcl_Translation","preRotation","PreRotation","Lcl_Rotation","postRotation","PostRotation","Lcl_Scaling","scalingOffset","ScalingOffset","scalingPivot","ScalingPivot","rotationOffset","RotationOffset","rotationPivot","RotationPivot","lookAtTarget","bindMatrices","parsePoseNodes","geoRelationships","geoConnParent","BindPoseNode","Pose","NbPoseNodes","poseNodes","PoseNode","poseNode","Matrix","GlobalSettings","ambientColor","AmbientColor","geoNodes","Geometry","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","geoInfo","parseGeoNode","genBuffers","weightsIndices","vertexWeights","mappingType","prevMaterialIndex","currentIndex","lastGroup","addMorphTargets","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","UV","parseUVs","weightTable","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceNormals","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","getData","wt","wIndex","Weight","weightIndex","comparedWeight","comparedWeightIndex","comparedWeightArray","genFace","parentGeo","parentGeoNode","rawTarget","morphGeoNode","genMorphGeometry","morphPositionsSparse","morphPositions","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","Materials","materialIndices","Order","KnotVector","pointsValues","Form","animationClips","rawClips","parseClips","rawClip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","curveNode","rawCurves","animationCurve","KeyTime","convertFBXTimeToSeconds","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","layerCurveNodes","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","deformerID","morpherID","morphName","rawStacks","AnimationStack","rawTracks","generateTracks","positionTrack","generateVectorTrack","R","rotationTrack","generateRotationTrack","S","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","interpolateRotations","quaternionValues","morphNum","lastValue","prevValue","xIndex","yIndex","zIndex","xValue","yValue","zValue","valuesSpan","absoluteSpan","numSubIntervals","nextValue","initialTime","timeSpan","interval","nextTime","interpolatedTimes","interpolatedValues","inject","getPrevNode","nodeStack","currentIndent","getCurrentNode","getCurrentProp","currentProp","pushStack","popStack","setCurrentProp","currentPropName","allNodes","FBXTree","matchComment","matchEmpty","matchBeginning","matchProperty","parseNodeBegin","parseNodeProperty","parseNodePropertyContinued","nodeAttrs","parseNodeAttr","currentNode","contentLine","propName","propValue","parentName","parseNodeSpecialProperty","connProps","rest","elem","append","parseNumberArray","props","prop","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","BinaryReader","skip","getUint32","endOfContent","parseNode","getOffset","endOffset","getUint64","numProperties","nameLen","getUint8","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","getBoolean","getFloat64","getFloat32","getInt32","getInt64","getInt16","arrayLength","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","reader2","littleEndian","dv","nullByte","CORRECT","cursor","versionRegExp","dataArray","infoObject","tempEuler","tempVec","lTranslationM","lPreRotationM","lRotationM","lPostRotationM","lScalingM","lScalingPivotM","lScalingOffsetM","lRotationOffsetM","lRotationPivotM","lParentGX","lParentLX","lGlobalT","lLRM","lParentGRM","lParentTM","lParentGRSM","lParentGSM","lLSM","lGlobalRS","lParentLSM","lParentLSM_inv","lParentGSM_noLocal","lRotationPivotM_inv","lScalingPivotM_inv","lTransform","lLocalTWithAllPivotAndOffsetInfo","lGlobalTranslation","enums","TGALoader","tgaCheckHeader","image_type","TGA_TYPE_INDEXED","TGA_TYPE_RLE_INDEXED","colormap_length","colormap_size","colormap_type","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_TYPE_NO_DATA","pixel_size","tgaParse","use_rle","use_pal","pixel_data","palettes","pixel_total","tgaGetImageData8bits","y_start","y_step","y_end","x_start","x_step","x_end","colormap","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","getTgaRGBA","palette","flags","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_UL","TGA_ORIGIN_BL","TGA_ORIGIN_UR","TGA_ORIGIN_BR","use_grey","id_length","colormap_index","ColladaLoader","getElementsByTagName","xml","childNodes","parseStrings","parseFloats","parseInts","parseId","generateId","parseAsset","parseAssetUnit","upAxis","parseAssetUpAxis","textContent","parseLibrary","libraryName","buildLibrary","builder","build","getBuild","sources","samplers","channels","hasChildren","nodeType","parseSource","parseAnimationSampler","parseAnimationChannel","inputs","semantic","sid","arraySyntax","memberSyntax","member","sampler","buildAnimation","hasOwnProperty","inputId","INPUT","outputId","OUTPUT","outputSource","buildAnimationChannel","createKeyframeTracks","getAnimation","object3D","getNode","transforms","defaultMatrix","keyframes","prepareAnimationData","ascending","transformAnimationData","positionData","quaternionData","scaleData","keyframe","defaultValue","empty","createMissingKeyframes","getPrev","getNext","interpolate","parseAnimationClip","buildAnimationClip","animationTracks","getAnimationClip","parseController","skin","parseSkin","bindShapeMatrix","parseJoints","parseVertexWeights","vcount","buildController","buildSkin","skinIndices","skinWeights","BONE_LIMIT","jointOffset","JOINT","weightOffset","WEIGHT","jointSource","inverseSource","INV_BIND_MATRIX","jointCount","vertexSkinData","weightId","descending","init_from","buildImage","getImage","parseEffect","profile","parseEffectProfileCOMMON","effects","surfaces","parseEffectNewparam","technique","parseEffectTechnique","parseEffectExtra","parseEffectSurface","parseEffectSampler","parseEffectParameters","parseEffectParameter","parseEffectParameterTexture","parseEffectParameterTextureExtra","parseEffectParameterTextureExtraTechnique","parseEffectExtraTechniqueBump","parseEffectExtraTechnique","texcoord","buildEffect","getEffect","getTextureLoader","tgaLoader","buildMaterial","effect","textureObject","surface","wrapU","wrapV","offsetU","offsetV","repeatU","repeatV","parameter","float","transparency","techniques","parseCamera","optics","parseCameraOptics","parseCameraTechnique","parseCameraParameters","buildCamera","yfov","aspect_ratio","znear","zfar","ymag","xmag","aspectRatio","parseLight","parseLightTechnique","parseLightParameters","falloffAngle","buildLight","getLight","primitives","parseGeometryVertices","parseGeometryPrimitive","accessor","primitive","hasUV","inputname","groupPrimitives","checkUVCoordinates","uvsNeedsFix","buildGeometry","groupedPrimitives","primitiveType","buildGeometryType","materialKeys","input","prevLength","buildGeometryData","pushVector","sourceStride","tempColor","parseKinematicsModel","links","parseKinematicsTechniqueCommon","kinematicsModels","buildKinematicsModel","getKinematicsModel","parseKinematicsJoint","parseKinematicsLink","parseKinematicsJointParameter","limits","static","zeroPosition","middlePosition","attachments","parseKinematicsAttachment","parseKinematicsTransform","obj","parsePhysicsModel","rigidBodies","parsePhysicsRigidBody","physicsModels","parsePhysicsTechniqueCommon","inertia","mass","parseKinematicsScene","bindJointAxis","parseKinematicsBindJointAxis","kinematicsScenes","param","tmpJointIndex","jointIndex","buildKinematicsScene","getKinematicsScene","setupKinematics","kinematicsModelId","kinematicsSceneId","visualSceneId","visualScenes","kinematicsModel","kinematicsScene","visualScene","getVisualScene","jointMap","targetElement","collada","querySelector","parentVisualElement","parentElement","visualElement","visualElementName","buildTransformList","m0","kinematics","getJointValue","jointData","setJointValue","prepareNodes","instanceCameras","instanceControllers","instanceLights","instanceGeometries","instanceNodes","parseNodeInstance","hasNode","instances","instance","symbol","boneData","sortedBoneData","buildBoneHierarchy","hasVisualScene","processed","buildNode","instanceCamera","newObjects","buildObjects","instanceLight","fallbackMaterial","resolveMaterialBinding","instanceMaterials","parseVisualScene","buildVisualScene","setupAnimations","parserErrorToText","parserError","stack","TEXT_NODE","errorElement","errorText","asset","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsSheenExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsEmissiveStrengthExtension","GLTFMaterialsSpecularExtension","GLTFMaterialsIridescenceExtension","GLTFLightsExtension","GLTFMeshoptCompression","_onError","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","unregister","plugins","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","GLTFParser","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_IRIDESCENCE","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","KHR_MATERIALS_EMISSIVE_STRENGTH","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","_markDefs","nodeDefs","nodeIndex","nodeLength","nodeDef","_addNodeRef","_loadLight","lightIndex","dependency","lightDefs","lightDef","lightNode","innerConeAngle","outerConeAngle","createUniqueName","createNodeAttachment","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","extendMaterialParams","emissiveStrength","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","iridescenceFactor","iridescenceTexture","iridescenceIor","iridescenceThicknessTexture","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmissionTexture","thicknessFactor","thicknessTexture","colorArray","specularFactor","specularTexture","specularColorFactor","specularColorTexture","textureIndex","textureDef","loadTextureImage","isSupported","uri","handler","detectSupport","Image","onload","loadBufferView","bufferView","bufferViews","extensionDef","getDependency","supported","ready","byteOffset","byteStride","decodeGltfBuffer","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","decodePrimitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","extendTexture","texCoord","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFCubicSplineInterpolant","stride2","stride3","m1","_q","GLTFCubicSplineQuaternionInterpolant","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","targets","hasMorphNormal","hasMorphColor","pendingPositionAccessors","pendingNormalAccessors","pendingColorAccessors","pendingAccessor","meshDef","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","getNormalizedComponentScale","getImageURIMimeType","search","associations","primitiveCache","meshCache","cameraCache","lightCache","sourceCache","textureCache","nodeNamesUsed","isSafari","isFirefox","firefoxVersion","_invokeAll","beforeRoot","getDependencies","dependencies","scenes","afterRoot","skinDefs","skins","meshDefs","meshes","skinLength","ref","updateMappings","original","mappings","entries","_invokeOne","func","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","sourceIndex","sourceDef","promise","loadImageSource","webkitURL","sourceURI","isObjectURL","mapName","mapDef","gltfReference","assignFinalMaterial","useDerivativeTangents","useVertexColors","useFlatShading","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","sanitizedName","loadGeometries","createDracoPrimitive","addPrimitiveAttributes","geometryPromise","meshIndex","toTrianglesDrawMode","cameraIndex","cameraDef","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","interpolantType","createNodeMesh","meshPromise","sceneIndex","sceneDef","nodeIds","buildNodeHierarchy","reduceAssociations","reducedAssociations","nodeId","parentObject","pendingJoints","jointNodes","jointNode","computeBounds","boxScale","maxDisplacement","assignAttributeAccessor","gltfAttributeName","drawMode","numberOfTriangles","newIndices","newGeometry","_object_pattern","_material_library_pattern","_material_use_pattern","_map_use_pattern","_face_vertex_data_separator_pattern","_ab","_cb","_color","ParserState","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","mtllib","groupEnd","cloned","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","addColor","addDefaultUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ic","nLen","uvLen","addPointGeometry","vi","addLineGeometry","uvi","OBJLoader","setMaterials","trimStart","lineFirstChar","lineData","vertexData","faceVertices","vertexParts","lineParts","lineVertices","lineUVs","llen","pointData","hasPrimitives","hasVertexColors","createdMaterials","miLen","sourceMaterial","materialHash","materialLine","materialPoints","DDSLoader","loadMipmaps","dds","DDS_MAGIC","DDSD_MIPMAPCOUNT","DDSCAPS2_CUBEMAP","DDSCAPS2_CUBEMAP_POSITIVEX","DDSCAPS2_CUBEMAP_NEGATIVEX","DDSCAPS2_CUBEMAP_POSITIVEY","DDSCAPS2_CUBEMAP_NEGATIVEY","DDSCAPS2_CUBEMAP_POSITIVEZ","DDSCAPS2_CUBEMAP_NEGATIVEZ","fourCCToInt32","int32ToFourCC","loadARGBMip","dataOffset","dataLength","srcBuffer","byteArray","FOURCC_DXT1","FOURCC_DXT3","FOURCC_DXT5","FOURCC_ETC1","headerLengthInt","off_magic","off_size","off_flags","off_height","off_width","off_mipmapCount","off_pfFourCC","off_RGBBitCount","off_RBitMask","off_GBitMask","off_BBitMask","off_ABitMask","off_caps2","blockBytes","fourCC","isRGBAUncompressed","caps2","PLYLoader","propertyNameMapping","setPropertyNameMapping","parseHeader","patternHeader","headerText","headerLength","comments","objInfo","currentElement","make_ply_element_property","propertValues","countType","itemType","lineValues","lineType","parseASCIINumber","parseASCIIElement","parseASCII","faceVertexUvs","patternBody","currentElementCount","handleElement","postProcess","elementName","findAttrName","names","attrX","attrY","attrZ","attrNX","attrNY","attrNZ","attrS","attrT","attrR","attrG","attrB","vertex_indices","vertex_index","binaryRead","dataview","little_endian","getInt8","getUint16","binaryReadElement","parseBinary","STLLoader","isBinary","face_size","n_faces","expect","matchDataViewAt","query","hasColors","defaultR","defaultG","defaultB","normalX","normalY","normalZ","packedColor","vertexstart","componentIdx","patternSolid","patternFace","faceCounter","patternFloat","patternVertex","patternNormal","startVertex","endVertex","vertexCountPerFace","normalCountPerFace","ensureString","ensureBinary","array_buffer","binData","MTLLoader","setMaterialOptions","materialOptions","delimiter_pattern","materialsInfo","ss","materialCreator","MaterialCreator","setManager","baseUrl","materialsArray","nameLookup","converted","mn","covmat","save","lprop","normalizeRGB","ignoreZeroRGBs","materialName","getAsArray","createMaterial_","setMapForType","mapType","texParams","getTextureParams","invertTrProperty","matParams","items","pathSplit","getLoader","filePath","fileExtension","getObject","getMTLLoader","mtlLoader","default","cameraRotation","cameraUp","cameraLookAt","backgroundColor","typeof","backgroundAlpha","controlsOptions","webGLRendererOptions","mtlPath","showFps","textureImage","mouse","wrapper","controls","allLights","clock","requestAnimationId","loaderIndex","timer","objectPositionHasSet","mounted","WEB_GL_OPTIONS","el","beforeDestroy","watch","deep","methods","onResize","onMouseUp","onClick","onDblclick","pick","updateModel","updateRenderer","updateLights","item","updateControls","loaderObj","loadFilePath","loadMtl","addObject","animate","updateStats","onProcess","clearTimeout","addTexture","_texture","vue3dLoader","install","Vue","component"],"sourceRoot":""}